<!DOCTYPE html>
<!-- saved from url=(0054)https://xie.infoq.cn/article/e1fe295a68fdf41129a31c421 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- <geektime>1630552911656</geektime> -->
    
    
        <title>深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区</title>
        <meta name="description" content="本文为译文，内容尽可能保持和原文的一致性，如果翻译有误，欢迎批评指正。原文作者：Mariko Kosaka原文标题：Inside look at modern web browser (part 3)" id="metadesc">
    
    <meta name="keywords" content="web,浏览器,译文,内容,原文,一致性,翻译,有误,批评指正" id="metakeywords">
    <meta property="og:image" content="https://static001.infoq.cn/static/write/img/write-favicon.jpg">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    
        <link rel="icon" type="image/png" sizes="32x32" href="https://static001.infoq.cn/static/write/img/write-favicon.jpg">
        <link rel="icon" type="image/png" sizes="16x16" href="https://static001.infoq.cn/static/write/img/write-favicon.jpg">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="format-detection" content="telephone=no">
    <meta name="applicable-device" content="pc,mobile">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <link rel="canonical" href="https://xie.infoq.cn/article/e1fe295a68fdf41129a31c421">
    <meta property="og:title" content="深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区">
    <meta property="og:url" content="https://xie.infoq.cn/article/e1fe295a68fdf41129a31c421">
    <meta property="og:description" content="本文为译文，内容尽可能保持和原文的一致性，如果翻译有误，欢迎批评指正。原文作者：Mariko Kosaka原文标题：Inside look at modern web browser (part 3)">

    <script type="text/javascript" async="" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/js"></script><script type="text/javascript" async="" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/js(1)"></script><script async="" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/sensorsdata.min.js" charset="UTF-8"></script><script src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/hm.js"></script><script src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/hm(1).js"></script><script async="" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/analytics.js"></script><script src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/push.js"></script><script type="text/javascript" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/jweixin-1.4.0.js"></script>
    <script type="text/javascript" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/bufferLogger.1.0.8.min.js"></script>
    <script src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/dingtalk.open.js"></script>
    
        <script type="text/javascript" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/aliplayer-min.js"></script>
        <script type="text/javascript" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/hls.8361666e7e2690d988ff5fe775b62bbe.js"></script>
    
    <script type="text/javascript">
        if (!('flex' in document.documentElement.style) && !navigator.userAgent.match(/spider|googlebot|bingbot|geekbang|yahoo! Slurp/i)) {
            window.location.href = '//static001.geekbang.org/static/common/browser_update/index.html'
        }
    </script>
    <script>
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https'){
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else{
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script>
<link href="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/app.6a43a736.css" rel="stylesheet"><script charset="utf-8" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/chunk-codemirror.5b03effd.js"></script><link rel="stylesheet" type="text/css" href="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/chunk-katex.ce0dccd9.css"><script charset="utf-8" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/chunk-katex.7cd46588.js"></script><link rel="stylesheet" type="text/css" href="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/chunk-geek-editor.b88154cf.css"><script charset="utf-8" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/chunk-geek-editor.9ca1b5f5.js"></script><link rel="stylesheet" type="text/css" href="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/chunk-12b29e91.053549ea.css"><script charset="utf-8" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/chunk-12b29e91.2498db7d.js"></script><link rel="stylesheet" type="text/css" href="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/PageArticle.a57491c5.css"><script charset="utf-8" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/PageArticle.e9e2c618.js"></script><meta http-equiv="origin-trial" content="AymqwRC7u88Y4JPvfIF2F37QKylC04248hLCdJAsh8xgOfe/dVJPV3XS3wLFca1ZMVOtnBfVjaCMTVudWM//5g4AAAB7eyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjk1MTY3OTk5LCJpc1RoaXJkUGFydHkiOnRydWV9"></head>

<body youdao="bind">
<div data-v-b110a92e="" data-v-74dd5626="" id="layout" layout="" class="page-article-layout ready skin-base size-base" style="padding-bottom: 0px;"><div data-v-b110a92e="" layout-header-wrap="" class="layout-header-wrap"><div data-v-2c781bfe="" data-v-b110a92e="" class="common-header-pc"><div data-v-2c781bfe="" class="shim"></div><div data-v-2c781bfe="" class="header"><div data-v-2c781bfe="" class="wrap"><div data-v-2c781bfe="" class="layout-content header-content"><div data-v-2c781bfe="" class="logo"><a data-v-2c781bfe="" href="https://www.infoq.cn/" class="main-logo"><img data-v-2c781bfe="" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/logo.b51e49df.png" alt="logo"></a><a data-v-2c781bfe="" href="https://xie.infoq.cn/" class="sub-logo"><img data-v-2c781bfe="" src="data:image/png;base64,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" alt="logo"></a></div><div data-v-2c781bfe="" class="header-middle"><div data-v-2c781bfe="" class="nav"><ul data-v-2c781bfe=""><li data-v-2c781bfe=""><a data-v-2c781bfe="" href="https://xie.infoq.cn/" class="">首页</a></li><li data-v-2c781bfe=""><!----><a data-v-2c781bfe="" href="https://xie.infoq.cn/square/10" target="_blank" rel="" class=""> 活动🔥 </a></li><li data-v-2c781bfe=""><!----><a data-v-2c781bfe="" href="https://xie.infoq.cn/tag/1619/1/latest" target="_blank" rel="" class=""> ARTS </a></li><li data-v-2c781bfe=""><!----><a data-v-2c781bfe="" href="https://xie.infoq.cn/tag/3" target="_blank" rel="" class=""> Java </a></li><li data-v-2c781bfe=""><!----><a data-v-2c781bfe="" href="https://xie.infoq.cn/tag/211" target="_blank" rel="" class=""> 开源 </a></li><li data-v-2c781bfe=""><!----><a data-v-2c781bfe="" href="https://xie.infoq.cn/tag/238" target="_blank" rel="" class=""> 架构 </a></li><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></ul><div data-v-2c781bfe="" class="more"> 全部标签 <i data-v-2c781bfe="" class="iconfont"></i></div></div><div data-v-2c781bfe="" class="search-container"><div data-v-2c781bfe="" class="search-wrap"><input data-v-2c781bfe="" type="text" placeholder="搜索" class="search-input"><span data-v-2c781bfe="" class="search-btn iconfont"></span></div></div><!----><div data-v-2c781bfe="" class="write-btn-warp"><div data-v-2c781bfe="" gk-button="" gkbtn-color="green" gkbtn-size="small" class="write-btn Button_button_3onsJ"> 写点什么 </div><div data-v-2c781bfe="" class="scene" style=""><h4 data-v-2c781bfe=""><i data-v-2c781bfe="" class="iconfont"></i>创作场景</h4><div data-v-2c781bfe="" class="close"><i data-v-2c781bfe="" class="iconfont"></i></div><ul data-v-2c781bfe=""><li data-v-2c781bfe="">记录自己日常工作的实践、心得</li><li data-v-2c781bfe="">发表对生活和职场的感悟</li><li data-v-2c781bfe="">针对感兴趣的事件发表随笔或者杂谈</li><li data-v-2c781bfe="">从0到1详细介绍你掌握的一门语言、一个技术，或者一个兴趣、爱好</li><li data-v-2c781bfe="">或者，就直接把你的个人博客、公众号直接搬到这里</li></ul></div></div></div><div data-v-2c781bfe="" class="account"><span data-v-2c781bfe="" class="route">登录</span><span data-v-2c781bfe="" class="line"></span><span data-v-2c781bfe="" class="route">注册</span></div></div></div><div data-v-2c781bfe="" class="more-tags"><div data-v-2c781bfe="" class="inner-content"><div data-v-4300d745="" data-v-2c781bfe="" class="com-label-list"><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/9434" com-label-title="" class="com-label-title">OpenHarmony</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/303" com-label-title="" class="com-label-title">算法</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/14135" com-label-title="" class="com-label-title">元宇宙</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/84" com-label-title="" class="com-label-title">MySQL</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/5237" com-label-title="" class="com-label-title">移动开发</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/221" com-label-title="" class="com-label-title">学习方法</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/17178" com-label-title="" class="com-label-title">Web3.0</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/203" com-label-title="" class="com-label-title">高效工作</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/92" com-label-title="" class="com-label-title">数据库</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/8" com-label-title="" class="com-label-title">Python</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/661" com-label-title="" class="com-label-title">音视频</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/371" com-label-title="" class="com-label-title">前端</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/242" com-label-title="" class="com-label-title">AI</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/143" com-label-title="" class="com-label-title">大数据</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/204" com-label-title="" class="com-label-title">团队管理</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/232" com-label-title="" class="com-label-title">程序员</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/317" com-label-title="" class="com-label-title">运维</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/200" com-label-title="" class="com-label-title">深度思考</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/1081" com-label-title="" class="com-label-title">低代码</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/97" com-label-title="" class="com-label-title">redis</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/19" com-label-title="" class="com-label-title">golang</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/294" com-label-title="" class="com-label-title">微服务架构</a><a data-v-4426e0e8="" data-v-4300d745="" href="https://xie.infoq.cn/tag/21" com-label-title="" class="com-label-title">flutter</a><a data-v-2c781bfe="" data-v-4300d745="" href="https://xie.infoq.cn/tag" target="_blank" class="more-tag com-label-title"> 查看更多 <i data-v-2c781bfe="" data-v-4300d745="" class="iconfont"></i></a></div></div></div></div></div></div><div data-v-b110a92e="" inner-content="" class="inner-content"><!----><!----><!----><div data-v-74dd5626="" data-v-b110a92e="" class="layout-content article-content"><div data-v-74dd5626="" class="article-fixed-wrap" data-v-b110a92e="" style="width: 150px;"><div data-v-74dd5626="" class="side-operation" style="top: 91px;"><!----></div></div><div data-v-74dd5626="" data-v-b110a92e="" class="main"><!----><!----><h1 data-v-74dd5626="" data-v-b110a92e="" class="article-title">深入了解现代 web 浏览器（第三部分）</h1><div data-v-74dd5626="" data-v-b110a92e="" class="author-information"><div data-v-74dd5626="" data-v-b110a92e="" class="row"><div data-v-74dd5626="" data-v-b110a92e="" class="author-name"> 作者：<span data-v-3bc80670="" data-v-6281d13f="" data-v-74dd5626="" class="ctn" data-v-b110a92e=""><a data-v-3bc80670="" rel="nofollow" com-author-name="" class="com-author-name">GKNick</a><!----></span></div></div><div data-v-74dd5626="" data-v-b110a92e="" class="row article-head"><ul data-v-74dd5626="" data-v-b110a92e="" class="read-time"><li data-v-74dd5626="" data-v-b110a92e="">2021-09-01  <!----></li><li data-v-74dd5626="" data-v-b110a92e=""><p data-v-74dd5626="" data-v-b110a92e="" class="time-style">本文字数：4112 字 </p><!----><p data-v-74dd5626="" data-v-b110a92e="" class="time-style">阅读完需：约 13 分钟</p></li></ul></div></div><!----><div data-v-74dd5626="" data-v-b110a92e="" class="article-detaile"><div data-v-fbbc0218="" data-v-74dd5626="" class="article-preview-content size-base" data-v-b110a92e=""><div data-v-fbbc0218="" data-type="doc" class="article-preview"><div contenteditable="false" translate="no" class="ProseMirror"><blockquote data-type="blockquote"><p data-type="paragraph">本文为译文，内容尽可能保持和原文的一致性，如果翻译有误，欢迎批评指正。</p><p data-type="paragraph">原文作者：Mariko Kosaka</p><p data-type="paragraph">原文标题：Inside look at modern web browser (part 3)</p><p data-type="paragraph">原文链接：<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fdevelopers.google.com%2Fweb%2Fupdates%2F2018%2F09%2Finside-browser-part3" title="" data-type="link">https://developers.google.com/web/updates/2018/09/inside-browser-part3</a><br class="ProseMirror-trailingBreak"></p></blockquote><h3 data-id="heading0" data-type="heading" top="311.5">渲染器进程的内部工作原理</h3><p data-type="paragraph">这是关于浏览器如何工作的 4 部分博客系列的第 3 部分。之前我们介绍了多进程架构和导航流。在这篇文章中，我们将看看渲染器进程内部发生了什么。</p><p data-type="paragraph">渲染器过程涉及 Web 性能的许多方面。由于渲染器进程内部发生了很多事情，这篇文章只是一个概括性的概述。如果你想深入挖掘，<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fdevelopers.google.com%2Fweb%2Ffundamentals%2Fperformance%2Fwhy-performance-matters" title="" data-type="link">Web 基础知识的性能部分</a>有更多资源。</p><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><h3 data-id="heading1" data-type="heading" top="532">渲染器进程处理 Web 内容</h3><p data-type="paragraph">渲染器进程负责选项卡内发生的所有事情。在渲染器进程中，主线程处理你发送给用户的大部分代码。如果你使用 Web Worker 或 Service Worker，有时部分 JavaScript 由工作线程处理。合成器和光栅线程也在渲染器进程内运行，以高效流畅地渲染页面。</p><p data-type="paragraph">渲染器进程的核心工作是将 HTML、CSS 和 JavaScript 转换为用户可以与之交互的网页。</p><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><div data-type="image"><div data-content="" data-style-width="75%" data-style-bordertype="none"><img src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/bdfa66a4ef1fbd2805797bc4cd90f8d8.png"> <!----></div></div><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><p data-type="paragraph"><strong data-type="strong">图 1：内部有主线程、工作线程、合成器线程和光栅线程的渲染器进程</strong></p><h3 data-id="heading2" data-type="heading" top="861.5">解析</h3><h4 data-id="heading3" data-type="heading" top="931.5">DOM 的构建</h4><p data-type="paragraph">当渲染器进程收到导航的提交消息并开始接收 HTML 数据时，主线程开始解析文本字符串（HTML）并将其转换为文档对象模型（<strong data-type="strong">DOM</strong>）。</p><p data-type="paragraph">DOM 是浏览器对页面的内部表示，也是 Web 开发人员可以通过 JavaScript 与之交互的数据结构和 API。</p><p data-type="paragraph">将 HTML 文档解析为 DOM 是由 <a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fhtml.spec.whatwg.org%2F" title="" data-type="link">HTML 标准</a>定义的。你可能已经注意到，向浏览器提供 HTML 永远不会引发错误。例如，缺少结束 &lt;/p&gt; 标记是有效的 HTML。错误的标记，比如 Hi!&lt;b&gt;I'm &lt;i&gt;Chrome&lt;/b&gt;!&lt;/i&gt;（b 标签在 i 标签之前关闭）被当作你写的 Hi!&lt;b&gt;I'm &lt;i&gt;Chrome&lt;/i&gt;&lt;/b&gt;&lt;i&gt;!&lt;/i&gt;。这是因为 HTML 规范旨在优雅地处理这些错误。如果你对这些事情是如果完成的感到好奇，你可以阅读 HTML 规范的“<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fhtml.spec.whatwg.org%2Fmultipage%2Fparsing.html%23an-introduction-to-error-handling-and-strange-cases-in-the-parser" title="" data-type="link">解析器中的错误处理和奇怪情况简介</a>”部分。</p><h4 data-id="heading4" data-type="heading" top="1209">子资源加载</h4><p data-type="paragraph">网站通常使用图像、CSS 和 JavaScript 等外部资源。这些文件需要从网络或缓存加载。主线程可以在解析构建 DOM 的过程中找到它们后一一请求，但为了加快速度，“预加载扫描器”是并发运行的。如果 HTML 文档中存在 <strong data-type="strong">&lt;img&gt;</strong> 或者 <strong data-type="strong">&lt;link&gt; </strong>之类的内容，则预加载扫描器会查看 HTML 解析器生成的令牌，并将请求发送到浏览器进程中的网络线程。</p><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><div data-type="image"><div data-content="" data-style-width="75%" data-style-bordertype="none"><img src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/fa689d6a31b8687522c58774c8d9d064.png"> <!----></div></div><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><p data-type="paragraph"><strong data-type="strong">图 2：主线程解析 HTML 并构建 DOM 树</strong></p><h4 data-id="heading5" data-type="heading" top="1505.5">JavaScript 可以阻止解析</h4><p data-type="paragraph">当 HTML 解析器遇到 &lt;script&gt; 标签是，它会暂停 HTML 文档的解析，并必须加载、解析和执行 JavaScript 代码。为什么？因为 JavaScript 可以使用诸如 document.write() 之类的东西来改变文档的形状，这回改变整个 DOM 结构（HTML 规范中的<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fhtml.spec.whatwg.org%2Fmultipage%2Fparsing.html%23overview-of-the-parsing-model" title="" data-type="link">解析模型概述</a>有一个很好的图表）。这就是 HTML 解析器必须等待 JavaScript 运行才能继续解析 HTML 文档的原因。如果你对 JavaScript 执行中发生的事情感到好奇，<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fmathiasbynens.be%2Fnotes%2Fshapes-ics" title="" data-type="link">V8 团队有演讲以及有相关博客</a>。</p><h3 data-id="heading6" data-type="heading" top="1692.5">提示浏览器你希望如何加载资源</h3><p data-type="paragraph">Web 开发人员可以通过多种方式向浏览器发送提示以很好地加载资源。如果你的 JavaScript 不使用 <strong data-type="strong">document.write() </strong>，你可以向 <strong data-type="strong">&lt;script&gt;</strong> 标签添加<strong data-type="strong"> async</strong> 或者 <strong data-type="strong">defer </strong>属性。这样子浏览器会异步加载和运行 JavaScript 代码，并且不会阻止解析，如果合适，你也可以使用 JavaScript 模块。&lt;link rel="preload"&gt; 是一种通知浏览器当前导航肯定需要该资源并且你希望尽快下载的方式。你可以在<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fmathiasbynens.be%2Fnotes%2Fshapes-ics" title="" data-type="link">资源优先级 - 让浏览器帮助你</a>阅读更多相关信息。</p><h3 data-id="heading7" data-type="heading" top="1884">样式计算</h3><p data-type="paragraph">拥有 DOM 并不足以知道页面是什么样子，因为我们可以在 CSS 中设置页面元素的样式。主线程解析 CSS 并确定每个 DOM 节点的计算样式。这是关于基于 CSS 选择器将哪种样式应用于每个元素的信息。你可以在 DevTools 的计算部分看到此信息。</p><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><div data-type="image"><div data-content="" data-style-width="75%" data-style-bordertype="none"><img src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/fb7d195814a04c6ed98eab8dbda477c6.png"> <!----></div></div><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><p data-type="paragraph"><strong data-type="strong">图 3：主线程解析 CSS 添加计算样式</strong></p><h3 data-id="heading8" data-type="heading" top="2183.5">布局</h3><p data-type="paragraph">现在渲染器进程知道文档的结构和每个节点的样式，但这还不足以渲染页面。想象一下，你正试图通过电话向你的朋友描述一幅画。“有一个大的红色圆圈和一个小的蓝色方块”不足以让你的朋友知道这幅画究竟是什么样子。</p><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><div data-type="image"><div data-content="" data-style-width="75%" data-style-bordertype="none"><img src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/0658494542e14f7db66b913c02c03202.png"> <!----></div></div><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><p data-type="paragraph"><strong data-type="strong">图 4：一个人站在一幅画面前，电话线与与另一个人相连</strong></p><p data-type="paragraph">布局是一个寻找元素几何形状的过程。主线程遍历 DOM 和计算样式，并创建布局树其中包含 x y 坐标和边界框大小等信息。布局树可能和 DOM 树的结构相似，但是它只包含与页面上可见的内容相关的信息。如果<strong data-type="strong"> display: none </strong>被应用，该元素不是布局树的一部分（但是，一个元素使用 <strong data-type="strong">visibility: hidden</strong> 那么这个元素还是布局树的一部分）。相同的，如果应用了内容类似于<strong data-type="strong"> p:before{content: "Hi!"} </strong>的伪类，即使它不在 DOM 中，它也会包含在 布局树中。</p><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><div data-type="image"><div data-content="" data-style-width="75%" data-style-bordertype="none"><img src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/0c1de85206f0d177f93a70931a0f8272.png"> <!----></div></div><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><p data-type="paragraph"><strong data-type="strong">图 5：主线程使用计算样式遍历 DOM 树并生成布局树</strong></p><p data-type="paragraph">确定页面的布局是一项具有挑战性的任务。即使是简单的页面布局，比如从上到下的快流，也必须考虑字体有多大以及在哪里运行，因为这些会影响段落的大小和形状；这会影响下一个段落需要放在哪里。</p><p data-type="paragraph">CSS 可以是元素浮动到一侧，屏蔽溢出项，并改变书写的方向。可想而知，这个布局阶段任务艰巨。在 Chrome 中，整个工程师团队负责布局，如果你想查看他们工作的详细信息，<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DY5Xa4H2wtVA" title="" data-type="link">BlinkOn Conference 的一些演讲</a>被记录下来并且非常有趣。</p><p data-type="paragraph"><a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fplayer.bilibili.com%2Fplayer.html%3Fbvid%3Dbv11M4y137gQ" title="" data-type="link">https://player.bilibili.com/player.html?bvid=bv11M4y137gQ</a><br class="ProseMirror-trailingBreak"></p><p data-type="paragraph"><strong data-type="strong">图 6：由于换行符更改而移动的段落框布局</strong></p><h3 data-id="heading9" data-type="heading" top="2925.5">绘制</h3><p data-type="paragraph">拥有 DOM、样式和布局仍然不足以渲染页面。假设你正在尝试复制一幅画，你知道元素的大小、形状和位置，但你仍然需要判断你绘制它们的顺序。</p><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><div data-type="image"><div data-content="" data-style-width="75%" data-style-bordertype="none"><img src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/d8fe81b968531c8b3d4767006ea9725d.png"> <!----></div></div><p data-type="paragraph"><strong data-type="strong">图 7：一个人在画布前拿着画笔，不知道是先画圆还是先画正方形</strong></p><p data-type="paragraph">例如，可能会为某些元素设置 <strong data-type="strong">z-index</strong>，在这种情况下，按照 HTML 中编写的元素顺序绘制将导致不正确。</p><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><div data-type="image"><div data-content="" data-style-width="75%" data-style-bordertype="none"><img src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/785924a8744dfda1428cc692e2c3f411.png"> <!----></div></div><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><p data-type="paragraph"><strong data-type="strong">图 8：页面元素按 HTML 标记的顺序出现，导致渲染错误，因为没有考虑 z-index</strong></p><p data-type="paragraph">在此绘制步骤中，主线程遍历布局树以创建绘制记录。绘制记录是对“先背景，后文字，再矩形”的绘画过程的记录。如果你使用 JavaScript 在 &lt;canvas&gt; 元素上绘图，那么你可能得熟悉这个过程。</p><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><div data-type="image"><div data-content="" data-style-width="75%" data-style-bordertype="none"><img src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/a68fd128fc59b9b2bed3511fcf223c94.png"> <!----></div></div><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><p data-type="paragraph"><strong data-type="strong">图 9：主线程遍历布局树并生成绘制记录</strong></p><h4 data-id="heading10" data-type="heading" top="3534.5">更新渲染管道的成本很高</h4><p data-type="paragraph">渲染管线中最重要的一点是，在每一步都使用前一操作的结果来创建新数据。例如，如果布局树中的某些内容发生了变化，则需要为文档的受影响部分重新生成绘制顺序。</p><p data-type="paragraph"><a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fplayer.bilibili.com%2Fplayer.html%3Fbvid%3Dbv1W44y187u8" title="" data-type="link">https://player.bilibili.com/player.html?bvid=bv1W44y187u8</a><br class="ProseMirror-trailingBreak"></p><p data-type="paragraph"><strong data-type="strong">图 10：DOM+Style、Layout 和 Paint 树的生成顺序</strong></p><p data-type="paragraph">如果你正在为元素设置动画，则浏览器必须在每一帧之间运行这些操作。我们的大多数显示器每秒刷新屏幕 60 次（60fps）;当每一帧在屏幕上移动物体时，动画对人眼来说会显得平滑。</p><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><div data-type="image"><div data-content="" data-style-width="75%" data-style-bordertype="none"><img src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/fbcb48cd931be64c96ac87a3fa1ee177.png"> <!----></div></div><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><p data-type="paragraph"><strong data-type="strong">图 11：时间线上的动画帧</strong></p><p data-type="paragraph">即使你的渲染操作跟上屏幕刷新，这些计算也在主线程上运行，这意味着当你的应用程序运行 JavaScript 时，它可能会被阻止。</p><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><div data-type="image"><div data-content="" data-style-width="75%" data-style-bordertype="none"><img src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/6e35a283b1b93f266a18f739475db1ea.png"> <!----></div></div><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><p data-type="paragraph"><strong data-type="strong">图 12：时间轴上的动画帧，但其中一帧被 JavaScript 阻止</strong></p><p data-type="paragraph">你可以将 JavaScript 操作分成小块，并使用 <strong data-type="strong">requestAnimationFrame() </strong>安排在每一帧运行。有关此主题的更多信息，请参阅<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fdevelopers.google.com%2Fweb%2Ffundamentals%2Fperformance%2Frendering%2Foptimize-javascript-execution" title="" data-type="link">优化 JavaScript 执行</a>。你还可以<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DX57mh8tKkgE" title="" data-type="link">在 Web Workers 中运行 JavaScript</a>以避免阻塞主线程。</p><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><div data-type="image"><div data-content="" data-style-width="75%" data-style-bordertype="none"><img src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/7b1959d9953869798ba89282c6533bd2.png"> <!----></div></div><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><h3 data-id="heading11" data-type="heading" top="4290.5">合成</h3><h4 data-id="heading12" data-type="heading" top="4360.5">你会怎么画一个页面？</h4><p data-type="paragraph">既然浏览器知道了文档的结构、每个元素的样式、页面的几何形状和绘制顺序，它如何绘制页面？将此信息转换为屏幕上的像素称为光栅化。</p><p data-type="paragraph">也许处理这个问题的一种天真的方法是在视口内对部分进行光栅化。如果用户滚动页面，则移动光栅框架，并通过更多光栅填充缺失的部分。这就是 Chrome 在首次发布时处理光栅化的方式。然而，现代浏览器运行一个更复杂的过程，称为合成。</p><p data-type="paragraph"><a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fplayer.bilibili.com%2Fplayer.html%3Fbvid%3Dbv1mq4y1K7id" title="" data-type="link">https://player.bilibili.com/player.html?bvid=bv1mq4y1K7id</a><br class="ProseMirror-trailingBreak"></p><p data-type="paragraph"><strong data-type="strong">图 14：简单光栅化过程的动画</strong></p><h4 data-id="heading13" data-type="heading" top="4637.5">什么是合成？</h4><p data-type="paragraph">合成是一种将页面的各个部分分成多个层、单独光栅化它们并在称为合成器线程的单独线程中合成为一个页面的技术。如果发生滚动，因为图层已经被光栅化，它所要做的就是合成一个新的帧。动画可以通过移动图层并合成新帧以相同的方式实现。</p><p data-type="paragraph">你可以使用<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fblog.logrocket.com%2Feliminate-content-repaints-with-the-new-layers-panel-in-chrome-e2c306d4d752%2F%3Fgi%3Dcd6271834cea" title="" data-type="link">图层面板</a>在 DevTools 中查看你的网站如何划分为多个图层。</p><p data-type="paragraph"><a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fplayer.bilibili.com%2Fplayer.html%3Fbvid%3Dbv1tA411c7ZP" title="" data-type="link">https://player.bilibili.com/player.html?bvid=bv1tA411c7ZP</a><br class="ProseMirror-trailingBreak"></p><p data-type="paragraph"><strong data-type="strong">图 15：合成过程动画</strong></p><h4 data-id="heading14" data-type="heading" top="4885">分层</h4><p data-type="paragraph">为了找出哪些元素需要在哪些层中，主线程遍历布局树以创建层树（这部分在 DevTools 性能面板中称为“更新层树”）。如果页面的某些部分应该是单独的层（如滑入式侧边菜单）没有得到，那么你可以通过在 CSS 中使用 <strong data-type="strong">will-change</strong> 属性来提示浏览器。</p><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><div data-type="image"><div data-content="" data-style-width="75%" data-style-bordertype="none"><img src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/b08901dee7af151982f600e6a7a6ba43.png"> <!----></div></div><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><p data-type="paragraph"><strong data-type="strong">图 16：主线程遍历布局树生成层树</strong></p><p data-type="paragraph">你可能很想为每个元素提供图层，但是与在每一帧中光栅化页面的小部分相比，在过多的图层上进行合成可能会导致操作更慢，因此，衡量应用程序的渲染性能至关重要。有关主题的更多信息，请参阅<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fdevelopers.google.com%2Fweb%2Ffundamentals%2Fperformance%2Frendering%2Fstick-to-compositor-only-properties-and-manage-layer-count" title="" data-type="link">坚持仅合成器属性和管理图层计算</a>。</p><h4 data-id="heading15" data-type="heading" top="5271.5">主线程的光栅化和复合化</h4><p data-type="paragraph">一旦创建了层树并确定了绘制顺序，主线程就会将该信息提交给合成器线程。然后合成线程光栅化每一层，一个图层可能像页面的整个长度一样大，因此合成器线程将它们分成多个图块并将每个图块发送到光栅线程。光栅线程光栅化每个瓦片并将它们存储在 GPU 内存中。</p><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><div data-type="image"><div data-content="" data-style-width="75%" data-style-bordertype="none"><img src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/371b5fa654d59f0c8ccb2f4f0658c20a.png"> <!----></div></div><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><p data-type="paragraph"><strong data-type="strong">图 17：创建切片位图并发送到 GPU 的光栅线程</strong></p><p data-type="paragraph">合成器线程可以对不同的的光栅线程进行优先排序，以便可以首先对视口内（或附近）的事物进行光栅化。一个图层也有不同分辨率的平铺来处理诸如放大操作之类的动作。</p><p data-type="paragraph">对切片进行光栅化后，合成器线程会收集成为<strong data-type="strong">绘制四边形</strong>的切片信息以创建<strong data-type="strong">合成器框架</strong>。</p><div data-type="embedcomp"><div></div></div><p data-type="paragraph">然后通过 IPC 将合成器框架提交给浏览器进程。此时，可以从用于浏览器 UI 更改的 UI 线程或用于扩展的其他渲染器进程添加另一个合成器框架。这些合成器帧被发送到 GPU 以将其显示在屏幕上。如果出现滚动事件，合成器线程会创建另一个合成器帧以发送到 GPU。</p><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><div data-type="image"><div data-content="" data-style-width="75%" data-style-bordertype="none"><img src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/397d4949099dd6d1aaffcb55e8678e37.png"> <!----></div></div><p data-type="paragraph"><br class="ProseMirror-trailingBreak"></p><p data-type="paragraph"><strong data-type="strong">图 18：合成器线程创建合成框架，帧被发送到浏览器进程然后到 GPU</strong></p><p data-type="paragraph">合成的好处是它是在不涉及主线程的情况下完成的，合成器线程不需要等待样式计算或 JavaScript 执行。这就是为什么<a href="https://xie.infoq.cn/link?target=https%3A%2F%2Fwww.html5rocks.com%2Fen%2Ftutorials%2Fspeed%2Fhigh-performance-animations%2F" title="" data-type="link">只合成动画</a>被认为是获得流畅性能的最佳选择。如果需要重新计算布局或绘制，则必须涉及主线程。</p><h3 data-id="heading16" data-type="heading" top="5947.5">总结</h3><p data-type="paragraph">在这篇文章中，我们研究了从解析到合成的渲染管道，希望你现在有权阅读有关网站性能优化的更多信息。</p><p data-type="paragraph">在本系列的下一篇也是最后一篇文章中，我们将详细的研究合成器线程，看看当鼠标移动和点击等用户输入进来时会发生什么。</p><p data-type="paragraph">你喜欢这篇文章吗？如果您对以后的帖子有任何问题或建议，我很乐意在下面的评论部分或 Twitter 上的 @kosamari 收到您的来信。</p></div></div><div data-v-759cadff="" data-v-fbbc0218="" class="selection-operation-bar note-bar popup-note-menu down"><div data-v-759cadff="" class="arrow down"></div><div data-v-759cadff="" class="main"><div data-v-759cadff="" class="menu line"><i data-v-a949bb52="" data-v-759cadff="" class="com-icon iconfont icon-hover" style="font-size: 20px; color: rgb(255, 255, 255);"></i><span data-v-759cadff="" class="text">划线</span></div><!----><div data-v-759cadff="" class="menu comment"><i data-v-a949bb52="" data-v-759cadff="" class="com-icon iconfont icon-hover" style="font-size: 20px; color: rgb(255, 255, 255);"></i><span data-v-759cadff="" class="text">评论</span></div><div data-v-759cadff="" class="menu copy"><i data-v-a949bb52="" data-v-759cadff="" class="com-icon iconfont icon-hover" style="font-size: 20px; color: rgb(255, 255, 255);"></i><span data-v-759cadff="" class="text">复制</span></div></div></div></div></div><div data-v-74dd5626="" data-v-b110a92e="" class="author-information after-content"><div data-v-74dd5626="" data-v-b110a92e="" class="row"><span data-v-74dd5626="" data-v-b110a92e="" class="date">发布于: 2021-09-01</span><span data-v-74dd5626="" data-v-b110a92e="" class="views">阅读数: 189</span></div></div><div data-v-74dd5626="" data-v-b110a92e="" class="copyright"><p data-v-74dd5626="" data-v-b110a92e="">版权声明: 本文为 InfoQ 作者【GKNick】的原创文章。</p><p data-v-74dd5626="" data-v-b110a92e="">原文链接:【<a href="https://xie.infoq.cn/article/e1fe295a68fdf41129a31c421" target="_blank">https://xie.infoq.cn/article/e1fe295a68fdf41129a31c421</a>】。文章转载请联系作者。</p></div><!----><!----><div data-v-affe19d2="" data-v-74dd5626="" author-card="" class="com-author-card author-info" data-v-b110a92e=""><div data-v-affe19d2="" class="author-card"><div data-v-affe19d2="" class="top"><div data-v-affe19d2="" class="avatar"><div data-v-7b3025e7="" data-v-affe19d2="" class="com-avatar-wrap"><img data-v-7b3025e7="" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/26b7e89b.jpg" alt="用户头像" class="com-avatar" style="width: 55px; height: 55px;"><!----></div></div><div data-v-affe19d2="" class="info"><div data-v-affe19d2="" class="top"><h3 data-v-affe19d2="" class="author-name"><span data-v-3bc80670="" data-v-6281d13f="" data-v-affe19d2="" class="ctn"><a data-v-3bc80670="" rel="nofollow" com-author-name="" class="com-author-name">GKNick</a><!----></span></h3><div data-v-d2847db8="" data-v-affe19d2="" gk-button="" gkbtn-color="unfollow" gkbtn-size="small" class="geek-foll-btn Button_button_3onsJ" follow-button="" data-follow="0"><i data-v-affe19d2="" class="iconfont"></i>关注</div></div><p data-v-affe19d2="" class="mood"> 好学若饥、谦卑若愚 <span data-v-affe19d2="" class="dot"></span> 2018-12-12 加入</p></div></div><!----><p data-v-affe19d2="" class="intro">一个热爱美食也钟爱做美食的前端菜鸟</p></div></div><div data-v-4a51d84b="" data-v-74dd5626="" class="widget-operation-bottom widget-operation inner" info="[object Object]" wxshareurl="https://xie.infoq.cn/article/e1fe295a68fdf41129a31c421" data-v-b110a92e=""><!----><div data-v-4a51d84b="" class="like btn"><i data-v-4a51d84b="" class="iconfont"></i><!----></div><div data-v-4a51d84b="" class="favorite btn"><i data-v-4a51d84b="" class="iconfont"></i></div><!----><div data-v-4a51d84b="" class="weixin btn"><span data-v-4a51d84b="" class="gkui-popup share-popup-top share-popup"><i data-v-4a51d84b="" class="iconfont"></i><!----></span></div><div data-v-4a51d84b="" class="weibo btn"><i data-v-4a51d84b="" class="iconfont"></i></div><div data-v-4a51d84b="" class="horde btn"><i data-v-4a51d84b="" class="iconfont"></i></div><div data-v-4a51d84b="" data-self="2" data-label="举报" class="extra btn"><i data-v-4a51d84b="" class="iconfont"></i></div><!----></div><!----><div data-v-baace8a4="" data-v-74dd5626="" class="article-comment-block comment-list-wrap" data-v-b110a92e=""><div data-v-baace8a4="" class="comment-list"><h2 data-v-baace8a4="">评论 <!----></h2><div data-v-baace8a4="" class="comment-form"><div data-v-baace8a4="" class="comment-input no-reference"><div data-v-045f148c="" data-v-baace8a4="" contenteditable="plaintext-only" spellcheck="false" placeholder="快抢沙发！虚位以待" class="textarea comment-textarea empty"></div> <!----></div><div data-v-baace8a4="" class="comment-operation"><div data-v-baace8a4="" gk-button="" gkbtn-color="green" gkbtn-size="normal" disabled="disabled" class="comment-btn Button_button_3onsJ"> 发布 </div></div></div><div data-v-baace8a4="" class="empty-comment"> 暂无评论 </div></div></div><!----></div><!----><div data-v-4449d9fe="" data-v-74dd5626="" id="gk-layer" gkmodal-color="common" class="report-modal Modal_gk-modal_3ly5T" data-v-b110a92e=""><!----><!----></div><div data-v-355438c6="" data-v-74dd5626="" id="gk-layer" gkmodal-color="base" class="share-weixin-modal Modal_gk-modal_3ly5T" data-v-b110a92e=""><!----><!----></div><div data-v-4b5aad81="" data-v-74dd5626="" id="gk-layer" gkmodal-color="base" class="modal-share-horde Modal_gk-modal_3ly5T" data-v-b110a92e=""><!----><!----></div><!----></div><!----><div data-v-0dc6ee4d="" data-v-74dd5626="" class="nps-score" data-v-b110a92e=""><div data-v-0dc6ee4d="" id="gk-layer" gkmodal-color="common" class="nps-modal Modal_gk-modal_3ly5T"><!----><!----></div><div data-v-0dc6ee4d="" id="gk-layer" gkmodal-color="common" class="nps-modal-thank Modal_gk-modal_3ly5T"><!----><!----></div></div></div><div data-v-b110a92e="" id="check-bottom-bar"></div><div data-v-b110a92e="" layout-footer-wrap="" class="layout-footer-wrap"><div data-v-01836864="" data-v-b110a92e="" class="footer layout-footer"><ul data-v-01836864="" class="layout-content"><li data-v-01836864="" class="theme"><div data-v-01836864="" class="logo"><img data-v-01836864="" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/logo.3bdee6e4.png" alt="logo"><p data-v-01836864="">促进软件开发及相关领域知识与创新的传播</p></div></li><li data-v-01836864=""><dl data-v-01836864="" class="footer-nav"><dt data-v-01836864="">InfoQ</dt><dd data-v-01836864=""><!----><a data-v-01836864="" href="https://www.infoq.cn/about" target="_blank" rel="noopener nofollow">关于我们</a></dd><dd data-v-01836864=""><!----><a data-v-01836864="" href="https://www.infoq.cn/contribute" target="_blank" rel="noopener nofollow">我要投稿</a></dd><dd data-v-01836864=""><!----><a data-v-01836864="" href="https://www.geekbang.org/partner" target="_blank" rel="noopener nofollow">合作伙伴</a></dd><dd data-v-01836864=""><!----><a data-v-01836864="" href="https://xie.infoq.cn/link?target=https%3A%2F%2Fwww.lagou.com%2Fgongsi%2Fj43775.html" target="_blank" rel="noopener nofollow">加入我们</a></dd><dd data-v-01836864=""><!----><a data-v-01836864="" href="https://infoq.cn/official/account" target="_blank" rel="noopener nofollow">关注我们</a></dd></dl></li><li data-v-01836864=""><dl data-v-01836864="" class="footer-nav"><dt data-v-01836864="">联系我们</dt><dd data-v-01836864=""><!----><a data-v-01836864="" href="mailto:editors@geekbang.com" target="_blank" rel="noopener nofollow">内容投稿：editors@geekbang.com</a></dd><dd data-v-01836864=""><!----><a data-v-01836864="" href="mailto:hezuo@geekbang.com" target="_blank" rel="noopener nofollow">业务合作：hezuo@geekbang.com</a></dd><dd data-v-01836864=""><!----><a data-v-01836864="" href="mailto:feedback@geekbang.com" target="_blank" rel="noopener nofollow">反馈投诉：feedback@geekbang.com</a></dd><dd data-v-01836864=""><!----><a data-v-01836864="" href="mailto:zhaopin@geekbang.com" target="_blank" rel="noopener nofollow">加入我们：zhaopin@geekbang.com</a></dd><dd data-v-01836864=""><!----><span data-v-01836864="">联系电话：010-64738142</span></dd><dd data-v-01836864=""><!----><span data-v-01836864="">地址：北京市朝阳区叶青大厦北园</span></dd></dl></li><li data-v-01836864=""><dl data-v-01836864="" class="footer-nav"><dt data-v-01836864="">InfoQ 近期会议</dt><dd data-v-01836864=""><img data-v-01836864="" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/628b5e750e918f52cda61a19fdc186f5.png" alt="会议图片"><a data-v-01836864="" href="https://archsummit.infoq.cn/202303/beijing/?utm_source=infoq&amp;utm_medium=footer" target="_blank" rel="noopener nofollow">ArchSummit全球架构师峰会 2023年3月17-18日</a></dd><dd data-v-01836864=""><img data-v-01836864="" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/682e88b72d998d472686410a05c67986.png" alt="会议图片"><a data-v-01836864="" href="https://archsummit.infoq.cn/2023/shanghai/?utm_source=infoq&amp;utm_medium=footer" target="_blank" rel="noopener nofollow">ArchSummit全球架构师峰会 2023年4月21-22日</a></dd><dd data-v-01836864=""><img data-v-01836864="" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/b5214dd411ae938ab2ddfb504e7d078c.png" alt="会议图片"><a data-v-01836864="" href="https://qcon.infoq.cn/2023/guangzhou/?utm_source=infoq&amp;utm_medium=footer" target="_blank" rel="noopener nofollow">QCon全球软件开发大会 2023年5月26-27日</a></dd></dl></li><li data-v-01836864=""><dl data-v-01836864="" class="footer-nav"><dt data-v-01836864="">全球 InfoQ</dt><dd data-v-01836864=""><img data-v-01836864="" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/55cd81623e36f5ab7a7db74d60b74838.png" alt="会议图片"><a data-v-01836864="" href="https://www.infoq.com/" target="_blank" rel="noopener nofollow">InfoQ  En</a></dd><dd data-v-01836864=""><img data-v-01836864="" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/95fe851c02c86120e9037eada6a36d13.png" alt="会议图片"><a data-v-01836864="" href="https://www.infoq.com/jp/" target="_blank" rel="noopener nofollow">InfoQ Jp</a></dd><dd data-v-01836864=""><img data-v-01836864="" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/2aa440b6d94e94f64c508f16da38933e.png" alt="会议图片"><a data-v-01836864="" href="http://www.infoq.com/fr/" target="_blank" rel="noopener nofollow">InfoQ Fr</a></dd><dd data-v-01836864=""><img data-v-01836864="" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/4e737ce82bc7c8a1c2f2307bcea9a11e.png" alt="会议图片"><a data-v-01836864="" href="http://www.infoq.com/br/" target="_blank" rel="noopener nofollow">InfoQ Br</a></dd></dl></li></ul><div data-v-01836864="" class="copyright"> Copyright © 2023, Geekbang Technology Ltd. All rights reserved. 极客邦控股（北京）有限公司 | <a data-v-01836864="" target="_blank" href="https://xie.infoq.cn/link?target=http%3A%2F%2Fwww.beian.miit.gov.cn%2F" class="icp"> 京 ICP 备 16027448 号 - 5</a><a data-v-01836864="" target="_blank" href="https://xie.infoq.cn/link?target=http%3A%2F%2Fwww.beian.gov.cn%2Fportal%2FregisterSystemInfo%3Frecordcode%3D11010502039052"><img data-v-01836864="" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/beian.d0289dc0.png" alt="京公网安备"><span data-v-01836864="">京公网安备 11010502039052号</span></a><a data-v-01836864="" target="_blank" href="https://time.geekbang.org/hybrid/certificates" class="icp"> | 产品资质</a></div></div></div><div data-v-b110a92e="" id="gk-layer" gkmodal-color="common" class="offline-modal Modal_gk-modal_3ly5T"><!----><!----></div></div>
<img src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/logo-121-75.yuij86g.png" alt="深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区" style="display: none;">
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-103082599-11', 'auto');
    ga('send', 'pageview');
</script>
<script>
    var isRobot = /ltdgeekbang/i.test(window.navigator.userAgent.toLowerCase())
    if (!isRobot) {
        var __gBaiduSiteIdConfig__ = {
            infoq: '094d2af1d9a57fd9249b3fa259428445',
            xie: 'c53c258392315152cda6662d99774537'
        };
        var _hmt = _hmt || [];
        _hmt.push(['_setAccount', __gBaiduSiteIdConfig__.infoq]);
        _hmt.push(['_setAutoPageview', true]);
        _hmt.push(['_setAccount', __gBaiduSiteIdConfig__.xie]);
        _hmt.push(['_setAutoPageview', true]);

        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?" + __gBaiduSiteIdConfig__.infoq;
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
        
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?" + __gBaiduSiteIdConfig__.xie;
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
        
    }
</script>
<script>
    
    var isSmart = /swan\//.test(window.navigator.userAgent) || /^webswan-/.test(window.name);
    if (isSmart) {
        var smart = document.createElement("script");
        smart.src = "https://b.bdstatic.com/searchbox/icms/searchbox/js/swan-2.0.21.js";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(smart, s);
    }
</script>
<script>
    (function(para) {
        var p = para.sdk_url, n = para.name, w = window, d = document, s = 'script',x = null,y = null;
        if(typeof(w['sensorsDataAnalytic201505']) !== 'undefined') {
            return false;
        }
        w['sensorsDataAnalytic201505'] = n;
        w[n] = w[n] || function(a) {return function() {(w[n]._q = w[n]._q || []).push([a, arguments]);}};
        var ifs = ['track','quick','register','registerPage','registerOnce','trackSignup', 'trackAbtest', 'setProfile','setOnceProfile','appendProfile', 'incrementProfile', 'deleteProfile', 'unsetProfile', 'identify','login','logout','trackLink','clearAllRegister','getAppStatus'];
        for (var i = 0; i < ifs.length; i++) {
            w[n][ifs[i]] = w[n].call(null, ifs[i]);
        }
        if (!w[n]._t) {
            x = d.createElement(s), y = d.getElementsByTagName(s)[0];
            x.async = 1;
            x.src = p;
            x.setAttribute('charset','UTF-8');
            w[n].para = para;
            y.parentNode.insertBefore(x, y);
        }
    })({
        sdk_url: 'https://static.sensorsdata.cn/sdk/1.15.15/sensorsdata.min.js',
        heatmap_url: 'https://static.sensorsdata.cn/sdk/1.15.15/heatmap.min.js',
        name: 'sensors',
        server_url: 'https://sscentry.geekbang.org/sa?project=production',
        show_log: false,
        is_track_single_page: true,
        heatmap: {
            clickmap: 'not_collect',
            scroll_notice_map: 'not_collect'
        },
        preset_properties: {
            latest_referrer_host: true,
            latest_landing_page: true,
            url: true
        }
    });
</script>
<script>
    (function(win, export_obj) {
        win['LogAnalyticsObject'] = export_obj;
        if (!win[export_obj]) {
            function _collect() {
                _collect.q.push(arguments);
            }
            _collect.q = _collect.q || [];
            win[export_obj] = _collect;
        }
        win[export_obj].l = +new Date();
    })(window, 'collectEvent');
</script>
<script async="" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/collect-rangers-v5.1.4.js"></script>

    <script type="text/javascript" src="./深入了解现代web浏览器（第三部分）_GKNick_InfoQ写作社区_files/main.js"></script>



<div data-v-742c2edc="" id="gkui-message-list" style="top: 24px;"><span data-v-742c2edc=""></span></div><div id="gkui-modal-controller"><!----></div><div class="common-login-modal"><div data-v-66e08e49="" id="gk-layer" gkmodal-color="base" class="modal-login Modal_gk-modal_3ly5T"><!----><!----></div><div data-v-95b8db28="" id="gk-layer" gkmodal-color="base" class="modal-guide Modal_gk-modal_3ly5T"><!----><!----></div><div data-v-0b61e37e="" id="gk-layer" gkmodal-color="base" class="modal-receive-success Modal_gk-modal_3ly5T"><!----><!----></div><div data-v-de1e5142="" id="gk-layer" gkmodal-color="base" class="modal-rebind Modal_gk-modal_3ly5T"><!----><!----></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp pswp--zoom-allowed"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button title="Close (Esc)" class="pswp__button pswp__button--close"></button><button title="Share" class="pswp__button pswp__button--share"></button><button title="Toggle fullscreen" class="pswp__button pswp__button--fs"></button><button title="Zoom in/out" class="pswp__button pswp__button--zoom"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button title="Previous (arrow left)" class="pswp__button pswp__button--arrow--left"></button><button title="Next (arrow right)" class="pswp__button pswp__button--arrow--right"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><div><div id="gk-layer" gkmodal-color="logPhone" class="Modal_gk-modal_90vUO"><!----><!----></div></div><!----><!----><img src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEHAAEALAAAAAABAAEAAAICTAEAOw==" id="page-complete" style="display: none;"></body></html>