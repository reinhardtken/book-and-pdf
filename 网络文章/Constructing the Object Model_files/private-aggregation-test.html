
<!-- saved from url=(0094)https://shared-storage-demo-content-producer.web.app/paa/scripts/private-aggregation-test.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta http-equiv="X-UA-Compatible">
  <meta name="description" content="Private Aggregation API testing">
  <title>Private Aggregation API testing</title>
  <script>
    const ORIGIN_TRIAL_TOKEN = 'A1ZfcmeD3FKQrlwBahDydscQTVIzuvY2148m5BDMmgfgJaSZ3vTufX6/tzY3GDUTORwpPFvAXIfsSzepOHe78QoAAACPeyJvcmlnaW4iOiJodHRwczovL3NoYXJlZC1zdG9yYWdlLWRlbW8tY29udGVudC1wcm9kdWNlci53ZWIuYXBwOjQ0MyIsImZlYXR1cmUiOiJQcml2YWN5U2FuZGJveEFkc0FQSXMiLCJleHBpcnkiOjE2ODgwODMxOTksImlzVGhpcmRQYXJ0eSI6dHJ1ZX0=';
    const WORKLET_URL = 'https://shared-storage-demo-content-producer.web.app/paa/scripts/private-aggregation-test-worklet.js';

    function setup3pOriginTrialToken() {
      const otMeta = document.createElement('meta');
      otMeta.httpEquiv = 'origin-trial';
      otMeta.content = ORIGIN_TRIAL_TOKEN;
      document.head.append(otMeta);
    }

    async function runPrivateAggregationTest() {
      window.sharedStorage.set('test-key', 12345);
      window.sharedStorage.set('test-value', 1);

      await window.sharedStorage.worklet.addModule(WORKLET_URL);

      window.sharedStorage.run('private-aggregation-test');
    }

    try {
      setup3pOriginTrialToken();

      if ('sharedStorage' in window) {
        runPrivateAggregationTest();
      }
    } catch {}
  </script><meta http-equiv="origin-trial" content="A1ZfcmeD3FKQrlwBahDydscQTVIzuvY2148m5BDMmgfgJaSZ3vTufX6/tzY3GDUTORwpPFvAXIfsSzepOHe78QoAAACPeyJvcmlnaW4iOiJodHRwczovL3NoYXJlZC1zdG9yYWdlLWRlbW8tY29udGVudC1wcm9kdWNlci53ZWIuYXBwOjQ0MyIsImZlYXR1cmUiOiJQcml2YWN5U2FuZGJveEFkc0FQSXMiLCJleHBpcnkiOjE2ODgwODMxOTksImlzVGhpcmRQYXJ0eSI6dHJ1ZX0=">
</head>

<body>



</body></html>