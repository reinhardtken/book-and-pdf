From: <Saved by Blink>
Snapshot-Content-Location: http://m.mamicode.com/info-detail-1324860.html
Subject: =?utf-8?Q?Chromium=E7=BD=91=E9=A1=B5Layer=20Tree=E5=90=8C=E6=AD=A5=E4=B8?=
 =?utf-8?Q?=BAPending=20Layer=20Tree=E7=9A=84=E8=BF=87=E7=A8=8B=E5=88=86?=
 =?utf-8?Q?=E6=9E=90-=E7=A0=81=E8=BF=B7=E7=A7=BB=E5=8A=A8=E7=89=88-m.mamic?=
 =?utf-8?Q?ode.com?=
Date: Tue, 10 Oct 2023 07:34:32 -0000
MIME-Version: 1.0
Content-Type: multipart/related;
	type="text/html";
	boundary="----MultipartBoundary--PI8I25fgUVo00l2DnggbgaHo2lTmLkHycOS5UHvccj----"


------MultipartBoundary--PI8I25fgUVo00l2DnggbgaHo2lTmLkHycOS5UHvccj----
Content-Type: text/html
Content-ID: <frame-32F7AE37A2F1E8896816E9046B92163C@mhtml.blink>
Content-Transfer-Encoding: quoted-printable
Content-Location: http://m.mamicode.com/info-detail-1324860.html

<!DOCTYPE html><html><head id=3D"mhead"><meta http-equiv=3D"Content-Type" c=
ontent=3D"text/html; charset=3DUTF-8"><meta name=3D"viewport" content=3D"wi=
dth=3Ddevice-width, user-scalable=3D0, initial-scale=3D1.0, maximum-scale=
=3D1.0, minimum-scale=3D1.0"><meta http-equiv=3D"X-UA-Compatible" content=
=3D"IE=3Dedge,chrome=3D1"><meta http-equiv=3D"Cache-Control" content=3D"max=
-age=3D200"><meta name=3D"apple-touch-fullscreen" content=3D"YES"><meta nam=
e=3D"apple-mobile-web-app-capable" content=3D"no"><meta name=3D"format-dete=
ction" content=3D"telephone=3Dno,email=3Dno,address=3Dno"><meta name=3D"app=
licable-device" content=3D"pc,mobile"><meta name=3D"keywords" content=3D"=
=E7=A0=81=E8=BF=B7,mamicode.com,=E4=BA=92=E8=81=94=E7=BD=91,=E8=BD=AF=E4=BB=
=B6=E5=BC=80=E5=8F=91,=E5=BC=80=E6=BA=90,asp,asp.net,android,apple,jsp,php,=
Windows,=E6=95=B0=E6=8D=AE=E5=BA=93,HTML,JS,CSS,=E6=8A=80=E6=9C=AF=E6=96=87=
=E7=AB=A0,=E6=B8=B8=E6=88=8F,=E6=89=8B=E6=9C=BA=E7=9B=B8=E5=85=B3"><meta na=
me=3D"description" content=3D"=E7=A0=81=E8=BF=B7,mamicode.com,=E4=B8=93=E6=
=B3=A8=E4=BA=8E=E8=AE=A1=E7=AE=97=E6=9C=BA=E3=80=81=E4=BA=92=E8=81=94=E7=BD=
=91=E3=80=81Web=E7=A8=8B=E5=BA=8F,Windows=E7=A8=8B=E5=BA=8F,=E7=BC=96=E7=A8=
=8B=E8=AF=AD=E8=A8=80,=E6=95=B0=E6=8D=AE=E5=BA=93,=E7=A7=BB=E5=8A=A8=E5=B9=
=B3=E5=8F=B0,=E7=B3=BB=E7=BB=9F=E7=9B=B8=E5=85=B3=E6=8A=80=E6=9C=AF=E6=96=
=87=E7=AB=A0=E5=88=86=E4=BA=AB=E3=80=82"><title>
	Chromium=E7=BD=91=E9=A1=B5Layer Tree=E5=90=8C=E6=AD=A5=E4=B8=BAPending Lay=
er Tree=E7=9A=84=E8=BF=87=E7=A8=8B=E5=88=86=E6=9E=90-=E7=A0=81=E8=BF=B7=E7=
=A7=BB=E5=8A=A8=E7=89=88-m.mamicode.com
</title><link href=3D"http://m.mamicode.com/css/style.css" type=3D"text/css=
" rel=3D"stylesheet">

<link rel=3D"stylesheet" type=3D"text/css" href=3D"http://m.mamicode.com/js=
/kindeditor/plugins/code/prettify.css">
   =20
</head>
<body youdao=3D"bind" style=3D"">
   =20
<div class=3D"top">
    <div class=3D"logo">
        <a href=3D"http://m.mamicode.com/" title=3D"=E7=A0=81=E8=BF=B7,m.ma=
micode.com" id=3D"logo">
            <img src=3D"http://m.mamicode.com/img/logo.png" alt=3D"=E7=A0=
=81=E8=BF=B7,m.mamicode.com" width=3D"90" height=3D"50" border=3D"0">
        </a>
    </div>
    <div class=3D"menu">
        <a href=3D"http://m.mamicode.com/" title=3D"=E7=A0=81=E8=BF=B7,m.ma=
micode.com">=E9=A6=96=E9=A1=B5</a> <a href=3D"http://m.mamicode.com/info-li=
st-2-1.html" title=3D"Web=E5=BC=80=E5=8F=91">
            Web=E5=BC=80=E5=8F=91</a> <a href=3D"http://m.mamicode.com/info=
-list-3-1.html" title=3D"Windows=E7=A8=8B=E5=BA=8F">Windows=E7=A8=8B=E5=BA=
=8F</a> <a href=3D"http://m.mamicode.com/info-list-4-1.html" title=3D"=E7=
=BC=96=E7=A8=8B=E8=AF=AD=E8=A8=80">=E7=BC=96=E7=A8=8B=E8=AF=AD=E8=A8=80</a>=
 <a href=3D"http://m.mamicode.com/info-list-5-1.html" title=3D"=E6=95=B0=E6=
=8D=AE=E5=BA=93">=E6=95=B0=E6=8D=AE=E5=BA=93</a>
        <a href=3D"http://m.mamicode.com/info-list-6-1.html" title=3D"=E7=
=A7=BB=E5=8A=A8=E5=BC=80=E5=8F=91">=E7=A7=BB=E5=8A=A8=E5=BC=80=E5=8F=91</a>=
 <a href=3D"http://m.mamicode.com/info-list-8-1.html" title=3D"=E7=B3=BB=E7=
=BB=9F=E7=9B=B8=E5=85=B3">=E7=B3=BB=E7=BB=9F=E7=9B=B8=E5=85=B3</a> <a href=
=3D"http://m.mamicode.com/info-list-9-1.html" title=3D"=E5=BE=AE=E4=BF=A1">=
=E5=BE=AE=E4=BF=A1</a> <a href=3D"http://m.mamicode.com/info-list-11-1.html=
" title=3D"=E5=85=B6=E4=BB=96=E5=A5=BD=E6=96=87">=E5=85=B6=E4=BB=96=E5=A5=
=BD=E6=96=87</a>
    </div>
</div>

    <div class=3D"main">
        <div id=3D"mNavigation" class=3D"navigation"><a href=3D"http://m.ma=
micode.com/">=E9=A6=96=E9=A1=B5</a> &gt; <a href=3D"http://m.mamicode.com/i=
nfo-list-2-1.html">Web=E5=BC=80=E5=8F=91</a> &gt; <a href=3D"http://m.mamic=
ode.com/info-detail-1324860.html">Chromium=E7=BD=91=E9=A1=B5Layer Tree=E5=
=90=8C=E6=AD=A5=E4=B8=BAPending Layer Tree=E7=9A=84=E8=BF=87=E7=A8=8B=E5=88=
=86=E6=9E=90</a></div>
       =20
        <h1 id=3D"mTitle" class=3D"detailtitle">Chromium=E7=BD=91=E9=A1=B5L=
ayer Tree=E5=90=8C=E6=AD=A5=E4=B8=BAPending Layer Tree=E7=9A=84=E8=BF=87=E7=
=A8=8B=E5=88=86=E6=9E=90</h1>
       =20
        <div class=3D"detailqt">
            =E6=97=B6=E9=97=B4=EF=BC=9A<span id=3D"lbl_time" class=3D"color=
lan">2016-05-09 07:00:55</span>&nbsp;&nbsp;
            =E6=94=B6=E8=97=8F=EF=BC=9A<span id=3D"lbl_favorite" class=3D"c=
olorhong">0</span>&nbsp;&nbsp;
            =E9=98=85=E8=AF=BB=EF=BC=9A<span id=3D"lbl_n" class=3D"colorhon=
g">323</span>
        </div>
       =20
        <div id=3D"mContent" class=3D"detailcontent"><p>&nbsp; &nbsp; &nbsp=
; &nbsp;CC Layer Tree=E7=BB=98=E5=88=B6=E5=AE=8C=E6=88=90=E5=90=8E=EF=BC=8C=
=E4=BC=9A=E5=90=8C=E6=AD=A5=E5=88=B0=E4=B8=80=E4=B8=AA=E6=96=B0=E7=9A=84CC =
Pending Layer Tree=E5=8E=BB=E3=80=82=E5=90=8C=E6=AD=A5=E8=BF=87=E7=A8=8B=E7=
=94=B1Compositor=E7=BA=BF=E7=A8=8B=E6=89=A7=E8=A1=8C=EF=BC=8C=E5=B9=B6=E4=
=B8=94Main=E7=BA=BF=E7=A8=8B=E5=A4=84=E4=BA=8E=E7=AD=89=E5=BE=85=E7=8A=B6=
=E6=80=81=E3=80=82=E6=89=80=E8=B0=93=E5=90=8C=E6=AD=A5=EF=BC=8C=E5=B0=B1=E6=
=98=AF=E5=B0=86CC Layer Tree=E7=9A=84=E5=86=85=E5=AE=B9=E6=8B=B7=E8=B4=9D=
=E5=88=B0CC Pending Layer Tree=E5=8E=BB=E3=80=82=E5=90=8C=E6=AD=A5=E5=AE=8C=
=E6=AF=95=EF=BC=8CMain=E7=BA=BF=E7=A8=8B=E5=B0=B1=E4=BC=9A=E8=A2=AB=E5=94=
=A4=E9=86=92=E3=80=82=E6=9C=AC=E6=96=87=E6=8E=A5=E4=B8=8B=E6=9D=A5=E5=88=86=
=E6=9E=90CC Layer Tree=E5=90=8C=E6=AD=A5=E4=B8=BACC Pending Layer Tree=E7=
=9A=84=E8=BF=87=E7=A8=8B=E3=80=82</p><p align=3D"center"><span style=3D"fon=
t-size:14px;color:#CC0000;">=E8=80=81=E7=BD=97=E7=9A=84=E6=96=B0=E6=B5=AA=
=E5=BE=AE=E5=8D=9A=EF=BC=9A<a target=3D"_blank" href=3D"http://weibo.com/sh=
engyangluo">http://weibo.com/shengyangluo</a>=EF=BC=8C=E6=AC=A2=E8=BF=8E=E5=
=85=B3=E6=B3=A8=EF=BC=81</span><br></p><p>&nbsp; &nbsp; &nbsp; &nbsp;CC Lay=
er Tree=E5=90=8C=E6=AD=A5=E4=B8=BACC Pending Layer Tree=E7=9A=84=E6=93=8D=
=E4=BD=9C=E6=98=AF=E7=94=B1=E8=B0=83=E5=BA=A6=E5=99=A8=E5=8F=91=E8=B5=B7=E7=
=9A=84=EF=BC=8C=E5=AE=83=E5=AF=B9=E5=BA=94=E4=BA=8E=E7=BD=91=E9=A1=B5=E6=B8=
=B2=E6=9F=93=E8=BF=87=E7=A8=8B=E4=B8=AD=E7=9A=84=E7=AC=AC3=E4=B8=AA=E6=AD=
=A5=E9=AA=A4ACTION_COMMIT=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=
=BC=9A</p><p style=3D"text-align: center;"><img alt=3D"=E6=8A=80=E6=9C=AF=
=E5=88=86=E4=BA=AB" src=3D"http://img.blog.csdn.net/20160422015809631?water=
mark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0=
JBQkFCMA=3D=3D/dissolve/70/gravity/SouthEast"><br></p><p style=3D"text-alig=
n: center;">=E5=9B=BE1 CC Layer Tree=E5=90=8C=E6=AD=A5=E4=B8=BACC Pending L=
ayer Tree=E7=9A=84=E6=97=B6=E6=9C=BA</p><p>&nbsp; &nbsp; &nbsp;&nbsp;=E4=BB=
=8E=E5=89=8D=E9=9D=A2<a target=3D"_blank" href=3D"http://blog.csdn.net/luos=
hengyang/article/details/51054990">Chromium=E7=BD=91=E9=A1=B5=E6=B8=B2=E6=
=9F=93=E8=B0=83=E5=BA=A6=E5=99=A8=EF=BC=88Scheduler=EF=BC=89=E5=AE=9E=E7=8E=
=B0=E5=88=86=E6=9E=90</a>=E4=B8=80=E6=96=87=E5=8F=AF=E4=BB=A5=E7=9F=A5=E9=
=81=93=EF=BC=8C=E5=BD=93=E8=B0=83=E5=BA=A6=E5=99=A8=E8=B0=83=E7=94=A8Schedu=
lerStateMachine=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0NextAc=
tion=E8=AF=A2=E9=97=AE=E7=8A=B6=E6=80=81=E6=9C=BA=E4=B8=8B=E4=B8=80=E6=AD=
=A5=E8=A6=81=E6=89=A7=E8=A1=8C=E7=9A=84=E6=93=8D=E4=BD=9C=E6=97=B6=EF=BC=8C=
SchedulerStateMachine=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0=
NextAction=E4=BC=9A=E8=B0=83=E7=94=A8=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AA=
=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0ShouldCommit=E3=80=82=E5=BD=93Scheduler=
StateMachine=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0ShouldCom=
mit=E8=BF=94=E5=9B=9E=E5=80=BC=E7=AD=89=E4=BA=8Etrue=E7=9A=84=E6=97=B6=E5=
=80=99=EF=BC=8C=E7=8A=B6=E6=80=81=E6=9C=BA=E5=B0=B1=E4=BC=9A=E6=8F=90=E7=A4=
=BA=E8=B0=83=E5=BA=A6=E5=99=A8=E6=8E=A5=E4=B8=8B=E6=9D=A5=E9=9C=80=E8=A6=81=
=E6=89=A7=E8=A1=8CACTION_COMMIT=E6=93=8D=E4=BD=9C=EF=BC=8C=E4=B9=9F=E5=B0=
=B1=E6=98=AF=E5=B0=86CC Layer Tree=E5=90=8C=E6=AD=A5=E4=B8=BACC Pending Lay=
er Tree=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A<br></p><p></p=
><pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20160509_1_3890=
649" name=3D"code" class=3D"cpp">SchedulerStateMachine::Action SchedulerSta=
teMachine::NextAction() const {
  ......
  if (ShouldCommit())
    return ACTION_COMMIT;
  ......
  return ACTION_NONE;
}</pre>&nbsp; &nbsp; &nbsp; =E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=AE=9A=
=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/scheduler/sche=
duler_state_machine.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; =E6=
=8E=A5=E4=B8=8B=E6=9D=A5=E6=88=91=E4=BB=AC=E5=B0=B1=E7=BB=A7=E7=BB=AD=E5=88=
=86=E6=9E=90SchedulerStateMachine=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=
=BD=E6=95=B0ShouldCommit=E4=BB=80=E4=B9=88=E6=83=85=E5=86=B5=E4=B8=8B=E4=BC=
=9A=E8=BF=94=E5=9B=9Etrue=EF=BC=8C=E5=AE=83=E7=9A=84=E5=AE=9E=E7=8E=B0=E5=
=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=
=3D"1675568" snippet_file_name=3D"blog_20160509_2_2920320" name=3D"code" cl=
ass=3D"cpp">bool SchedulerStateMachine::ShouldCommit() const {
  if (commit_state_ !=3D COMMIT_STATE_READY_TO_COMMIT)
    return false;

  // We must not finish the commit until the pending tree is free.
  if (has_pending_tree_) {
    DCHECK(settings_.main_frame_before_activation_enabled);
    return false;
  }

  // Prioritize drawing the previous commit before finishing the next commi=
t.
  if (active_tree_needs_first_draw_)
    return false;

  return true;
}</pre><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=
=E5=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/sched=
uler/scheduler_state_machine.cc=E4=B8=AD=E3=80=82</p><p>&nbsp; &nbsp; &nbsp=
; &nbsp;SchedulerStateMachine=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=
=E6=95=B0ShouldCommit=E8=BF=94=E5=9B=9Etrue=E9=9C=80=E8=A6=81=E6=BB=A1=E8=
=B6=B3=E4=B8=89=E4=B8=AA=E6=9D=A1=E4=BB=B6=EF=BC=9A</p><p>&nbsp; &nbsp; &nb=
sp; &nbsp;1. =E7=8A=B6=E6=80=81=E6=9C=BA=E7=9A=84CommitState=E7=8A=B6=E6=80=
=81=E7=AD=89=E4=BA=8ECOMMIT_STATE_READY_TO_COMMIT=E3=80=82=E4=BB=8E=E5=89=
=8D=E9=9D=A2<a target=3D"_blank" href=3D"http://blog.csdn.net/luoshengyang/=
article/details/51148299">Chromium=E7=BD=91=E9=A1=B5Layer Tree=E7=BB=98=E5=
=88=B6=E8=BF=87=E7=A8=8B=E5=88=86=E6=9E=90</a>=E4=B8=80=E6=96=87=E5=8F=AF=
=E4=BB=A5=E7=9F=A5=E9=81=93=EF=BC=8C=E5=BD=93CC Layer Tree=E7=BB=98=E5=88=
=B6=E5=AE=8C=E6=88=90=E6=97=B6=EF=BC=8C=E4=BC=9A=E5=B0=86=E7=8A=B6=E6=80=81=
=E6=9C=BA=E7=9A=84CommitState=E7=8A=B6=E6=80=81=E8=AE=BE=E7=BD=AE=E4=B8=BAC=
OMMIT_STATE_READY_TO_COMMIT=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;2. =
=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fhas_pending_tree_=E7=9A=84=E5=80=BC=E7=
=AD=89=E4=BA=8Efalse=E3=80=82=E5=BD=93=E8=BF=99=E4=B8=AA=E6=88=90=E5=91=98=
=E5=8F=98=E9=87=8F=E7=9A=84=E5=80=BC=E7=AD=89=E4=BA=8Etrue=E7=9A=84=E6=97=
=B6=E5=80=99=EF=BC=8C=E8=A1=A8=E7=A4=BA=E7=8E=B0=E5=9C=A8=E6=9C=89=E4=B8=80=
=E4=B8=AACC Pending Layer Tree=E6=AD=A3=E5=9C=A8=E6=89=A7=E8=A1=8C=E5=85=89=
=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E3=80=82=E8=A6=81=E7=AD=89=E5=88=B0=E8=
=BF=99=E4=B8=AACC Pending Layer Tree=E7=9A=84=E5=85=89=E6=A0=85=E5=8C=96=E6=
=93=8D=E4=BD=9C=E5=AE=8C=E6=88=90=EF=BC=8C=E5=B9=B6=E4=B8=94=E6=BF=80=E6=B4=
=BB=E4=B8=BACC Active Layer Tree=E4=B9=8B=E5=90=8E=EF=BC=8C=E6=89=8D=E5=8F=
=AF=E4=BB=A5=E6=89=A7=E8=A1=8C=E4=B8=8B=E4=B8=80=E4=B8=AAACTION_COMMIT=E6=
=93=8D=E4=BD=9C=E3=80=82=E8=BF=99=E6=98=AF=E5=9B=A0=E4=B8=BA=E6=89=A7=E8=A1=
=8CACTION_COMMIT=E6=93=8D=E4=BD=9C=E7=9A=84=E6=97=B6=E5=80=99=E5=8F=88=E4=
=BC=9A=E4=BA=A7=E7=94=9F=E4=B8=80=E4=B8=AA=E6=96=B0=E7=9A=84CC Pending Laye=
r Tree=E3=80=82=E5=90=8C=E4=B8=80=E6=97=B6=E5=88=BB=E5=8F=AA=E8=83=BD=E5=AD=
=98=E5=9C=A8=E4=B8=80=E4=B8=AACC Pending Layer Tree=E3=80=82</p><p>&nbsp; &=
nbsp; &nbsp; &nbsp;3. =E6=88=90=E5=91=98=E5=8F=98=E9=87=8Factive_tree_needs=
_first_draw_=E7=9A=84=E5=80=BC=E7=AD=89=E4=BA=8Efalse=E3=80=82=E5=BD=93=E8=
=BF=99=E4=B8=AA=E6=88=90=E5=91=98=E5=8F=98=E9=87=8F=E7=9A=84=E5=80=BC=E7=AD=
=89=E4=BA=8Etrue=E7=9A=84=E6=97=B6=E5=80=99=EF=BC=8C=E8=A1=A8=E7=A4=BA=E7=
=8E=B0=E5=9C=A8=E6=9C=89=E4=B8=80=E4=B8=AACC Active Layer Tree=E5=88=9A=E5=
=88=9A=E8=A2=AB=E6=BF=80=E6=B4=BB=EF=BC=8C=E4=BD=86=E6=98=AF=E8=BF=99=E4=B8=
=AA=E5=88=9A=E5=88=9A=E8=A2=AB=E6=BF=80=E6=B4=BB=E7=9A=84CC Active Layer Tr=
ee=E8=BF=98=E6=B2=A1=E6=9C=89=E8=A2=AB=E6=89=A7=E8=A1=8C=E8=BF=87=E6=B8=B2=
=E6=9F=93=E6=93=8D=E4=BD=9C=E3=80=82=E6=B8=B2=E6=9F=93=E6=93=8D=E4=BD=9C=E7=
=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=E5=A4=A7=E4=BA=8EACTION_COMMIT=E6=93=8D=
=E4=BD=9C=E3=80=82=E5=9B=A0=E6=AD=A4=EF=BC=8C=E5=9C=A8=E8=BF=99=E7=A7=8D=E6=
=83=85=E5=86=B5=E4=B8=8B=EF=BC=8C=E5=B0=B1=E4=B8=8D=E5=85=81=E8=AE=B8=E6=89=
=A7=E8=A1=8CACTION_COMMIT=E6=93=8D=E4=BD=9C=E3=80=82</p><p>&nbsp; &nbsp; &n=
bsp;&nbsp;=E5=9B=9E=E5=88=B0SchedulerStateMachine=E7=B1=BB=E7=9A=84=E6=88=
=90=E5=91=98=E5=87=BD=E6=95=B0NextAction=E4=B8=AD=EF=BC=8C=E5=BD=93=E5=AE=
=83=E8=B0=83=E7=94=A8=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0ShouldCommit=E5=BE=
=97=E5=88=B0=E7=9A=84=E8=BF=94=E5=9B=9E=E5=80=BC=E7=AD=89=E4=BA=8Etrue=EF=
=BC=8C=E5=AE=83=E5=B0=B1=E4=BC=9A=E8=BF=94=E5=9B=9E=E4=B8=80=E4=B8=AAACTION=
_COMMIT=E7=BB=99Scheduler=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=
=95=B0ProcessScheduledActions=E3=80=82=E8=BF=99=E6=97=B6=E5=80=99Scheduler=
=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0ProcessScheduledActio=
ns=E5=B0=B1=E4=BC=9A=E8=AF=B7=E6=B1=82Compositor=E7=BA=BF=E7=A8=8B=E5=B0=86=
=E5=88=9A=E5=88=9A=E7=BB=98=E5=88=B6=E5=AE=8C=E6=88=90=E7=9A=84CC Layer Tre=
e=E5=90=8C=E6=AD=A5=E4=B8=BACC Pending Layer Tree=EF=BC=8C=E5=A6=82=E4=B8=
=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" s=
nippet_file_name=3D"blog_20160509_3_1633565" name=3D"code" class=3D"cpp">vo=
id Scheduler::ProcessScheduledActions() {
  ......

  SchedulerStateMachine::Action action;
  do {
    action =3D state_machine_.NextAction();
    ......
    state_machine_.UpdateState(action);
    ......
    switch (action) {
      ......
      case SchedulerStateMachine::ACTION_COMMIT:
        client_-&gt;ScheduledActionCommit();
        break;
      ......
    }
  } while (action !=3D SchedulerStateMachine::ACTION_NONE);

  SetupNextBeginFrameIfNeeded();
  ......

  if (state_machine_.ShouldTriggerBeginImplFrameDeadlineEarly()) {
    ......
    ScheduleBeginImplFrameDeadline(base::TimeTicks());
  }
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/schedule=
r/scheduler.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;Schedu=
ler=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0ProcessScheduledAc=
tions=E7=9A=84=E8=AF=A6=E7=BB=86=E5=88=86=E6=9E=90=E5=8F=AF=E4=BB=A5=E5=8F=
=82=E8=80=83=E5=89=8D=E9=9D=A2<a target=3D"_blank" href=3D"http://blog.csdn=
.net/luoshengyang/article/details/51054990">Chromium=E7=BD=91=E9=A1=B5=E6=
=B8=B2=E6=9F=93=E8=B0=83=E5=BA=A6=E5=99=A8=EF=BC=88Scheduler=EF=BC=89=E5=AE=
=9E=E7=8E=B0=E5=88=86=E6=9E=90</a>=E4=B8=80=E6=96=87=E3=80=82=E8=BF=99=E6=
=97=B6=E5=80=99Scheduler=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=
=B0ProcessScheduledActions=E9=A6=96=E5=85=88=E8=B0=83=E7=94=A8SchedulerStat=
eMachine=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateState=
=E6=9B=B4=E6=96=B0=E7=8A=B6=E6=80=81=E6=9C=BA=E7=9A=84=E7=8A=B6=E6=80=81=EF=
=BC=8C=E6=8E=A5=E7=9D=80=E5=86=8D=E8=B0=83=E7=94=A8=E6=88=90=E5=91=98=E5=8F=
=98=E9=87=8Fclient_=E6=8C=87=E5=90=91=E7=9A=84=E4=B8=80=E4=B8=AAThreadProxy=
=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0ScheduledAct=
ionCommit=E8=AF=B7=E6=B1=82Compositor=E7=BA=BF=E7=A8=8B=E5=B0=86=E5=88=9A=
=E5=88=9A=E7=BB=98=E5=88=B6=E5=A5=BD=E7=9A=84CC Layer Tree=E5=90=8C=E6=AD=
=A5=E4=B8=BACC Pending Layer Tree=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp=
;SchedulerStateMachine=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=
=B0UpdateState=E7=9A=84=E5=AE=9E=E7=8E=B0=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=
=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet_file_name=
=3D"blog_20160509_4_3411471" name=3D"code" class=3D"cpp">void SchedulerStat=
eMachine::UpdateState(Action action) {
  switch (action) {
    ......

    case ACTION_COMMIT: {
      bool commit_was_aborted =3D false;
      UpdateStateOnCommit(commit_was_aborted);
      return;
    }

    ......
  }
}</pre>&nbsp; &nbsp; &nbsp; =E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=AE=9A=
=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/scheduler/sche=
duler_state_machine.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp;&nbsp=
;SchedulerStateMachine=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=
=B0UpdateState=E8=B0=83=E7=94=A8=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AA=E6=88=
=90=E5=91=98=E5=87=BD=E6=95=B0UpdateStateOnCommit=E4=BF=AE=E6=94=B9=E7=8A=
=B6=E6=80=81=E6=9C=BA=E7=9A=84CommitState=E7=8A=B6=E6=80=81=E3=80=82Schedul=
erStateMachine=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateS=
tateOnCommit=E7=9A=84=E8=AF=A6=E7=BB=86=E5=88=86=E6=9E=90=E5=8F=AF=E4=BB=A5=
=E5=8F=82=E8=80=83=E5=89=8D=E9=9D=A2<a target=3D"_blank" href=3D"http://blo=
g.csdn.net/luoshengyang/article/details/51148299">Chromium=E7=BD=91=E9=A1=
=B5Layer Tree=E7=BB=98=E5=88=B6=E8=BF=87=E7=A8=8B=E5=88=86=E6=9E=90</a>=E4=
=B8=80=E6=96=87=EF=BC=8C=E6=88=91=E4=BB=AC=E5=81=87=E8=AE=BE=E5=AE=83=E5=B0=
=86=E7=8A=B6=E6=80=81=E6=9C=BA=E7=9A=84CommitState=E7=8A=B6=E6=80=81=E4=BB=
=8ECOMMIT_STATE_READY_TO_COMMIT=E4=BF=AE=E6=94=B9=E4=B8=BACOMMIT_STATE_WAIT=
ING_FOR_ACTIVATION=EF=BC=8C=E8=A1=A8=E7=A4=BA=E8=B0=83=E5=BA=A6=E5=99=A8=E6=
=AD=A3=E5=9C=A8=E7=AD=89=E5=BE=85=E4=B8=80=E4=B8=AA=E6=96=B0=E7=9A=84CC Pen=
ding Layer Tree=E8=A2=AB=E6=BF=80=E6=B4=BB=E4=B8=BACC Active Layer Tree=E3=
=80=82</p><p>&nbsp; &nbsp; &nbsp; =E5=9B=9E=E5=88=B0Scheduler=E7=B1=BB=E7=
=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0ProcessScheduledActions=E4=B8=AD=
=EF=BC=8C=E5=AE=83=E4=BF=AE=E6=94=B9=E4=BA=86=E7=8A=B6=E6=80=81=E6=9C=BA=E7=
=9A=84CommitState=E7=8A=B6=E6=80=81=E4=B9=8B=E5=90=8E=EF=BC=8C=E6=8E=A5=E4=
=B8=8B=E6=9D=A5=E8=B0=83=E7=94=A8ThreadProxy=E7=B1=BB=E7=9A=84=E6=88=90=E5=
=91=98=E5=87=BD=E6=95=B0ScheduledActionCommit=E8=AF=B7=E6=B1=82Compositor=
=E7=BA=BF=E7=A8=8B=E5=B0=86=E5=88=9A=E5=88=9A=E7=BB=98=E5=88=B6=E5=A5=BD=E7=
=9A=84CC Layer Tree=E5=90=8C=E6=AD=A5=E4=B8=BACC Pending Layer Tree=EF=BC=
=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippe=
t_id=3D"1675568" snippet_file_name=3D"blog_20160509_5_3553175" name=3D"code=
" class=3D"cpp">void ThreadProxy::ScheduledActionCommit() {
  ......

  impl().layer_tree_host_impl-&gt;BeginCommit();
  ......
  layer_tree_host()-&gt;FinishCommitOnImplThread(
      impl().layer_tree_host_impl.get());
  ......

  bool hold_commit =3D layer_tree_host()-&gt;settings().impl_side_painting =
&amp;&amp;
                     blocked_main().commit_waits_for_activation;
  ......

  if (hold_commit) {
    ......
    impl().completion_event_for_commit_held_on_tree_activation =3D
        impl().commit_completion_event;
    impl().commit_completion_event =3D NULL;
  } else {
    impl().commit_completion_event-&gt;Signal();
    impl().commit_completion_event =3D NULL;
  }

  ......

  impl().layer_tree_host_impl-&gt;CommitComplete();

  ......
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/th=
read_proxy.cc=E4=B8=AD=E3=80=82<br><p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=
=B0=83=E7=94=A8ThreadProxy=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=
=95=B0impl=E5=8F=AF=E4=BB=A5=E8=8E=B7=E5=BE=97=E4=B8=80=E4=B8=AACompositorT=
hreadOnly=E5=AF=B9=E8=B1=A1=E3=80=82=E8=BF=99=E4=B8=AACompositorThreadOnly=
=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Flayer_tree_h=
ost_impl=E6=8C=87=E5=90=91=E4=B8=80=E4=B8=AALayerTreeHostImpl=E5=AF=B9=E8=
=B1=A1=E3=80=82=E8=BF=99=E4=B8=AALayerTreeHostImpl=E5=AF=B9=E8=B1=A1=E8=B4=
=9F=E8=B4=A3=E7=AE=A1=E7=90=86CC Pending Layer Tree=E5=92=8CCC Active Layer=
 Tree=E3=80=82ThreadProxy=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=
=95=B0ScheduledActionCommit=E9=A6=96=E5=85=88=E8=B0=83=E7=94=A8=E8=BF=99=E4=
=B8=AALayerTreeHostImpl=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=87=
=BD=E6=95=B0BeginCommit=E5=88=9B=E5=BB=BA=E4=B8=80=E4=B8=AA=E7=A9=BA=E7=9A=
=84CC Pending Layer Tree=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;ThreadPr=
oxy=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0ScheduledActionCom=
mit=E6=8E=A5=E4=B8=8B=E6=9D=A5=E5=8F=88=E8=B0=83=E7=94=A8=E6=88=90=E5=91=98=
=E5=87=BD=E6=95=B0layer_tree_host=E8=8E=B7=E5=BE=97=E4=B8=80=E4=B8=AALayerT=
reeHost=E5=AF=B9=E8=B1=A1=E3=80=82=E8=BF=99=E4=B8=AALayerTreeHost=E5=AF=B9=
=E8=B1=A1=E8=B4=9F=E8=B4=A3=E7=AE=A1=E7=90=86CC Layer Tree=E3=80=82=E6=9C=
=89=E4=BA=86=E8=BF=99=E4=B8=AALayerTreeHost=E5=AF=B9=E8=B1=A1=E4=B9=8B=E5=
=90=8E=EF=BC=8C=E5=B0=B1=E5=8F=AF=E4=BB=A5=E8=B0=83=E7=94=A8=E5=AE=83=E7=9A=
=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0FinishCommitOnImplThread=E5=B0=86=E5=
=88=9A=E5=88=9A=E7=BB=98=E5=88=B6=E5=A5=BD=E7=9A=84CC Layer Tree=E5=90=8C=
=E6=AD=A5=E5=88=B0=E5=89=8D=E9=9D=A2=E5=88=9B=E5=BB=BA=E7=9A=84CC Pending L=
ayer Tree=E4=B8=AD=E5=8E=BB=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=
=B0=83=E7=94=A8ThreadProxy=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=
=95=B0blocked_main=E5=8F=AF=E4=BB=A5=E8=8E=B7=E5=BE=97=E4=B8=80=E4=B8=AAMai=
nThreadOrBlockedMainThread=E5=AF=B9=E8=B1=A1=E3=80=82=E5=9C=A8Render=E8=BF=
=9B=E7=A8=8B=E5=90=AF=E7=94=A8=E4=BA=86Impl Side Painting=E7=89=B9=E6=80=A7=
=E7=9A=84=E6=83=85=E5=86=B5=E4=B8=8B=EF=BC=8C=E5=BD=93=E8=BF=99=E4=B8=AAMai=
nThreadOrBlockedMainThread=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=
=8F=98=E9=87=8Fcommit_waits_for_activation=E7=AD=89=E4=BA=8Etrue=E6=97=B6=
=EF=BC=8C=E8=A1=A8=E7=A4=BACC Layer Tree=E4=B8=AD=E7=9A=84=E6=9F=90=E4=BA=
=9BLayer=E8=AF=B7=E6=B1=82Compositor=E7=BA=BF=E7=A8=8B=E4=B8=80=E7=9B=B4=E9=
=98=BB=E5=A1=9EMain=E7=BA=BF=E7=A8=8B=EF=BC=8C=E7=9B=B4=E5=88=B0=E5=89=8D=
=E9=9D=A2=E5=88=9B=E5=BB=BA=E7=9A=84CC Pending Layer Tree=E5=AE=8C=E6=88=90=
=E5=85=89=E6=A0=85=E5=8C=96=E5=B9=B6=E4=B8=94=E6=BF=80=E6=B4=BB=E4=B8=BACC =
Active Layer Tree=E4=B9=8B=E5=90=8E=EF=BC=8C=E5=86=8D=E5=94=A4=E9=86=92Main=
=E7=BA=BF=E7=A8=8B=E3=80=82=E8=BF=99=E4=BA=9BLayer=E6=9C=89=E4=B8=80=E4=B8=
=AA=E7=89=B9=E7=82=B9=EF=BC=8C=E5=B0=B1=E6=98=AF=E4=B8=8D=E9=9C=80=E8=A6=81=
Compositor=E7=BA=BF=E7=A8=8B=E4=B8=BA=E5=AE=83=E4=BB=AC=E6=89=A7=E8=A1=8C=
=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=EF=BC=8C=E4=BE=8B=E5=A6=82Tex=
ture Layer=EF=BC=8C=E6=9C=AC=E8=BA=AB=E7=9A=84=E5=86=85=E5=AE=B9=E5=B0=B1=
=E6=98=AF=E5=B7=B2=E7=BB=8F=E5=85=89=E6=A0=85=E5=8C=96=E5=A5=BD=E4=BA=86=E7=
=9A=84=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E5=A6=82=E6=9E=9C=E9=9C=
=80=E8=A6=81=E9=98=BB=E5=A1=9EMain=E7=BA=BF=E7=A8=8B=E5=88=B0CC Pending Lay=
er Tree=E6=BF=80=E6=B4=BB=E4=B8=BACC Active Layer Tree=E4=B9=8B=E5=90=8E=EF=
=BC=8C=E9=82=A3=E4=B9=88ThreadProxy=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=
=87=BD=E6=95=B0ScheduledActionCommit=E5=B0=B1=E4=BC=9A=E5=B0=86=E4=BF=9D=E5=
=AD=98=E5=9C=A8=E5=89=8D=E9=9D=A2=E8=8E=B7=E5=BE=97=E7=9A=84CompositorThrea=
dOnly=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fcommit_=
completion_event=E4=B8=AD=E7=9A=84Completion Event=E8=BD=AC=E7=A7=BB=E5=88=
=B0=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AA=E6=88=90=E5=91=98=E5=8F=98=E9=87=8F=
completion_event_for_commit_held_on_tree_activation=E4=B8=AD=EF=BC=8C=E4=BB=
=A5=E4=BE=BF=E5=9C=A8CC Pending Layer Tree=E6=BF=80=E6=B4=BB=E4=B8=BACC Aci=
tve Layer Tree=E7=9A=84=E6=97=B6=E5=80=99=EF=BC=8C=E9=80=9A=E8=BF=87=E4=BF=
=9D=E5=AD=98=E5=9C=A8=E5=90=8E=E9=9D=A2=E8=BF=99=E4=B8=AA=E6=88=90=E5=91=98=
=E5=8F=98=E9=87=8F=E4=B8=AD=E7=9A=84Completion Event=E6=9D=A5=E5=94=A4=E9=
=86=92Main=E7=BA=BF=E7=A8=8B=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E5=
=8F=A6=E4=B8=80=E6=96=B9=E9=9D=A2=EF=BC=8C=E5=A6=82=E6=9E=9C=E4=B8=8D=E9=9C=
=80=E8=A6=81=E9=98=BB=E5=A1=9EMain=E7=BA=BF=E7=A8=8B=E5=88=B0CC Pending Lay=
er Tree=E6=BF=80=E6=B4=BB=E4=B8=BACC Active Layer Tree=E4=B9=8B=E5=90=8E=EF=
=BC=8C=E9=82=A3=E4=B9=88=E7=8E=B0=E5=9C=A8=E5=B0=B1=E5=8F=AF=E4=BB=A5=E5=94=
=A4=E9=86=92Main=E7=BA=BF=E7=A8=8B=E4=BA=86=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=
=98=AF=E8=B0=83=E7=94=A8=E4=BF=9D=E5=AD=98=E5=9C=A8=E5=89=8D=E9=9D=A2=E8=8E=
=B7=E5=BE=97=E7=9A=84CompositorThreadOnly=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=
=90=E5=91=98=E5=8F=98=E9=87=8Fcommit_completion_event=E4=B8=AD=E7=9A=84Comp=
letion Event=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0Signal=E3=80=82</p=
><p>&nbsp; &nbsp; &nbsp; &nbsp;=E6=9C=80=E5=90=8E=EF=BC=8CThreadProxy=E7=B1=
=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0ScheduledActionCommit=E5=8F=
=88=E8=B0=83=E7=94=A8=E5=89=8D=E9=9D=A2=E8=8E=B7=E5=BE=97=E7=9A=84Composito=
rThreadOnly=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fl=
ayer_tree_host_impl=E6=8C=87=E5=90=91=E7=9A=84LayerTreeHostImpl=E5=AF=B9=E8=
=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CommitComplete=E4=B8=BA=
=E5=89=8D=E9=9D=A2=E5=B7=B2=E7=BB=8F=E5=90=8C=E6=AD=A5=E5=A5=BD=E7=9A=84CC =
Pending Layer Tree=E4=B8=AD=E7=9A=84Layer=E5=88=9B=E5=BB=BA=E5=88=86=E5=9D=
=97=EF=BC=8C=E4=BB=A5=E4=BE=BF=E5=90=8E=E9=9D=A2=E5=8F=AF=E4=BB=A5=E5=AF=B9=
=E8=BF=99=E4=BA=9B=E5=88=86=E5=9D=97=E6=89=A7=E8=A1=8C=E5=85=89=E6=A0=85=E5=
=8C=96=E6=93=8D=E4=BD=9C=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E6=8E=
=A5=E4=B8=8B=E6=9D=A5=EF=BC=8C=E6=88=91=E4=BB=AC=E5=B0=B1=E5=85=88=E5=88=86=
=E6=9E=90LayerTreeHostImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=
=95=B0BeginCommit=E7=9A=84=E5=AE=9E=E7=8E=B0=EF=BC=8C=E7=84=B6=E5=90=8E=E5=
=86=8D=E5=88=86=E6=9E=90LayerTreeHost=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=
=E5=87=BD=E6=95=B0FinishCommitOnImplThread=E4=BB=A5=E5=8F=8ALayerTreeHostIm=
pl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CommitComplete=E7=
=9A=84=E5=AE=9E=E7=8E=B0=EF=BC=8C=E4=BB=A5=E4=BE=BF=E4=BA=86=E8=A7=A3CC Lay=
er Tree=E5=90=8C=E6=AD=A5=E4=B8=BACC Pending Layer Tree=E7=9A=84=E8=BF=87=
=E7=A8=8B=EF=BC=8C=E4=BB=A5=E5=8F=8A=E4=B8=BACC Pending Layer Tree=E5=88=9B=
=E5=BB=BA=E5=88=86=E5=9D=97=E7=9A=84=E8=BF=87=E7=A8=8B=E3=80=82</p><p>&nbsp=
; &nbsp; &nbsp; &nbsp;LayerTreeHostImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=
=E5=87=BD=E6=95=B0BeginCommit=E7=9A=84=E5=AE=9E=E7=8E=B0=E5=A6=82=E4=B8=8B=
=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snip=
pet_file_name=3D"blog_20160509_6_7806317" name=3D"code" class=3D"cpp">void =
LayerTreeHostImpl::BeginCommit() {
  ......

  if (settings_.impl_side_painting)
    CreatePendingTree();
}</pre><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=
=E5=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees=
/layer_tree_host_impl.cc=E4=B8=AD=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp=
;=E5=8F=AA=E6=9C=89=E5=9C=A8Render=E8=BF=9B=E7=A8=8B=E5=90=AF=E7=94=A8Impl =
Side Painting=E7=89=B9=E6=80=A7=E6=83=85=E5=86=B5=E4=B8=8B=EF=BC=8C=E6=89=
=8D=E4=BC=9A=E5=AD=98=E5=9C=A8CC Pending Layer Tree=E3=80=82=E5=9B=A0=E6=AD=
=A4=EF=BC=8C=E5=8F=AA=E6=9C=89=E5=9C=A8Render=E8=BF=9B=E7=A8=8B=E5=90=AF=E7=
=94=A8Impl Side Painting=E7=89=B9=E6=80=A7=E6=83=85=E5=86=B5=E4=B8=8B=EF=BC=
=8CLayerTreeHostImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0B=
eginCommit=E6=89=8D=E4=BC=9A=E8=B0=83=E7=94=A8=E5=8F=A6=E5=A4=96=E4=B8=80=
=E4=B8=AA=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CreatePendingTree=E5=88=9B=E5=
=BB=BA=E4=B8=80=E4=B8=AA=E6=96=B0=E7=9A=84CC Pending Layer Tree=EF=BC=8C=E5=
=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=
=3D"1675568" snippet_file_name=3D"blog_20160509_7_3487918" name=3D"code" cl=
ass=3D"cpp">void LayerTreeHostImpl::CreatePendingTree() {
  CHECK(!pending_tree_);
  if (recycle_tree_)
    recycle_tree_.swap(pending_tree_);
  else
    pending_tree_ =3D LayerTreeImpl::create(this);

  ......
}</pre><p></p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=
=B0=E5=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/tr=
ees/layer_tree_host_impl.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp;=
 &nbsp;LayerTreeHostImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=
=8Fpending_tree_=E6=8F=8F=E8=BF=B0=E7=9A=84=E6=98=AF=E4=B8=8A=E4=B8=80=E6=
=AC=A1=E5=88=9B=E5=BB=BA=E7=9A=84CC Pending Layer Tree=E3=80=82=E8=BF=99=E4=
=B8=AACC Pending Layer Tree=E6=AD=A3=E5=9C=A8=E6=89=A7=E8=A1=8C=E5=85=89=E6=
=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E3=80=82=E4=B8=80=E6=97=A6=E8=BF=99=E4=B8=
=AA=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E6=89=A7=E8=A1=8C=E5=AE=8C=
=E6=88=90=EF=BC=8CLayerTreeHostImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=
=8F=98=E9=87=8Fpending_tree_=E7=9A=84=E5=80=BC=E5=B0=B1=E4=BC=9A=E8=A2=AB=
=E7=BD=AE=E4=B8=BANULL=EF=BC=8C=E5=90=8C=E6=97=B6=E5=AE=83=E5=8E=9F=E5=85=
=88=E6=8C=87=E5=90=91=E7=9A=84=E4=B8=80=E4=B8=AALayerTreeImpl=E5=AF=B9=E8=
=B1=A1=E4=BC=9A=E8=A2=AB=E7=BC=93=E5=AD=98=E5=9C=A8=E5=8F=A6=E5=A4=96=E4=B8=
=80=E4=B8=AA=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Frecycle_tree_=E3=80=82=E7=
=AD=89=E5=88=B0=E4=B8=8B=E6=AC=A1=E9=9C=80=E8=A6=81=E5=86=8D=E5=88=9B=E5=BB=
=BA=E6=96=B0=E7=9A=84CC Pending Layer Tree=E6=97=B6=EF=BC=8CLayerTreeHostIm=
pl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CreatePendingTree=
=E5=B0=B1=E4=BC=9A=E5=85=88=E6=A3=80=E6=9F=A5=E6=88=90=E5=91=98=E5=8F=98=E9=
=87=8Frecycle_tree_=E7=9A=84=E5=80=BC=E6=98=AF=E5=90=A6=E4=B8=BANULL=E3=80=
=82=E5=A6=82=E6=9E=9C=E4=B8=8D=E4=B8=BANULL=EF=BC=8C=E5=B0=B1=E4=BC=9A=E5=
=A4=8D=E7=94=A8=E5=AE=83=E6=89=80=E6=8C=87=E5=90=91=E7=9A=84=E4=B8=80=E4=B8=
=AALayerTreeImpl=E5=AF=B9=E8=B1=A1=EF=BC=8C=E7=94=A8=E4=BD=9C=E6=96=B0=E7=
=9A=84CC Pending Layer Tree=E3=80=82=E5=90=A6=E5=88=99=E7=9A=84=E8=AF=9D=EF=
=BC=8C=E5=B0=B1=E4=BC=9A=E8=B0=83=E7=94=A8LayerTreeImpl=E7=B1=BB=E7=9A=84=
=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0create=E5=88=9B=E5=BB=
=BA=E4=B8=80=E4=B8=AA=E6=96=B0=E7=9A=84CC Pending Layer Tree=E3=80=82=E6=97=
=A0=E8=AE=BA=E5=A6=82=E4=BD=95=EF=BC=8C=E6=9C=80=E7=BB=88=E5=BE=97=E5=88=B0=
=E7=9A=84CC Pending Layer Tree=E9=83=BD=E4=BF=9D=E5=AD=98=E5=9C=A8=E6=88=90=
=E5=91=98=E5=8F=98=E9=87=8Fpending_tree_=E4=B8=AD=E3=80=82</p><p>&nbsp; &nb=
sp; &nbsp; &nbsp;LayerTreeImpl=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=
=E5=91=98=E5=87=BD=E6=95=B0create=E7=9A=84=E5=AE=9E=E7=8E=B0=E5=A6=82=E4=B8=
=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" s=
nippet_file_name=3D"blog_20160509_8_5265825" name=3D"code" class=3D"cpp">cl=
ass CC_EXPORT LayerTreeImpl {
 public:
  static scoped_ptr&lt;LayerTreeImpl&gt; create(
      LayerTreeHostImpl* layer_tree_host_impl) {
    return make_scoped_ptr(new LayerTreeImpl(layer_tree_host_impl));
  }

  ......
};</pre>&nbsp; &nbsp; &nbsp; =E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=AE=9A=
=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/layer_tr=
ee_impl.h=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; =E4=BB=8E=E8=BF=
=99=E9=87=8C=E5=8F=AF=E4=BB=A5=E7=9C=8B=E5=88=B0=EF=BC=8CLayerTreeImpl=E7=
=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0create=
=E5=88=9B=E5=BB=BA=E7=9A=84=E6=98=AF=E4=B8=80=E4=B8=AALayerTreeImpl=E5=AF=
=B9=E8=B1=A1=E3=80=82=E8=BF=99=E4=B8=AALayerTreeImpl=E5=AF=B9=E8=B1=A1=E7=
=9A=84=E5=88=9B=E5=BB=BA=E8=BF=87=E7=A8=8B=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=
=AFLayerTreeImpl=E7=B1=BB=E7=9A=84=E6=9E=84=E9=80=A0=E5=87=BD=E6=95=B0=E7=
=9A=84=E5=AE=9E=E7=8E=B0=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p=
></p><pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20160509_9_=
5058865" name=3D"code" class=3D"cpp">LayerTreeImpl::LayerTreeImpl(LayerTree=
HostImpl* layer_tree_host_impl)
    : layer_tree_host_impl_(layer_tree_host_impl),
      ...... {
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/la=
yer_tree_impl.cc=E4=B8=AD=E3=80=82<br><p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;=
LayerTreeImpl=E7=B1=BB=E7=9A=84=E6=9E=84=E9=80=A0=E5=87=BD=E6=95=B0=E4=B8=
=BB=E8=A6=81=E6=98=AF=E5=B0=86=E5=8F=82=E6=95=B0layer_tree_host_impl=E6=8C=
=87=E5=90=91=E7=9A=84=E4=B8=80=E4=B8=AALayerTreeHostImpl=E5=AF=B9=E8=B1=A1=
=E4=BF=9D=E5=AD=98=E5=9C=A8=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Flayer_tree_h=
ost_impl_=E4=B8=AD=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E5=9B=9E=E5=
=88=B0=E5=89=8D=E9=9D=A2=E5=88=86=E6=9E=90=E7=9A=84ThreadProxy=E7=B1=BB=E7=
=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0ScheduledActionCommit=E4=B8=AD=EF=
=BC=8C=E5=AE=83=E8=B0=83=E7=94=A8LayerTreeHostImpl=E7=B1=BB=E7=9A=84=E6=88=
=90=E5=91=98=E5=87=BD=E6=95=B0BeginCommit=E5=88=9B=E5=BB=BA=E4=BA=86=E4=B8=
=80=E4=B8=AA=E6=96=B0=E7=9A=84CC Pending Layer Tree=E4=B9=8B=E5=90=8E=EF=BC=
=8C=E6=8E=A5=E4=B8=8B=E6=9D=A5=E5=B0=B1=E8=B0=83=E7=94=A8LayerTreeHost=E7=
=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0FinishCommitOnImplThread=
=E5=B0=86=E4=B9=8B=E5=89=8D=E7=BB=98=E5=88=B6=E5=A5=BD=E7=9A=84CC Layer Tre=
e=E5=90=8C=E6=AD=A5=E5=88=B0=E5=88=9A=E6=89=8D=E5=88=9B=E5=BB=BA=E5=87=BA=
=E6=9D=A5=E7=9A=84CC Pending Layer Tree=E5=8E=BB=EF=BC=8C=E5=A6=82=E4=B8=8B=
=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snip=
pet_file_name=3D"blog_20160509_10_740466" name=3D"code" class=3D"cpp">void =
LayerTreeHost::FinishCommitOnImplThread(LayerTreeHostImpl* host_impl) {
  ......

  LayerTreeImpl* sync_tree =3D host_impl-&gt;sync_tree();
  ......

  if (needs_full_tree_sync_)
    sync_tree-&gt;SetRootLayer(TreeSynchronizer::SynchronizeTrees(
        root_layer(), sync_tree-&gt;DetachLayerTree(), sync_tree));
  {
    ......
    TreeSynchronizer::PushProperties(root_layer(), sync_tree-&gt;root_layer=
());
  }

  sync_tree-&gt;set_needs_full_tree_sync(needs_full_tree_sync_);
  needs_full_tree_sync_ =3D false;
=20
  ......
}</pre><p></p>&nbsp; &nbsp; &nbsp; =E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/la=
yer_tree_host.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp;&nbsp;Layer=
TreeHost=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0FinishCommitO=
nImplThread=E9=A6=96=E5=85=88=E8=B0=83=E7=94=A8=E5=8F=82=E6=95=B0host_impl=
=E6=8C=87=E5=90=91=E7=9A=84=E4=B8=80=E4=B8=AALayerTreeHostImpl=E5=AF=B9=E8=
=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0sync_tree=E8=8E=B7=E5=BE=
=97=E5=88=9A=E6=89=8D=E5=88=9B=E5=BB=BA=E7=9A=84CC Pending Layer Tree=EF=BC=
=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippe=
t_id=3D"1675568" snippet_file_name=3D"blog_20160509_11_6073403" name=3D"cod=
e" class=3D"cpp">class CC_EXPORT LayerTreeHostImpl
    : public InputHandler,
      public RendererClient,
      public TileManagerClient,
      public OutputSurfaceClient,
      public TopControlsManagerClient,
      public ScrollbarAnimationControllerClient,
      public base::SupportsWeakPtr&lt;LayerTreeHostImpl&gt; {
 public:
  ......

  // Returns the tree LTH synchronizes with.
  LayerTreeImpl* sync_tree() {
    // In impl-side painting, synchronize to the pending tree so that it ha=
s
    // time to raster before being displayed.
    return settings_.impl_side_painting ? pending_tree_.get()
                                        : active_tree_.get();
  }

  ......
};</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/la=
yer_tree_host_impl.h=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;=
=E5=9C=A8Render=E8=BF=9B=E7=A8=8B=E5=90=AF=E7=94=A8Impl Side Painting=E7=89=
=B9=E6=80=A7=E7=9A=84=E6=83=85=E5=86=B5=E4=B8=8B=EF=BC=8CLayerTreeHostImpl=
=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0sync_tree=E8=
=BF=94=E5=9B=9E=E7=9A=84=E6=98=AF=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fpendin=
g_tree_=E6=8C=87=E5=90=91=E7=9A=84=E4=B8=80=E4=B8=AALayerTreeImpl=E5=AF=B9=
=E8=B1=A1=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=AF=E5=89=8D=E9=9D=A2=E5=88=9B=E5=
=BB=BA=E7=9A=84CC Pending Layer Tree=E3=80=82=E5=A6=82=E6=9E=9CRender=E8=BF=
=9B=E7=A8=8B=E6=B2=A1=E6=9C=89=E5=90=AF=E7=94=A8Impl Side Painting=E7=89=B9=
=E6=80=A7=EF=BC=8C=E9=82=A3=E4=B9=88LayerTreeHostImpl=E5=AF=B9=E8=B1=A1=E7=
=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0sync_tree=E8=BF=94=E5=9B=9E=E7=9A=
=84=E6=98=AF=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Factive_tree_=E6=8C=87=E5=90=
=91=E7=9A=84=E4=B8=80=E4=B8=AALayerTreeImpl=E5=AF=B9=E8=B1=A1=EF=BC=8C=E4=
=B9=9F=E5=B0=B1=E6=98=AFCC=E6=A8=A1=E5=9D=97=E4=B8=8A=E4=B8=80=E6=AC=A1=E8=
=8E=B7=E5=BE=97=E4=B8=80=E4=B8=AACC Active Layer Tree=E3=80=82=E8=BF=99=E9=
=87=8C=E6=88=91=E4=BB=AC=E5=8F=AA=E8=80=83=E8=99=91Render=E8=BF=9B=E7=A8=8B=
=E5=90=AF=E7=94=A8Impl Side Painting=E7=89=B9=E6=80=A7=E7=9A=84=E6=83=85=E5=
=86=B5=E3=80=82<br></p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E5=9B=9E=E5=88=B0=E5=
=89=8D=E9=9D=A2=E5=88=86=E6=9E=90=E7=9A=84LayerTreeHost=E7=B1=BB=E7=9A=84=
=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0FinishCommitOnImplThread=E4=B8=AD=EF=BC=
=8C=E5=AE=83=E8=8E=B7=E5=BE=97=E4=BA=86=E5=89=8D=E9=9D=A2=E5=88=9B=E5=BB=BA=
=E7=9A=84CC Pending Layer Tree=E4=B9=8B=E5=90=8E=EF=BC=8C=E6=8E=A5=E4=B8=8B=
=E6=9D=A5=E5=86=8D=E5=88=A4=E6=96=AD=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fnee=
ds_full_tree_sync_=E7=9A=84=E5=80=BC=E6=98=AF=E5=90=A6=E7=AD=89=E4=BA=8Etru=
e=E3=80=82=E5=A6=82=E6=9E=9C=E7=AD=89=E4=BA=8Etrue=EF=BC=8C=E9=82=A3=E4=B9=
=88=E5=B0=B1=E8=AF=B4=E6=98=8ECC Layer Tree=E7=9A=84=E7=BB=93=E6=9E=84=E5=
=8F=91=E7=94=9F=E4=BA=86=E5=8F=98=E5=8C=96=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=
=AF=E5=A2=9E=E5=8A=A0=E4=BA=86Layer=EF=BC=8C=E6=88=96=E8=80=85=E5=87=8F=E5=
=B0=91=E4=BA=86Layer=E3=80=82=E5=9C=A8=E8=BF=99=E7=A7=8D=E6=83=85=E5=86=B5=
=E4=B8=8B=EF=BC=8C=E5=B0=B1=E9=9C=80=E8=A6=81=E5=B0=86CC Layer Tree=E7=9A=
=84=E7=BB=93=E6=9E=84=E5=90=8C=E6=AD=A5=E5=88=B0CC Pending Layer Tree=E4=B8=
=AD=E5=8E=BB=E3=80=82=E8=BF=99=E6=98=AF=E9=80=9A=E8=BF=87=E8=B0=83=E7=94=A8=
TreeSynchronizer=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=
=87=BD=E6=95=B0SynchronizeTrees=E5=AE=9E=E7=8E=B0=E7=9A=84=E3=80=82</p><p>&=
nbsp; &nbsp; &nbsp; &nbsp;=E5=9C=A8=E8=B0=83=E7=94=A8TreeSynchronizer=E7=B1=
=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0Synchroni=
zeTrees=E4=B9=8B=E5=89=8D=EF=BC=8CLayerTreeHost=E7=B1=BB=E7=9A=84=E6=88=90=
=E5=91=98=E5=87=BD=E6=95=B0FinishCommitOnImplThread=E8=BF=98=E4=BC=9A=E5=81=
=9A=E4=B8=A4=E4=BB=B6=E4=BA=8B=E6=83=85=E3=80=82</p><p>&nbsp; &nbsp; &nbsp;=
 &nbsp;=E7=AC=AC=E4=B8=80=E4=BB=B6=E4=BA=8B=E6=83=85=E6=98=AF=E8=B0=83=E7=
=94=A8LayerTreeHost=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98root_layer=E8=8E=B7=
=E5=BE=97CC Layer Tree=E7=9A=84=E6=A0=B9=E8=8A=82=E7=82=B9=EF=BC=8C=E5=A6=
=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1=
675568" snippet_file_name=3D"blog_20160509_12_4578904" name=3D"code" class=
=3D"cpp">class CC_EXPORT LayerTreeHost {
 public:
  ......

  Layer* root_layer() { return root_layer_.get(); }
  ......

 private:
  ......

  scoped_refptr&lt;Layer&gt; root_layer_;
 =20
  ......
};</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/la=
yer_tree_host.h=E4=B8=AD=E3=80=82<br><p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;L=
ayerTreeHost=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98root_layer=E8=BF=94=E5=9B=
=9E=E7=9A=84=E6=98=AF=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Froot_layer_=E6=8C=
=87=E5=90=91=E7=9A=84=E4=B8=80=E4=B8=AALayer=E5=AF=B9=E8=B1=A1=E3=80=82=E8=
=BF=99=E4=B8=AALayer=E5=AF=B9=E8=B1=A1=E6=8F=8F=E8=BF=B0=E7=9A=84=E5=B0=B1=
=E6=98=AFCC Layer Tree=E7=9A=84=E6=A0=B9=E8=8A=82=E7=82=B9=E3=80=82</p><p>&=
nbsp; &nbsp; &nbsp; &nbsp;=E5=9B=9E=E5=88=B0LayerTreeHost=E7=B1=BB=E7=9A=84=
=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0FinishCommitOnImplThread=E4=B8=AD=EF=BC=
=8C=E5=AE=83=E6=8E=A5=E4=B8=8B=E6=9D=A5=E5=81=9A=E7=9A=84=E7=AC=AC=E4=BA=8C=
=E4=BB=B6=E4=BA=8B=E6=83=85=E6=98=AF=E6=B8=85=E7=A9=BA=E5=89=8D=E4=B8=80=E4=
=B8=AACC Pending Layer Tree=EF=BC=8C=E5=B9=B6=E4=B8=94=E8=BF=94=E5=9B=9E=E8=
=BF=99=E4=B8=AACC Pending Layer Tree=E7=9A=84=E6=A0=B9=E8=8A=82=E7=82=B9=E7=
=BB=99=E8=B0=83=E7=94=A8=E8=80=85=EF=BC=8C=E8=BF=99=E6=98=AF=E9=80=9A=E8=BF=
=87=E8=B0=83=E7=94=A8LayerTreeImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=
=87=BD=E6=95=B0DetachLayerTree=E5=AE=9E=E7=8E=B0=E7=9A=84=EF=BC=8C=E5=A6=82=
=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675=
568" snippet_file_name=3D"blog_20160509_13_8308658" name=3D"code" class=3D"=
cpp">scoped_ptr&lt;LayerImpl&gt; LayerTreeImpl::DetachLayerTree() {
  // Clear all data structures that have direct references to the layer tre=
e.
  ......

  render_surface_layer_list_.clear();
  ......
  return root_layer_.Pass();
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/la=
yer_tree_impl.cc=E4=B8=AD=E3=80=82<br><p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;=
CC Pending Layer Tree=E5=83=8FCC Layer Tree=E4=B8=80=E6=A0=B7=EF=BC=8C=E5=
=86=85=E9=83=A8=E4=B9=9F=E7=BB=B4=E6=8A=A4=E6=9C=89=E4=B8=80=E4=B8=AARender=
 Surface Tree=EF=BC=8C=E4=BF=9D=E5=AD=98=E5=9C=A8=E6=88=90=E5=91=98=E5=8F=
=98=E9=87=8Frender_surface_layer_list_=E4=B8=AD=E3=80=82=E8=BF=99=E4=B8=AAR=
ender Surface Tree=E6=98=AF=E6=A0=B9=E6=8D=AECC Pending Layer Tree=E5=88=9B=
=E5=BB=BA=E7=9A=84=E3=80=82=E5=85=B3=E4=BA=8ERender Surface Tree=E6=9B=B4=
=E8=AF=A6=E7=BB=86=E7=9A=84=E6=8F=8F=E8=BF=B0=EF=BC=8C=E5=8F=AF=E4=BB=A5=E5=
=8F=82=E8=80=83=E5=89=8D=E9=9D=A2<a target=3D"_blank" href=3D"http://blog.c=
sdn.net/luoshengyang/article/details/51148299">Chromium=E7=BD=91=E9=A1=B5La=
yer Tree=E7=BB=98=E5=88=B6=E8=BF=87=E7=A8=8B=E5=88=86=E6=9E=90</a>=E4=B8=80=
=E6=96=87=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;LayerTreeImpl=E7=B1=BB=
=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Froot_layer_=E6=8C=87=E5=90=91=
=E7=9A=84=E6=98=AF=E4=B8=80=E4=B8=AALayerImpl=E5=AF=B9=E8=B1=A1=E3=80=82=E8=
=BF=99=E4=B8=AALayerImpl=E5=AF=B9=E8=B1=A1=E6=8F=8F=E8=BF=B0=E7=9A=84=E5=B0=
=B1=E6=98=AF=E5=89=8D=E4=B8=80=E4=B8=AACC Pending Layer Tree=E7=9A=84=E6=A0=
=B9=E8=8A=82=E7=82=B9=EF=BC=8CLayerTreeImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=
=91=98=E5=87=BD=E6=95=B0DetachLayerTree=E5=B0=86=E5=AE=83=E8=BF=94=E5=9B=9E=
=E7=BB=99=E8=B0=83=E7=94=A8=E8=80=85=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &n=
bsp;=E5=9B=9E=E5=88=B0LayerTreeHost=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=
=87=BD=E6=95=B0FinishCommitOnImplThread=E4=B8=AD=EF=BC=8C=E5=AE=83=E8=8E=B7=
=E5=BE=97=E4=BA=86=E4=B9=8B=E5=89=8D=E5=88=9A=E5=88=9A=E7=BB=98=E5=88=B6=E5=
=A5=BD=E7=9A=84CC Layer Tree=E5=92=8C=E5=89=8D=E4=B8=80=E4=B8=AACC Pending =
Layer Tree=E7=9A=84=E6=A0=B9=E8=8A=82=E7=82=B9=E4=B9=8B=E5=90=8E=EF=BC=8C=
=E6=8E=A5=E4=B8=8B=E6=9D=A5=E5=B0=B1=E8=B0=83=E7=94=A8TreeSynchronizer=E7=
=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0Synchr=
onizeTrees=E5=B0=86=E5=89=8D=E8=80=85=E5=90=8C=E6=AD=A5=E5=88=B0=E6=96=B0=
=E7=9A=84CC Pending Layer Tree=E5=8E=BB=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=
=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet_file_=
name=3D"blog_20160509_14_5626463" name=3D"code" class=3D"cpp">scoped_ptr&lt=
;LayerImpl&gt; TreeSynchronizer::SynchronizeTrees(
    Layer* layer_root,
    scoped_ptr&lt;LayerImpl&gt; old_layer_impl_root,
    LayerTreeImpl* tree_impl) {
  return SynchronizeTreesInternal(
      layer_root, old_layer_impl_root.Pass(), tree_impl);
}</pre>&nbsp; &nbsp; &nbsp; =E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=AE=9A=
=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/tree_syn=
chronizer.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; =E6=88=91=E4=
=BB=AC=E9=A6=96=E5=85=88=E6=98=8E=E7=A1=AE=E4=B8=80=E4=B8=8B=E5=90=84=E4=B8=
=AA=E5=8F=82=E6=95=B0=E7=9A=84=E5=90=AB=E4=B9=89=E3=80=82=E5=8F=82=E6=95=B0=
layer_root=E6=8F=8F=E8=BF=B0=E7=9A=84=E6=98=AF=E4=B9=8B=E5=89=8D=E5=88=9A=
=E5=88=9A=E7=BB=98=E5=88=B6=E5=A5=BD=E7=9A=84CC Layer Tree=E3=80=82=E5=8F=
=82=E6=95=B0old_layer_impl_root=E6=8F=8F=E8=BF=B0=E7=9A=84=E6=98=AF=E5=89=
=8D=E4=B8=80=E4=B8=AACC Pending Layer Tree=E3=80=82=E8=BF=99=E4=B8=AACC Pen=
ding Layer Tree=E5=B7=B2=E7=BB=8F=E5=85=89=E6=A0=85=E5=8C=96=E5=AE=8C=E6=AF=
=95=EF=BC=8C=E4=BD=86=E6=98=AF=E8=A2=AB=E7=BC=93=E5=AD=98=E4=BA=86=E8=B5=B7=
=E6=9D=A5=EF=BC=8C=E7=8E=B0=E5=9C=A8=E5=B0=86=E8=A2=AB=E5=A4=8D=E7=94=A8=E3=
=80=82=E5=8F=82=E6=95=B0tree_impl=E6=8F=8F=E8=BF=B0=E7=9A=84=E6=98=AF=E6=96=
=B0=E7=9A=84CC Pending Layer Tree=E3=80=82</p><p>&nbsp; &nbsp; &nbsp;&nbsp;=
TreeSynchronizer=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=
=87=BD=E6=95=B0SynchronizeTrees=E6=89=80=E5=81=9A=E7=9A=84=E4=BA=8B=E6=83=
=85=E5=B0=B1=E6=98=AF=E5=B0=86=E4=B9=8B=E5=89=8D=E5=88=9A=E5=88=9A=E7=BB=98=
=E5=88=B6=E5=A5=BD=E7=9A=84CC Layer Tree=E7=9A=84=E7=BB=93=E6=9E=84=E5=90=
=8C=E6=AD=A5=E5=88=B0=E6=96=B0=E7=9A=84CC Pending Layer Tree=E3=80=82=E5=9C=
=A8=E5=90=8C=E6=AD=A5=E7=9A=84=E8=BF=87=E7=A8=8B=E4=B8=AD=EF=BC=8C=E9=9C=80=
=E8=A6=81=E4=BD=BF=E7=94=A8=E5=89=8D=E4=B8=80=E4=B8=AACC Pending Layer Tree=
=E3=80=82=E8=BF=99=E6=98=AF=E9=80=9A=E8=BF=87=E8=B0=83=E7=94=A8=E5=8F=A6=E5=
=A4=96=E4=B8=80=E4=B8=AA=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=
=B0SynchronizeTreesInternal=E5=AE=9E=E7=8E=B0=E7=9A=84=EF=BC=8C=E5=A6=82=E4=
=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568=
" snippet_file_name=3D"blog_20160509_15_9879604" name=3D"code" class=3D"cpp=
">template &lt;typename LayerType&gt;
scoped_ptr&lt;LayerImpl&gt; SynchronizeTreesInternal(
    LayerType* layer_root,
    scoped_ptr&lt;LayerImpl&gt; old_layer_impl_root,
    LayerTreeImpl* tree_impl) {
  ......
  ScopedPtrLayerImplMap old_layers;
  RawPtrLayerImplMap new_layers;

  CollectExistingLayerImplRecursive(&amp;old_layers, old_layer_impl_root.Pa=
ss());

  scoped_ptr&lt;LayerImpl&gt; new_tree =3D SynchronizeTreesRecursive(
      &amp;new_layers, &amp;old_layers, layer_root, tree_impl);

  ......

  return new_tree.Pass();
}</pre>&nbsp; &nbsp; &nbsp; =E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=AE=9A=
=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/tree_syn=
chronizer.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp;&nbsp;TreeSynch=
ronizer=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=
=95=B0SynchronizeTreesInternal=E6=98=AF=E4=B8=80=E4=B8=AA=E6=A8=A1=E6=9D=BF=
=E5=87=BD=E6=95=B0=E3=80=82=E5=9C=A8=E6=88=91=E4=BB=AC=E8=BF=99=E4=B8=AA=E6=
=83=85=E5=86=B5=E4=B8=AD=EF=BC=8C=E5=AE=83=E7=9A=84=E6=A8=A1=E6=9D=BF=E5=8F=
=82=E6=95=B0LayerType=E7=AD=89=E4=BA=8ELayer=E3=80=82=E8=BF=99=E6=84=8F=E5=
=91=B3=E7=9D=80=E5=8F=82=E6=95=B0layer_root=E6=8C=87=E5=90=91=E7=9A=84=E6=
=98=AF=E4=B8=80=E4=B8=AALayer=E5=AF=B9=E8=B1=A1=E3=80=82=E8=BF=99=E4=B8=AAL=
ayer=E5=AF=B9=E8=B1=A1=E6=8F=8F=E8=BF=B0=E7=9A=84=E5=B0=B1=E6=98=AFCC Layer=
 Tree=E3=80=82</p><p>&nbsp; &nbsp; &nbsp;&nbsp;TreeSynchronizer=E7=B1=BB=E7=
=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0SynchronizeTree=
sInternal=E9=A6=96=E5=85=88=E8=B0=83=E7=94=A8=E5=87=BD=E6=95=B0CollectExist=
ingLayerImplRecursive=E6=94=B6=E9=9B=86=E5=89=8D=E4=B8=80=E4=B8=AACC Pendin=
g Layer Tree=E4=B8=AD=E7=9A=84Layer=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=
=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet_file_nam=
e=3D"blog_20160509_16_9464900" name=3D"code" class=3D"cpp">void CollectExis=
tingLayerImplRecursive(ScopedPtrLayerImplMap* old_layers,
                                       scoped_ptr&lt;LayerImpl&gt; layer_im=
pl) {
  ......

  OwnedLayerImplList&amp; children =3D layer_impl-&gt;children();
  for (OwnedLayerImplList::iterator it =3D children.begin();
       it !=3D children.end();
       ++it)
    CollectExistingLayerImplRecursive(old_layers, children.take(it));

  ......

  int id =3D layer_impl-&gt;id();
  old_layers-&gt;set(id, layer_impl.Pass());
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/tr=
ee_synchronizer.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;=
=E5=87=BD=E6=95=B0CollectExistingLayerImplRecursive=E4=BC=9A=E9=80=92=E5=BD=
=92=E8=B0=83=E7=94=A8=E8=87=AA=E5=B7=B1=EF=BC=8C=E4=BB=A5=E4=BE=BF=E6=94=B6=
=E9=9B=86=E5=8F=82=E6=95=B0layer_impl=E6=8F=8F=E8=BF=B0=E7=9A=84CC Pending =
Layer Tree=E7=9A=84=E6=89=80=E6=9C=89Layer=E3=80=82=E8=BF=99=E4=BA=9BLayer=
=E5=88=86=E5=88=AB=E4=BB=A5=E5=AE=83=E4=BB=AC=E7=9A=84ID=E4=B8=BA=E9=94=AE=
=E5=80=BC=EF=BC=8C=E4=BF=9D=E5=AD=98=E5=9C=A8=E5=8F=82=E6=95=B0old_layers=
=E6=8F=8F=E8=BF=B0=E7=9A=84=E4=B8=80=E4=B8=AAMap=E4=B8=AD=E3=80=82</p><p>&n=
bsp; &nbsp; &nbsp; &nbsp;=E5=9B=9E=E5=88=B0TreeSynchronizer=E7=B1=BB=E7=9A=
=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0SynchronizeTreesIn=
ternal=EF=BC=8C=E5=AE=83=E5=B0=86=E5=89=8D=E4=B8=80=E4=B8=AACC Pending Laye=
r Tree=E4=B8=AD=E7=9A=84=E6=89=80=E6=9C=89Layer=E9=83=BD=E6=94=B6=E9=9B=86=
=E5=88=B0=E6=9C=AC=E5=9C=B0=E5=8F=98=E9=87=8Fold_layers=E6=8F=8F=E8=BF=B0=
=E7=9A=84=E4=B8=80=E4=B8=AAMap=E4=B9=8B=E5=90=8E=EF=BC=8C=E6=8E=A5=E4=B8=8B=
=E6=9D=A5=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AA=E9=9D=99=E6=80=81=E6=88=90=E5=
=91=98=E5=87=BD=E6=95=B0SynchronizeTreesRecursive=E5=B0=86=E5=8F=82=E6=95=
=B0root_layer=E6=8F=8F=E8=BF=B0=E7=9A=84CC Layer Tree=E7=9A=84=E7=BB=93=E6=
=9E=84=E5=90=8C=E6=AD=A5=E5=88=B0tree_impl=E6=8F=8F=E8=BF=B0=E7=9A=84=E6=96=
=B0=E7=9A=84CC Pending Layer Tree=E4=B8=AD=E5=8E=BB=EF=BC=8C=E5=A6=82=E4=B8=
=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" s=
nippet_file_name=3D"blog_20160509_17_4034470" name=3D"code" class=3D"cpp">s=
coped_ptr&lt;LayerImpl&gt; SynchronizeTreesRecursive(
    RawPtrLayerImplMap* new_layers,
    ScopedPtrLayerImplMap* old_layers,
    Layer* layer,
    LayerTreeImpl* tree_impl) {
  return SynchronizeTreesRecursiveInternal(
      new_layers, old_layers, layer, tree_impl);
}</pre><p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=
=95=B0=E5=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc=
/trees/tree_synchronizer.cc=E4=B8=AD=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &n=
bsp;TreeSynchronizer=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=
=E5=87=BD=E6=95=B0SynchronizeTreesRecursive=E8=B0=83=E7=94=A8=E5=8F=A6=E5=
=A4=96=E4=B8=80=E4=B8=AA=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=
=B0SynchronizeTreesRecursiveInternal=E5=B0=86=E5=8F=82=E6=95=B0layer=E6=8F=
=8F=E8=BF=B0=E7=9A=84CC Layer Tree=E5=90=8C=E6=AD=A5=E5=88=B0=E5=8F=82=E6=
=95=B0tree_impl=E6=8F=8F=E8=BF=B0=E7=9A=84CC Pending Layer Tree=E5=8E=BB=EF=
=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_sni=
ppet_id=3D"1675568" snippet_file_name=3D"blog_20160509_18_1352275" name=3D"=
code" class=3D"cpp">template &lt;typename LayerType&gt;
scoped_ptr&lt;LayerImpl&gt; SynchronizeTreesRecursiveInternal(
    RawPtrLayerImplMap* new_layers,
    ScopedPtrLayerImplMap* old_layers,
    LayerType* layer,
    LayerTreeImpl* tree_impl) {
  ......

  scoped_ptr&lt;LayerImpl&gt; layer_impl =3D
      ReuseOrCreateLayerImpl(new_layers, old_layers, layer, tree_impl);

  layer_impl-&gt;ClearChildList();
  for (size_t i =3D 0; i &lt; layer-&gt;children().size(); ++i) {
    layer_impl-&gt;AddChild(SynchronizeTreesRecursiveInternal(
        new_layers, old_layers, layer-&gt;child_at(i), tree_impl));
  }

  ......

  return layer_impl.Pass();
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/tr=
ee_synchronizer.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;Tr=
eeSynchronizer=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=
=BD=E6=95=B0SynchronizeTreesRecursiveInternal=E4=B9=9F=E6=98=AF=E4=B8=80=E4=
=B8=AA=E6=A8=A1=E6=9D=BF=E5=87=BD=E6=95=B0=E3=80=82=E5=9C=A8=E6=88=91=E4=BB=
=AC=E8=BF=99=E4=B8=AA=E6=83=85=E6=99=AF=E4=B8=AD=EF=BC=8C=E5=AE=83=E7=9A=84=
=E6=A8=A1=E6=9D=BF=E5=8F=82=E6=95=B0LayerType=E7=AD=89=E4=BA=8ELayer=E3=80=
=82=E8=BF=99=E6=84=8F=E5=91=B3=E7=9D=80=E5=8F=82=E6=95=B0layer=E6=8C=87=E5=
=90=91=E7=9A=84=E6=98=AF=E4=B8=80=E4=B8=AALayer=E5=AF=B9=E8=B1=A1=E3=80=82=
=E8=BF=99=E4=B8=AALayer=E5=AF=B9=E8=B1=A1=E6=8F=8F=E8=BF=B0=E7=9A=84=E5=B0=
=B1=E6=98=AFCC Layer Tree=E7=9A=84=E6=A0=B9=E8=8A=82=E7=82=B9=E3=80=82</p><=
p>&nbsp; &nbsp; &nbsp; &nbsp;TreeSynchronizer=E7=B1=BB=E7=9A=84=E9=9D=99=E6=
=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0SynchronizeTreesRecursiveInternal=
=E5=B0=86=E5=8F=82=E6=95=B0layer=E6=8F=8F=E8=BF=B0=E7=9A=84=E4=B8=80=E4=B8=
=AALayer=E5=90=8C=E6=AD=A5=E5=88=B0=E5=8F=82=E6=95=B0tree_impl=E6=8F=8F=E8=
=BF=B0=E7=9A=84CC Pending Layer Tree=E5=8E=BB=EF=BC=8C=E8=BF=99=E6=98=AF=E9=
=80=9A=E8=BF=87=E8=B0=83=E7=94=A8=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AA=E9=9D=
=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0ReuseOrCreateLayerImpl=E5=
=AE=9E=E7=8E=B0=E7=9A=84=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;TreeSync=
hronizer=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=
=95=B0SynchronizeTreesRecursiveInternal=E6=8E=A5=E4=B8=8B=E6=9D=A5=E5=8F=88=
=E9=80=92=E5=BD=92=E8=B0=83=E7=94=A8=E8=87=AA=E5=B7=B1=E5=B0=86=E5=8F=82=E6=
=95=B0layer=E6=8F=8F=E8=BF=B0=E7=9A=84Layer=E7=9A=84=E6=89=80=E6=9C=89=E5=
=AD=90Layer=E5=90=8C=E6=AD=A5=E5=88=B0=E5=8F=82=E6=95=B0tree_impl=E6=8F=8F=
=E8=BF=B0=E7=9A=84CC Pending Layer Tree=E5=8E=BB=EF=BC=8C=E4=BB=8E=E8=80=8C=
=E5=B0=86CC Layer Tree=E7=9A=84=E6=89=80=E6=9C=89Layer=E9=83=BD=E5=90=8C=E6=
=AD=A5=E5=88=B0CC Pending Layer Tree=E5=8E=BB=E3=80=82</p><p>&nbsp; &nbsp; =
&nbsp; &nbsp;TreeSynchronizer=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=
=E5=91=98=E5=87=BD=E6=95=B0ReuseOrCreateLayerImpl=E7=9A=84=E5=AE=9E=E7=8E=
=B0=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippe=
t_id=3D"1675568" snippet_file_name=3D"blog_20160509_19_1493979" name=3D"cod=
e" class=3D"cpp">template &lt;typename LayerType&gt;
scoped_ptr&lt;LayerImpl&gt; ReuseOrCreateLayerImpl(RawPtrLayerImplMap* new_=
layers,
                                             ScopedPtrLayerImplMap* old_lay=
ers,
                                             LayerType* layer,
                                             LayerTreeImpl* tree_impl) {
  scoped_ptr&lt;LayerImpl&gt; layer_impl =3D old_layers-&gt;take(layer-&gt;=
id());

  if (!layer_impl)
    layer_impl =3D layer-&gt;CreateLayerImpl(tree_impl);

  (*new_layers)[layer-&gt;id()] =3D layer_impl.get();
  return layer_impl.Pass();
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/tr=
ee_synchronizer.cc=E4=B8=AD=E3=80=82<br><p></p><p>&nbsp; &nbsp; &nbsp; &nbs=
p;TreeSynchronizer=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=
=87=BD=E6=95=B0ReuseOrCreateLayerImpl=E9=A6=96=E5=85=88=E5=9C=A8=E5=8F=82=
=E6=95=B0old_layers=E6=8F=8F=E8=BF=B0=E7=9A=84=E4=B8=80=E4=B8=AAMap=E4=B8=
=AD=E6=A3=80=E6=9F=A5=E6=98=AF=E5=90=A6=E5=AD=98=E5=9C=A8=E4=B8=80=E4=B8=AA=
LayerImpl=E5=AF=B9=E8=B1=A1=EF=BC=8C=E8=BF=99=E4=B8=AALayerImpl=E5=AF=B9=E8=
=B1=A1=E7=9A=84ID=E4=B8=8E=E5=8F=82=E6=95=B0layer=E6=8C=87=E5=90=91=E7=9A=
=84Layer=E5=AF=B9=E8=B1=A1=E7=9A=84ID=E5=80=BC=E7=9B=B8=E5=90=8C=E3=80=82=
=E5=A6=82=E6=9E=9C=E5=AD=98=E5=9C=A8=EF=BC=8C=E5=B0=B1=E6=84=8F=E5=91=B3=E5=
=9C=A8=E5=8F=82=E6=95=B0layer=E6=8F=8F=E8=BF=B0=E7=9A=84Layer=E5=9C=A8CC La=
yer Tree=E7=9A=84=E7=BB=98=E5=88=B6=E5=89=8D=E5=90=8E=EF=BC=8C=E6=B2=A1=E6=
=9C=89=E5=8F=91=E7=94=9F=E5=8F=98=E5=8C=96=E3=80=82=E8=BF=99=E6=84=8F=E5=91=
=B3=E7=9D=80=E6=88=91=E4=BB=AC=E5=8F=AF=E4=BB=A5=E5=A4=8D=E7=94=A8=E5=9C=A8=
=E5=89=8D=E4=B8=80=E4=B8=AACC Pending Layer Tree=E4=B8=AD=E5=AF=B9=E5=BA=94=
=E7=9A=84Layer=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E5=A6=82=E6=9E=9C=
=E4=B8=8D=E5=AD=98=E5=9C=A8=EF=BC=8C=E9=82=A3=E4=B9=88=E5=B0=B1=E8=AF=B4=E6=
=98=8E=E5=8F=82=E6=95=B0layer=E6=8F=8F=E8=BF=B0=E7=9A=84Layer=E6=98=AF=E6=
=96=B0=E5=A2=9E=E5=8A=A0=E5=88=B0CC Layer Tree=E4=B8=AD=E7=9A=84=E3=80=82=
=E5=9C=A8=E8=BF=99=E7=A7=8D=E6=83=85=E5=86=B5=E4=B8=8B=EF=BC=8C=E5=B0=B1=E9=
=9C=80=E8=A6=81=E8=B0=83=E7=94=A8=E5=8F=82=E6=95=B0layer=E6=8C=87=E5=90=91=
=E7=9A=84=E4=B8=80=E4=B8=AALayer=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=
=98=E5=87=BD=E6=95=B0CreateLayerImpl=E5=88=9B=E5=BB=BA=E4=B8=80=E4=B8=AALay=
erImpl=E5=AF=B9=E8=B1=A1=E3=80=82=E8=BF=99=E4=B8=AALayerImpl=E5=AF=B9=E8=B1=
=A1=E7=94=A8=E6=9D=A5=E6=8F=8F=E8=BF=B0=E5=9C=A8=E6=96=B0=E7=9A=84CC Pendin=
g Layer Tree=E4=B8=AD=EF=BC=8C=E4=B8=8E=E5=8F=82=E6=95=B0layer=E6=8F=8F=E8=
=BF=B0=E7=9A=84Layer=E5=AF=B9=E5=BA=94=E7=9A=84=E4=B8=80=E4=B8=AALayer=E3=
=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E5=8F=82=E6=95=B0layer=E6=8F=8F=E8=
=BF=B0=E7=9A=84Layer=E6=98=AFCC Layer Tree=E4=B8=AD=E7=9A=84=E4=B8=80=E4=B8=
=AALayer=E3=80=82=E4=BB=8E=E5=89=8D=E9=9D=A2<a target=3D"_blank" href=3D"ht=
tp://blog.csdn.net/luoshengyang/article/details/50941980">Chromium=E7=BD=91=
=E9=A1=B5Layer Tree=E5=88=9B=E5=BB=BA=E8=BF=87=E7=A8=8B=E5=88=86=E6=9E=90</=
a>=E4=B8=80=E6=96=87=E5=8F=AF=E4=BB=A5=E7=9F=A5=E9=81=93=EF=BC=8CCC Layer T=
ree=E4=B8=AD=E7=9A=84Layer=E7=9A=84=E5=AE=9E=E9=99=85=E7=B1=BB=E5=9E=8B=E6=
=98=AFPictureLayer=E3=80=82=E5=9B=A0=E6=AD=A4=EF=BC=8CTreeSynchronizer=E7=
=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0ReuseO=
rCreateLayerImpl=E5=AE=9E=E9=99=85=E4=B8=8A=E6=98=AF=E8=B0=83=E7=94=A8Pictu=
reLayer=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CreateLayerImp=
l=E5=88=9B=E5=BB=BA=E4=B8=80=E4=B8=AALayerImpl=E5=AF=B9=E8=B1=A1=EF=BC=8C=
=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_i=
d=3D"1675568" snippet_file_name=3D"blog_20160509_20_5223732" name=3D"code" =
class=3D"cpp">scoped_ptr&lt;LayerImpl&gt; PictureLayer::CreateLayerImpl(Lay=
erTreeImpl* tree_impl) {
  return PictureLayerImpl::Create(tree_impl, id()).PassAs&lt;LayerImpl&gt;(=
);
}</pre><p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=
=95=B0=E5=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc=
/layers/picture_layer.cc=E4=B8=AD=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp=
;PictureLayer=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CreateLa=
yerImpl=E8=B0=83=E7=94=A8PictureLayerImpl=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=
=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0Create=E5=88=9B=E5=BB=BA=E4=BA=86=E4=
=B8=80=E4=B8=AAPictureLayerImpl=E5=AF=B9=E8=B1=A1=E3=80=82=E8=BF=99=E4=B8=
=AAPictureLayerImpl=E5=AF=B9=E8=B1=A1=E7=9A=84ID=E4=B8=8E=E5=BD=93=E5=89=8D=
=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84=E4=B8=80=E4=B8=AAPictureLayer=
=E5=AF=B9=E8=B1=A1=E7=9A=84ID=E5=80=BC=E7=9B=B8=E5=90=8C=E3=80=82=E8=BF=99=
=E6=84=8F=E5=91=B3=E7=9D=80=EF=BC=8C=E5=9C=A8CC Layer Tree=E5=92=8CCC Pendi=
ng Layer Tree=E4=B8=AD=EF=BC=8C=E5=AF=B9=E5=BA=94=E7=9A=84Layer=E5=85=B7=E6=
=9C=89=E7=9B=B8=E5=90=8C=E7=9A=84ID=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nb=
sp;PictureLayerImpl=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=
=E5=87=BD=E6=95=B0Create=E7=9A=84=E5=AE=9E=E7=8E=B0=E5=A6=82=E4=B8=8B=E6=89=
=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet_fi=
le_name=3D"blog_20160509_21_9476874" name=3D"code" class=3D"cpp">class CC_E=
XPORT PictureLayerImpl
    : public LayerImpl,
      NON_EXPORTED_BASE(public PictureLayerTilingClient) {
 public:
  ......

  static scoped_ptr&lt;PictureLayerImpl&gt; Create(LayerTreeImpl* tree_impl=
, int id) {
    return make_scoped_ptr(new PictureLayerImpl(tree_impl, id));
  }

  ......
};</pre><p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=
=95=B0=E5=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc=
/layers/picture_layer_impl.h=E4=B8=AD=E3=80=82<br></p><p>&nbsp; &nbsp; &nbs=
p; &nbsp;=E4=BB=8E=E8=BF=99=E9=87=8C=E5=8F=AF=E4=BB=A5=E7=9C=8B=E5=88=B0=EF=
=BC=8CPictureLayerImpl=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=
=98=E5=87=BD=E6=95=B0Create=E5=88=9B=E5=BB=BA=E7=9A=84=E6=98=AF=E4=B8=80=E4=
=B8=AAPictureLayerImpl=E5=AF=B9=E8=B1=A1=EF=BC=8C=E5=B9=B6=E4=B8=94=E5=B0=
=86=E8=BF=99=E4=B8=AAPictureLayerImpl=E5=AF=B9=E8=B1=A1=E8=BF=94=E5=9B=9E=
=E7=BB=99=E8=B0=83=E7=94=A8=E8=80=85=E3=80=82=E8=BF=99=E4=B8=AAPictureLayer=
Impl=E5=AF=B9=E8=B1=A1=E7=9A=84=E5=88=9B=E5=BB=BA=E8=BF=87=E7=A8=8B=EF=BC=
=8C=E4=B9=9F=E5=B0=B1=E6=98=AFPictureLayerImpl=E7=B1=BB=E7=9A=84=E6=9E=84=
=E9=80=A0=E5=87=BD=E6=95=B0=E7=9A=84=E5=AE=9E=E7=8E=B0=EF=BC=8C=E5=A6=82=E4=
=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568=
" snippet_file_name=3D"blog_20160509_22_8888229" name=3D"code" class=3D"cpp=
">PictureLayerImpl::PictureLayerImpl(LayerTreeImpl* tree_impl, int id)
    : LayerImpl(tree_impl, id),
      ...... {
  ......
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc$ vi laye=
rs/picture_layer_impl.cc=E4=B8=AD=E3=80=82<br><p></p><p>&nbsp; &nbsp; &nbsp=
; &nbsp;PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=9E=84=E9=80=A0=E5=87=BD=E6=95=
=B0=E4=B8=BB=E8=A6=81=E6=98=AF=E8=B0=83=E7=94=A8=E7=88=B6=E7=B1=BBLayer=E7=
=9A=84=E6=9E=84=E9=80=A0=E5=87=BD=E6=95=B0=E5=AF=B9=E5=BD=93=E5=89=8D=E6=AD=
=A3=E5=9C=A8=E5=88=9B=E5=BB=BA=E7=9A=84PictrueLayerImpl=E5=AF=B9=E8=B1=A1=
=E8=BF=9B=E8=A1=8C=E5=88=9D=E5=A7=8B=E5=8C=96=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=
=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet=
_file_name=3D"blog_20160509_23_4569831" name=3D"code" class=3D"cpp">LayerIm=
pl::LayerImpl(LayerTreeImpl* tree_impl, int id)
    : ......,
      layer_id_(id),
      layer_tree_impl_(tree_impl),
      ...... {
  ......
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/layers/l=
ayer_impl.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E4=BB=
=8E=E5=89=8D=E9=9D=A2=E7=9A=84=E8=B0=83=E7=94=A8=E8=BF=87=E7=A8=8B=E5=8F=AF=
=E4=BB=A5=E7=9F=A5=E9=81=93=EF=BC=8C=E5=8F=82=E6=95=B0tree_impl=E6=8F=8F=E8=
=BF=B0=E7=9A=84=E6=98=AF=E4=B8=80=E4=B8=AACC Pending Layer Tree=E3=80=82=E8=
=BF=99=E4=B8=AACC Pending Layer Tree=E8=AE=B0=E5=BD=95=E5=9C=A8Layer=E7=B1=
=BB=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Flayer_tree_impl_=E4=B8=AD=
=EF=BC=8C=E8=A1=A8=E7=A4=BA=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=88=9B=E5=
=BB=BA=E7=9A=84PictureLayerImpl=E5=AF=B9=E8=B1=A1=E6=89=80=E5=B1=9E=E7=9A=
=84Tree=E3=80=82=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AA=E5=8F=82=E6=95=B0id=E6=
=8F=8F=E8=BF=B0=E7=9A=84=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=88=9B=E5=BB=
=BA=E7=9A=84PictureLayerImpl=E5=AF=B9=E8=B1=A1=E7=9A=84ID=EF=BC=8C=E4=BF=9D=
=E5=AD=98=E5=9C=A8=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AA=E6=88=90=E5=91=98=E5=
=8F=98=E9=87=8Flayer_id_=E4=B8=AD=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp=
;=E5=9B=9E=E5=88=B0TreeSynchronizer=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=
=88=90=E5=91=98=E5=87=BD=E6=95=B0ReuseOrCreateLayerImpl=E4=B8=AD=EF=BC=8C=
=E5=AE=83=E8=8E=B7=E5=BE=97=E4=BA=86=E4=B8=8E=E5=8F=82=E6=95=B0layer=E6=8C=
=87=E5=90=91=E7=9A=84Layer=E5=AF=B9=E8=B1=A1=E5=AF=B9=E5=BA=94=E7=9A=84=E4=
=B8=80=E4=B8=AAPictureLayerImpl=E5=AF=B9=E8=B1=A1=E4=B9=8B=E5=90=8E=EF=BC=
=8C=E5=B0=B1=E4=BB=A5=E8=BF=99=E4=B8=AAPictureLayerImpl=E7=9A=84ID=E4=B8=BA=
=E9=94=AE=E5=80=BC=E5=B0=86=E8=BF=99=E4=B8=AAPictureLayerImpl=E5=AF=B9=E8=
=B1=A1=E4=BF=9D=E5=AD=98=E5=9C=A8=E5=8F=82=E6=95=B0new_layers=E6=8F=8F=E8=
=BF=B0=E7=9A=84=E4=B8=80=E4=B8=AAMap=E4=B8=AD=E3=80=82=E8=BF=99=E6=84=8F=E5=
=91=B3=E5=B0=86=E4=B9=8B=E5=89=8D=E5=88=9A=E7=BB=98=E5=88=B6=E5=A5=BD=E7=9A=
=84CC Layer Tree=E5=90=8C=E6=AD=A5=E5=88=B0=E6=96=B0=E7=9A=84CC Pending Lay=
er Tree=E5=8E=BB=E4=B9=8B=E5=90=8E=EF=BC=8C=E5=90=8E=E8=80=85=E7=9A=84=E6=
=89=80=E6=9C=89=E7=9A=84Layer=E9=83=BD=E4=BF=9D=E5=AD=98=E5=9C=A8=E5=8F=82=
=E6=95=B0new_layers=E6=8F=8F=E8=BF=B0=E7=9A=84Map=E4=B8=AD=E3=80=82</p><p>&=
nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=80=E6=AD=A5=E6=89=A7=E8=A1=8C=E5=
=AE=8C=E6=88=90=E5=90=8E=EF=BC=8C=E4=B9=8B=E5=89=8D=E5=88=9A=E7=BB=98=E5=88=
=B6=E5=A5=BD=E7=9A=84CC Layer Tree=E7=9A=84=E7=BB=93=E6=9E=84=E5=B0=B1=E5=
=90=8C=E6=AD=A5=E5=88=B0=E6=96=B0=E5=88=9B=E5=BB=BA=E7=9A=84CC Pending Laye=
r Tree=E4=B8=AD=E5=8E=BB=E4=BA=86=E3=80=82=E5=9B=9E=E5=88=B0=E5=89=8D=E9=9D=
=A2=E5=88=86=E6=9E=90=E7=9A=84LayerTreeHost=E7=B1=BB=E7=9A=84=E6=88=90=E5=
=91=98=E5=87=BD=E6=95=B0FinishCommitOnImplThread=E4=B8=AD=EF=BC=8C=E5=AE=83=
=E6=8E=A5=E4=B8=8B=E6=9D=A5=E7=BB=A7=E7=BB=AD=E6=89=A7=E8=A1=8C=E5=90=8C=E6=
=AD=A5=E6=93=8D=E4=BD=9C=E3=80=82=E4=B8=8D=E8=BF=87=E8=BF=99=E6=97=B6=E5=80=
=99=E6=98=AF=E5=B0=86CC Layer Tree=E7=9A=84=E5=B1=9E=E6=80=A7=E5=8F=98=E5=
=8C=96=E5=90=8C=E6=AD=A5=E5=88=B0CC Pending Layer Tree=E4=B8=AD=E5=8E=BB=E3=
=80=82=E8=BF=99=E6=98=AF=E9=80=9A=E8=BF=87=E8=B0=83=E7=94=A8TreeSynchronize=
r=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0Pu=
shProperties=E5=AE=9E=E7=8E=B0=E7=9A=84=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=
=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet_file_=
name=3D"blog_20160509_24_4711535" name=3D"code" class=3D"cpp">void TreeSync=
hronizer::PushProperties(Layer* layer,
                                      LayerImpl* layer_impl) {
  size_t num_dependents_need_push_properties =3D 0;
  PushPropertiesInternal(
      layer, layer_impl, &amp;num_dependents_need_push_properties);
  ......
}</pre>&nbsp; &nbsp; &nbsp; =E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=AE=9A=
=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/tree_syn=
chronizer.cc=E4=B8=AD=E3=80=82<br><p></p><p>&nbsp; &nbsp; &nbsp;&nbsp;TreeS=
ynchronizer=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=
=E6=95=B0PushProperties=E8=B0=83=E7=94=A8=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=
=AA=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0PushPropertiesInte=
rnal=E5=B0=86=E5=8F=82=E6=95=B0layer=E6=8F=8F=E8=BF=B0=E7=9A=84CC Layer Tre=
e=E7=9A=84=E5=B1=9E=E6=80=A7=E5=8F=98=E5=8C=96=E5=90=8C=E6=AD=A5=E5=88=B0=
=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AA=E5=8F=82=E6=95=B0layer_impl=E6=8F=8F=
=E8=BF=B0=E7=9A=84CC Pending Layer Tree=E4=B8=AD=E5=8E=BB=EF=BC=8C=E5=A6=82=
=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675=
568" snippet_file_name=3D"blog_20160509_25_5617390" name=3D"code" class=3D"=
cpp">template &lt;typename LayerType&gt;
void TreeSynchronizer::PushPropertiesInternal(
    LayerType* layer,
    LayerImpl* layer_impl,
    size_t* num_dependents_need_push_properties_for_parent) {
  ......

  bool push_layer =3D layer-&gt;needs_push_properties();
  bool recurse_on_children_and_dependents =3D
      layer-&gt;descendant_needs_push_properties();

  if (push_layer)
    layer-&gt;PushPropertiesTo(layer_impl);

  ......

  if (recurse_on_children_and_dependents) {
    .......

    const OwnedLayerImplList&amp; impl_children =3D layer_impl-&gt;children=
();
    ......

    for (size_t i =3D 0; i &lt; layer-&gt;children().size(); ++i) {
      PushPropertiesInternal(layer-&gt;child_at(i),
                             impl_children[i],
                             &amp;num_dependents_need_push_properties);
    }

    ......
  }

  ......
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/tr=
ee_synchronizer.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;Tr=
eeSynchronizer=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=
=BD=E6=95=B0PushPropertiesInternal=E6=98=AF=E4=B8=80=E4=B8=AA=E6=A8=A1=E6=
=9D=BF=E5=87=BD=E6=95=B0=E3=80=82=E5=9C=A8=E6=88=91=E4=BB=AC=E8=BF=99=E4=B8=
=AA=E6=83=85=E6=99=AF=E4=B8=AD=EF=BC=8C=E5=AE=83=E7=9A=84=E6=A8=A1=E6=9D=BF=
=E5=8F=82=E6=95=B0LayerType=E7=AD=89=E4=BA=8ELayer=E3=80=82=E8=BF=99=E6=84=
=8F=E5=91=B3=E7=9D=80=E5=8F=82=E6=95=B0layer=E6=8C=87=E5=90=91=E7=9A=84=E6=
=98=AF=E4=B8=80=E4=B8=AALayer=E5=AF=B9=E8=B1=A1=E3=80=82=C2=B7=E8=BF=99=E4=
=B8=AALayer=E5=AF=B9=E8=B1=A1=E6=8F=8F=E8=BF=B0=E7=9A=84=E5=B0=B1=E6=98=AFC=
C Layer Tree=E7=9A=84=E6=A0=B9=E8=8A=82=E7=82=B9=E3=80=82</p><p>&nbsp; &nbs=
p; &nbsp; &nbsp;TreeSynchronizer=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=
=90=E5=91=98=E5=87=BD=E6=95=B0PushPropertiesInternal=E9=A6=96=E5=85=88=E6=
=98=AF=E6=A3=80=E6=9F=A5=E5=8F=82=E6=95=B0layer=E6=8F=8F=E8=BF=B0=E7=9A=84L=
ayer=E7=9A=84=E5=B1=9E=E6=80=A7=E8=87=AA=E4=BB=8E=E4=B8=8A=E4=B8=80=E6=AC=
=A1=E7=BB=98=E5=88=B6=E4=B9=8B=E5=90=8E=E6=98=AF=E5=90=A6=E5=8F=91=E7=94=9F=
=E4=BA=86=E5=8F=98=E5=8C=96=E3=80=82=E5=A6=82=E6=9E=9C=E5=8F=91=E7=94=9F=E5=
=8F=98=E4=BA=86=E5=8F=98=E5=8C=96=EF=BC=8C=E9=82=A3=E4=B9=88=E8=B0=83=E7=94=
=A8=E5=AE=83=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0needs_push_propert=
ies=E8=8E=B7=E5=BE=97=E7=9A=84=E8=BF=94=E5=9B=9E=E5=B0=B1=E4=BC=9A=E7=AD=89=
=E4=BA=8Etrue=E3=80=82=E8=BF=99=E7=A7=8D=E6=83=85=E5=86=B5=E5=B0=B1=E8=A1=
=A8=E7=A4=BA=E8=A6=81=E5=B0=86=E5=8F=82=E6=95=B0layer=E6=8F=8F=E8=BF=B0=E7=
=9A=84Layer=E7=9A=84=E5=B1=9E=E6=80=A7=E5=8F=98=E5=8C=96=E5=90=8C=E6=AD=A5=
=E5=88=B0=E6=8F=8F=E8=BF=B0layer_impl=E7=9A=84=E4=B8=80=E4=B8=AALayer=E4=B8=
=AD=E5=8E=BB=EF=BC=8C=E8=BF=99=E6=98=AF=E9=80=9A=E8=BF=87=E8=B0=83=E7=94=A8=
=E5=89=8D=E8=80=85=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0PushProperti=
esTo=E5=AE=9E=E7=8E=B0=E7=9A=84=E3=80=82=E6=B3=A8=E6=84=8F=EF=BC=8C=E5=90=
=8E=E8=80=85=E6=98=AF=E5=B1=9E=E4=BA=8E=E6=96=B0=E5=88=9B=E5=BB=BA=E7=9A=84=
CC Pending Layer Tree=E4=B8=AD=E7=9A=84=E4=B8=80=E4=B8=AALayer=E3=80=82=E8=
=BF=99=E7=9B=B8=E5=BD=93=E4=BA=8E=E6=98=AF=E5=B0=86CC Layer Tree=E7=9A=84=
=E6=9F=90=E4=B8=80=E4=B8=AALayer=E7=9A=84=E5=B1=9E=E6=80=A7=E5=8F=98=E5=8C=
=96=E5=90=8C=E6=AD=A5=E5=88=B0=E6=96=B0=E5=88=9B=E5=BB=BA=E7=9A=84CC Pendin=
g Layer Tree=E4=B8=AD=E5=8E=BB=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;Tr=
eeSynchronizer=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=
=BD=E6=95=B0PushPropertiesInternal=E6=8E=A5=E4=B8=8B=E6=9D=A5=E5=86=8D=E6=
=A3=80=E6=9F=A5=E6=95=B0layer=E6=8F=8F=E8=BF=B0=E7=9A=84Layer=E7=9A=84=E5=
=AD=90Layer=E7=9A=84=E5=B1=9E=E6=80=A7=E8=87=AA=E4=BB=8E=E4=B8=8A=E4=B8=80=
=E6=AC=A1=E7=BB=98=E5=88=B6=E4=B9=8B=E5=90=8E=E6=98=AF=E5=90=A6=E5=8F=91=E7=
=94=9F=E4=BA=86=E5=8F=98=E5=8C=96=E3=80=82=E5=A6=82=E6=9E=9C=E5=8F=91=E7=94=
=9F=E4=BA=86=E5=8F=98=E5=8C=96=EF=BC=8C=E9=82=A3=E4=B9=88=E5=B0=B1=E4=BC=9A=
=E9=80=92=E5=BD=92=E8=B0=83=E7=94=A8=E8=87=AA=E5=B7=B2=EF=BC=8C=E4=BB=A5=E4=
=BE=BF=E5=B0=86layer=E6=8F=8F=E8=BF=B0=E7=9A=84Layer=E7=9A=84=E5=AD=90Layer=
=E7=9A=84=E5=B1=9E=E6=80=A7=E5=8F=98=E5=8C=96=E4=B9=9F=E5=90=8C=E6=AD=A5=E5=
=88=B0=E6=96=B0=E5=88=9B=E5=BB=BA=E7=9A=84CC Pending Layer Tree=E4=B8=AD=E5=
=8E=BB=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E5=89=8D=E9=9D=A2=E6=8F=
=90=E5=88=B0=EF=BC=8C=E5=8F=82=E6=95=B0layer=E6=8C=87=E5=90=91=E7=9A=84=E5=
=AE=9E=E9=99=85=E4=B8=8A=E6=98=AF=E4=B8=80=E4=B8=AAPictureLayer=E5=AF=B9=E8=
=B1=A1=E3=80=82=E5=9B=A0=E6=AD=A4=EF=BC=8CTreeSynchronizer=E7=B1=BB=E7=9A=
=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0PushPropertiesInte=
rnal=E5=AE=9E=E9=99=85=E4=B8=8A=E6=98=AF=E9=80=9A=E8=BF=87=E8=B0=83=E7=94=
=A8PictureLayer=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0PushPr=
opertiesTo=E5=B0=86CC Layer Tree=E4=B8=AD=E7=9A=84Layer=E5=B1=9E=E6=80=A7=
=E5=8F=98=E5=8C=96=E5=90=8C=E6=AD=A5=E5=88=B0=E6=96=B0=E5=88=9B=E5=BB=BA=E7=
=9A=84CC Pending Layer Tree=E4=B8=AD=E5=8E=BB=E3=80=82</p><p>&nbsp; &nbsp; =
&nbsp; &nbsp;PictureLayer=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=
=95=B0PushPropertiesTo=E7=9A=84=E5=AE=9E=E7=8E=B0=E5=A6=82=E4=B8=8B=E6=89=
=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet_fi=
le_name=3D"blog_20160509_26_5759093" name=3D"code" class=3D"cpp">void Pictu=
reLayer::PushPropertiesTo(LayerImpl* base_layer) {
  Layer::PushPropertiesTo(base_layer);
  PictureLayerImpl* layer_impl =3D static_cast&lt;PictureLayerImpl*&gt;(bas=
e_layer);

  ......

  // Unlike other properties, invalidation must always be set on layer_impl=
.
  // See PictureLayerImpl::PushPropertiesTo for more details.
  layer_impl-&gt;invalidation_.Clear();
  layer_impl-&gt;invalidation_.Swap(&amp;pile_invalidation_);
  layer_impl-&gt;pile_ =3D PicturePileImpl::CreateFromOther(pile_.get());
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/layers/p=
icture_layer.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;Pictu=
reLayer=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0PushProperties=
To=E9=A6=96=E5=85=88=E8=B0=83=E7=94=A8=E7=88=B6=E7=B1=BBLayer=E7=9A=84=E6=
=88=90=E5=91=98=E5=87=BD=E6=95=B0PushPropertiesTo=E5=B0=86=E5=BD=93=E5=89=
=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E7=9A=84=E7=BB=98=E5=
=88=B6=E5=B1=9E=E6=80=A7=E5=90=8C=E6=AD=A5=E5=88=B0=E5=8F=82=E6=95=B0base_l=
ayer=E6=8F=8F=E8=BF=B0=E7=9A=84=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AALayer=E4=
=B8=AD=E5=8E=BB=E3=80=82=E4=BB=8E=E5=89=8D=E9=9D=A2=E7=9A=84=E5=88=86=E6=9E=
=90=E5=8F=AF=E4=BB=A5=E7=9F=A5=E9=81=93=EF=BC=8C=E5=BD=93=E5=89=8D=E6=AD=A3=
=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E6=98=AF=E5=B1=9E=E4=BA=8ECC Laye=
r Tree=E7=9A=84=EF=BC=8C=E8=80=8C=E5=8F=82=E6=95=B0base_layer=E6=8F=8F=E8=
=BF=B0=E7=9A=84Layer=E6=98=AF=E5=B1=9E=E4=BA=8E=E6=96=B0=E5=88=9B=E5=BB=BA=
=E7=9A=84CC Pending Layer Tree=E7=9A=84=E3=80=82<br></p><p>&nbsp; &nbsp; &n=
bsp; &nbsp;=E4=BB=8ELayer=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=
=95=B0PushPropertiesTo=E8=BF=94=E5=9B=9E=E5=90=8E=EF=BC=8C=E5=BD=93=E5=89=
=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E7=9A=84=E7=BB=98=E5=
=88=B6=E5=B1=9E=E6=80=A7=E5=B0=B1=E5=90=8C=E6=AD=A5=E5=88=B0CC Pending Laye=
r Tree=E4=B8=AD=E5=8E=BB=E4=BA=86=E3=80=82=E6=8E=A5=E4=B8=8B=E6=9D=A5Pictur=
eLayer=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0PushPropertiesT=
o=E8=BF=98=E5=81=9A=E4=BA=86=E4=B8=A4=E4=BB=B6=E4=BA=8B=E6=83=85=E3=80=82</=
p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E7=AC=AC=E4=B8=80=E4=BB=B6=E4=BA=8B=E6=83=
=85=E6=98=AF=E5=B0=86=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=
=E7=9A=84Layer=E7=9A=84=E9=87=8D=E7=BB=98=E5=8C=BA=E5=9F=9F=E8=AE=B0=E5=BD=
=95=E5=9C=A8=E5=8F=82=E6=95=B0base_layer=E6=8F=8F=E8=BF=B0=E7=9A=84Layer=E7=
=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Finvalidation_=E4=B8=AD=E3=80=82=
=E5=9C=A8=E5=AF=B9=E5=90=8E=E8=80=85=E6=89=A7=E8=A1=8C=E5=85=89=E6=A0=85=E5=
=8C=96=E6=93=8D=E4=BD=9C=E6=97=B6=EF=BC=8C=E9=9C=80=E8=A6=81=E4=BD=BF=E7=94=
=A8=E5=88=B0=E8=BF=99=E4=B8=AA=E9=87=8D=E7=BB=98=E5=8C=BA=E5=9F=9F=E3=80=82=
=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E7=9A=
=84=E9=87=8D=E7=BB=98=E5=8C=BA=E5=9F=9F=E8=AE=B0=E5=BD=95=E5=9C=A8PictureLa=
yer=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fpile_invalidation_=
=E3=80=82=E5=85=B3=E4=BA=8ELayer=E7=9A=84=E9=87=8D=E7=BB=98=E5=8C=BA=E5=9F=
=9F=E7=9A=84=E8=AE=A1=E7=AE=97=EF=BC=8C=E5=8F=AF=E4=BB=A5=E5=8F=82=E8=80=83=
=E5=89=8D=E9=9D=A2<a target=3D"_blank" href=3D"http://blog.csdn.net/luoshen=
gyang/article/details/51148299">Chromium=E7=BD=91=E9=A1=B5Layer Tree=E7=BB=
=98=E5=88=B6=E8=BF=87=E7=A8=8B=E5=88=86=E6=9E=90</a>=E4=B8=80=E6=96=87=E3=
=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E7=AC=AC=E4=BA=8C=E4=BB=B6=E4=BA=
=8B=E6=83=85=E6=98=AF=E8=B0=83=E7=94=A8PicturePileImpl=E7=B1=BB=E7=9A=84=E9=
=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CreateFromOther=E5=88=9B=
=E5=BB=BA=E4=B8=80=E4=B8=AAPicturePileImpl=E5=AF=B9=E8=B1=A1=EF=BC=8C=E5=B9=
=B6=E4=B8=94=E4=BF=9D=E5=AD=98=E5=9C=A8=E5=8F=82=E6=95=B0base_layer=E6=8C=
=87=E5=90=91=E7=9A=84=E4=B8=80=E4=B8=AAPictureLayerImpl=E5=AF=B9=E8=B1=A1=
=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fpile_=E4=B8=AD=E3=80=82=E8=BF=
=99=E4=B8=AAPicturePileImpl=E5=AF=B9=E8=B1=A1=E8=B4=9F=E8=B4=A3=E5=AF=B9=E5=
=8F=82=E6=95=B0base_layer=E6=8F=8F=E8=BF=B0=E7=9A=84Layer=E6=89=A7=E8=A1=8C=
=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=EF=BC=8C=E5=AE=83=E6=98=AF=E6=
=A0=B9=E6=8D=AEPictureLayer=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=
=87=8Fpile_=E6=8F=8F=E8=BF=B0=E7=9A=84=E4=B8=80=E4=B8=AAPicturePile=E5=AF=
=B9=E8=B1=A1=E5=88=9B=E5=BB=BA=E7=9A=84=E3=80=82=E4=BB=8E=E5=89=8D=E9=9D=A2=
<a target=3D"_blank" href=3D"http://blog.csdn.net/luoshengyang/article/deta=
ils/51148299">Chromium=E7=BD=91=E9=A1=B5Layer Tree=E7=BB=98=E5=88=B6=E8=BF=
=87=E7=A8=8B=E5=88=86=E6=9E=90</a>=E4=B8=80=E6=96=87=E5=8F=AF=E4=BB=A5=E7=
=9F=A5=E9=81=93=EF=BC=8C=E8=BF=99=E4=B8=AAPicturePile=E5=AF=B9=E8=B1=A1=E6=
=98=AF=E8=B4=9F=E7=8E=B0=E7=BB=98=E5=88=B6=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=
=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E7=9A=84=E3=80=82</p><p>&nbsp; &nbsp; &=
nbsp; &nbsp;=E6=8E=A5=E4=B8=8B=E6=9D=A5=E6=88=91=E4=BB=AC=E7=BB=A7=E7=BB=AD=
=E5=88=86=E6=9E=90PicturePileImpl=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=
=90=E5=91=98=E5=87=BD=E6=95=B0CreateFromOther=E7=9A=84=E5=AE=9E=E7=8E=B0=EF=
=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_sni=
ppet_id=3D"1675568" snippet_file_name=3D"blog_20160509_27_8376032" name=3D"=
code" class=3D"cpp">scoped_refptr&lt;PicturePileImpl&gt; PicturePileImpl::C=
reateFromOther(
    const PicturePileBase* other) {
  return make_scoped_refptr(new PicturePileImpl(other));
}</pre>&nbsp; &nbsp; &nbsp; =E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=AE=9A=
=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resources/pict=
ure_pile_impl.cc=E4=B8=AD=E3=80=82<br><p></p><p>&nbsp; &nbsp; &nbsp; =E4=BB=
=8E=E8=BF=99=E9=87=8C=E5=8F=AF=E4=BB=A5=E7=9C=8B=E5=88=B0=EF=BC=8CPicturePi=
leImpl=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=
=B0CreateFromOther=E5=88=9B=E5=BB=BA=E7=9A=84=E6=98=AF=E4=B8=80=E4=B8=AAPic=
turePileImpl=E5=AF=B9=E8=B1=A1=EF=BC=8C=E5=B9=B6=E4=B8=94=E5=B0=86=E8=BF=99=
=E4=B8=AAPicturePileImpl=E5=AF=B9=E8=B1=A1=E8=BF=94=E5=9B=9E=E7=BB=99=E8=B0=
=83=E7=94=A8=E8=80=85=E3=80=82=E8=BF=99=E4=B8=AAPicturePileImpl=E5=AF=B9=E8=
=B1=A1=E7=9A=84=E5=88=9B=E5=BB=BA=E8=BF=87=E7=A8=8B=EF=BC=8C=E4=B9=9F=E5=B0=
=B1=E6=98=AFPicturePileImpl=E7=B1=BB=E7=9A=84=E6=9E=84=E9=80=A0=E5=87=BD=E6=
=95=B0=E7=9A=84=E5=AE=9E=E7=8E=B0=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=
=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet_file_name=
=3D"blog_20160509_28_5693837" name=3D"code" class=3D"cpp">PicturePileImpl::=
PicturePileImpl(const PicturePileBase* other)
    : PicturePileBase(other),
      ...... {
}</pre>&nbsp; &nbsp; &nbsp;&nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=AE=
=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resources/p=
icture_pile_impl.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; =E5=8F=
=82=E6=95=B0other=E6=8C=87=E5=90=91=E7=9A=84=E5=AE=9E=E9=99=85=E4=B8=8A=E6=
=98=AF=E4=B8=80=E4=B8=AAPicturePile=E5=AF=B9=E8=B1=A1=EF=BC=8CPicturePileIm=
pl=E7=B1=BB=E7=9A=84=E6=9E=84=E9=80=A0=E5=87=BD=E6=95=B0=E4=BB=A5=E8=BF=99=
=E4=B8=AAPicturePile=E5=AF=B9=E8=B1=A1=E4=B8=BA=E5=8F=82=E6=95=B0=EF=BC=8C=
=E8=B0=83=E7=94=A8=E7=88=B6=E7=B1=BBPicturePileBase=E7=9A=84=E6=9E=84=E9=80=
=A0=E5=87=BD=E6=95=B0=EF=BC=8C=E5=90=8E=E8=80=85=E7=9A=84=E5=AE=9E=E7=8E=B0=
=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_i=
d=3D"1675568" snippet_file_name=3D"blog_20160509_29_4963489" name=3D"code" =
class=3D"cpp">PicturePileBase::PicturePileBase(const PicturePileBase* other=
)
    : picture_map_(other-&gt;picture_map_),
      tiling_(other-&gt;tiling_),
      recorded_viewport_(other-&gt;recorded_viewport_),
      min_contents_scale_(other-&gt;min_contents_scale_),
      ...... {}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=
=E6=95=B0=E5=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org=
/cc/resources/picture_pile_base.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp;=
 &nbsp; &nbsp;PicturePileBase=E7=9A=84=E6=9E=84=E9=80=A0=E5=87=BD=E6=95=B0=
=E5=B0=86=E5=8F=82=E6=95=B0other=E6=8C=87=E5=90=91=E7=9A=84PicturePile=E5=
=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fpicture_map_=E3=
=80=81tiling_=E3=80=81recorded_viewport_=E5=92=8Cmin_contents_scale_=E5=88=
=86=E5=88=AB=E4=BF=9D=E5=AD=98=E5=9C=A8=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=
=E5=88=9B=E5=BB=BA=E7=9A=84=E4=B8=80=E4=B8=AAPicturePileImpl=E5=AF=B9=E8=B1=
=A1=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fpicture_map_=E3=80=81tiling=
_=E3=80=81recorded_viewport_=E5=92=8Cmin_contents_scale_=E3=80=82=E8=BF=99=
=E4=BA=9B=E6=88=90=E5=91=98=E5=8F=98=E9=87=8F=E6=8F=8F=E8=BF=B0=E4=BA=86CC =
Layer Tree=E7=9A=84=E4=B8=80=E4=B8=AALayer=E7=9A=84=E7=BB=98=E5=88=B6=E4=BF=
=A1=E6=81=AF=EF=BC=8C=E5=AE=83=E4=BB=AC=E7=9A=84=E5=90=AB=E4=B9=89=E5=88=86=
=E5=88=AB=E4=B8=BA=EF=BC=9A</p><p>&nbsp; &nbsp; &nbsp; &nbsp;1.&nbsp;pictur=
e_map_=EF=BC=9A=E9=87=8C=E9=9D=A2=E4=BF=9D=E5=AD=98=E4=BA=86=E4=B8=80=E7=B3=
=BB=E5=88=97=E7=9A=84PictureInfo=E5=AF=B9=E8=B1=A1=E3=80=82=E6=AF=8F=E4=B8=
=80=E4=B8=AAPictureInfo=E5=AF=B9=E8=B1=A1=E5=86=85=E9=83=A8=E5=8F=88=E7=BB=
=B4=E6=8A=A4=E6=9C=89=E4=B8=80=E4=B8=AAPicture=E5=AF=B9=E8=B1=A1=E3=80=82=
=E8=BF=99=E4=B8=AAPicture=E5=AF=B9=E8=B1=A1=E8=AE=B0=E5=BD=95=E4=BA=86CC La=
yer Tree=E7=9A=84=E4=B8=80=E4=B8=AALayer=E7=9A=84=E4=B8=80=E4=B8=AA=E5=88=
=86=E5=9D=97=E7=9A=84=E7=BB=98=E5=88=B6=E5=91=BD=E4=BB=A4=E3=80=82</p><p>&n=
bsp; &nbsp; &nbsp; &nbsp;2. tiling_=EF=BC=9A=E6=8F=8F=E8=BF=B0=E4=BA=86=E4=
=B8=80=E4=B8=AATilingData=E5=AF=B9=E8=B1=A1=E3=80=82=E8=BF=99=E4=B8=AATilin=
gData=E5=AF=B9=E8=B1=A1=E8=AE=B0=E5=BD=95=E4=BA=86CC Layer Tree=E7=9A=84=E4=
=B8=80=E4=B8=AALayer=E7=9A=84=E5=88=86=E5=9D=97=E4=BF=A1=E6=81=AF=EF=BC=8C=
=E4=BE=8B=E5=A6=82=E5=88=86=E5=9D=97=E5=A4=A7=E5=B0=8F=E5=92=8C=E5=88=86=E5=
=9D=97=E9=87=8D=E5=8F=A0=E8=BE=B9=E7=95=8C=E5=A4=A7=E5=B0=8F=E7=AD=89=E3=80=
=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;3.&nbsp;recorded_viewport_=EF=BC=9A=E6=
=8F=8F=E8=BF=B0=E7=9A=84=E6=98=AF=E8=AE=B0=E5=BD=95=E6=9C=89=E7=BB=98=E5=88=
=B6=E5=91=BD=E4=BB=A4=E7=9A=84=E4=B8=80=E4=B8=AA=E5=8C=BA=E5=9F=9F=E3=80=82=
</p><p>&nbsp; &nbsp; &nbsp; &nbsp;4. min_contents_scale_=EF=BC=9A=E6=8F=8F=
=E8=BF=B0=E7=9A=84=E6=98=AFCC Layer Tree=E7=9A=84=E6=9C=80=E5=B0=8F=E7=BC=
=A9=E6=94=BE=E5=9B=A0=E5=AD=90=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=
=E4=BB=A5=E5=90=8E=E5=AF=B9CC Pending Layer Tree=E4=B8=AD=E7=9A=84Layer=E8=
=BF=9B=E8=A1=8C=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E6=97=B6=EF=BC=
=8C=E5=B0=B1=E9=9C=80=E8=A6=81=E7=94=A8=E5=88=B0=E8=BF=99=E4=BA=9B=E7=BB=98=
=E5=88=B6=E4=BF=A1=E6=81=AF=E3=80=82=E5=85=B3=E4=BA=8E=E8=BF=99=E4=BA=9B=E7=
=BB=98=E5=88=B6=E4=BF=A1=E6=81=AF=E7=9A=84=E6=9B=B4=E8=AF=A6=E7=BB=86=E6=8F=
=8F=E8=BF=B0=EF=BC=8C=E5=8F=AF=E4=BB=A5=E5=8F=82=E8=80=83=E5=89=8D=E9=9D=A2=
<a target=3D"_blank" href=3D"http://blog.csdn.net/luoshengyang/article/deta=
ils/51148299">Chromium=E7=BD=91=E9=A1=B5Layer Tree=E7=BB=98=E5=88=B6=E8=BF=
=87=E7=A8=8B=E5=88=86=E6=9E=90</a>=E4=B8=80=E6=96=87=E3=80=82</p><p>&nbsp; =
&nbsp; &nbsp; =E8=BF=99=E4=B8=80=E6=AD=A5=E6=89=A7=E8=A1=8C=E5=AE=8C=E6=88=
=90=E5=90=8E=EF=BC=8C=E5=9B=9E=E5=88=B0=E5=89=8D=E9=9D=A2=E5=88=86=E6=9E=90=
=E7=9A=84LayerTreeHost=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=
=B0FinishCommitOnImplThread=E4=B8=AD=EF=BC=8C=E8=BF=99=E6=97=B6=E5=80=99=E4=
=B9=8B=E5=89=8D=E5=88=9A=E5=88=9A=E7=BB=98=E5=88=B6=E5=A5=BD=E7=9A=84CC Lay=
er Tree=E7=9A=84=E7=BB=93=E6=9E=84=E5=92=8C=E5=B1=9E=E6=80=A7=E5=8F=98=E5=
=8C=96=E5=B0=B1=E5=90=8C=E6=AD=A5=E5=88=B0=E6=96=B0=E5=88=9B=E5=BB=BA=E7=9A=
=84CC Pending Layer Tree=E4=B8=AD=E5=8E=BB=E4=BA=86=E3=80=82LayerTreeHost=
=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0FinishCommitOnImplThr=
ead=E6=8E=A5=E4=B8=8B=E6=9D=A5=E4=BC=9A=E8=B0=83=E7=94=A8LayerTreeImpl=E7=
=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0set_needs_full_tree_sync=
=E8=AE=B0=E5=BD=95=E6=98=AF=E5=90=A6=E4=B8=BA=E6=96=B0=E5=88=9B=E5=BB=BA=E7=
=9A=84CC Pending Layer Tree=E6=89=A7=E8=A1=8C=E8=BF=87=E7=BB=93=E6=9E=84=E5=
=90=8C=E6=AD=A5=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p=
></p><pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20160509_30=
_1168478" name=3D"code" class=3D"cpp">class CC_EXPORT LayerTreeImpl {
 public:
  ......

  void set_needs_full_tree_sync(bool needs) { needs_full_tree_sync_ =3D nee=
ds; }
  bool needs_full_tree_sync() const { return needs_full_tree_sync_; }
  ......

 private
  ......

  // In impl-side painting mode, this is true when the tree may contain
  // structural differences relative to the active tree.
  bool needs_full_tree_sync_;

  ......
};</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/la=
yer_tree_impl.h=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;Layer=
TreeImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0set_needs_ful=
l_tree_sync=E5=B0=86=E5=8F=82=E6=95=B0needs=E7=9A=84=E5=80=BC=E8=AE=B0=E5=
=BD=95=E5=9C=A8=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fneeds_full_tree_sync_=E4=
=B8=AD=EF=BC=8C=E4=BB=A5=E5=90=8E=E9=80=9A=E8=BF=87=E8=B0=83=E7=94=A8=E5=8F=
=A6=E5=A4=96=E4=B8=80=E4=B8=AA=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0needs_ful=
l_tree_sync=E5=B0=B1=E5=8F=AF=E4=BB=A5=E7=9F=A5=E9=81=93=E8=BF=99=E4=B8=AA=
=E6=88=90=E5=91=98=E5=8F=98=E9=87=8F=E7=9A=84=E5=80=BC=E3=80=82=E5=BD=93=E8=
=BF=99=E4=B8=AA=E6=88=90=E5=91=98=E5=8F=98=E9=87=8F=E7=9A=84=E5=80=BC=E7=AD=
=89=E4=BA=8Etrue=E7=9A=84=E6=97=B6=E5=80=99=EF=BC=8C=E5=B0=B1=E8=A1=A8=E7=
=A4=BA=E6=96=B0=E5=88=9B=E5=BB=BA=E7=9A=84CC Pending Layer Tree=E7=9A=84=E7=
=BB=93=E6=9E=84=E5=8F=91=E7=94=9F=E8=BF=87=E5=8F=98=E5=8C=96=EF=BC=8C=E5=9C=
=A8=E5=B0=86=E5=AE=83=E6=BF=80=E6=B4=BB=E4=B8=BACC Active Layer Tree=E7=9A=
=84=E6=97=B6=E5=80=99=EF=BC=8C=E9=9C=80=E8=A6=81=E5=9C=A8CC Pending Layer T=
ree=E4=B8=8ECC Active Layer Tree=E4=B9=8B=E9=97=B4=E6=89=A7=E8=A1=8C=E4=B8=
=80=E6=AC=A1=E7=BB=93=E6=9E=84=E5=90=8C=E6=AD=A5=E6=93=8D=E4=BD=9C=EF=BC=8C=
=E5=B0=B1=E5=A6=82=E5=9C=A8CC Layer Tree=E4=B8=8ECC Pending Layer Tree=E4=
=B9=8B=E9=97=B4=E6=89=A7=E8=A1=8C=E4=B8=80=E6=AC=A1=E7=BB=93=E6=9E=84=E5=90=
=8C=E6=AD=A5=E6=93=8D=E4=BD=9C=E4=B8=80=E6=A0=B7=E3=80=82</p><p>&nbsp; &nbs=
p; &nbsp; &nbsp;=E8=BF=99=E4=B8=80=E6=AD=A5=E6=89=A7=E8=A1=8C=E5=AE=8C=E6=
=88=90=E5=90=8E=EF=BC=8C=E5=9B=9E=E5=88=B0=E5=89=8D=E9=9D=A2=E5=88=86=E6=9E=
=90=E7=9A=84ThreadProxy=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=
=B0ScheduledActionCommit=E4=B8=AD=EF=BC=8C=E8=BF=99=E6=97=B6=E5=80=99=E4=B9=
=8B=E5=89=8D=E5=88=9A=E5=88=9A=E7=BB=98=E5=88=B6=E5=A5=BD=E7=9A=84CC Layer =
Tree=E5=B0=B1=E5=90=8C=E6=AD=A5=E5=88=B0=E4=B8=80=E4=B8=AA=E6=96=B0=E7=9A=
=84CC Pending Layer Tree=E4=B8=AD=E5=8E=BB=E4=BA=86=EF=BC=8CThreadProxy=E7=
=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0ScheduledActionCommit=E6=
=8E=A5=E4=B8=8B=E6=9D=A5=E5=B0=B1=E4=BC=9A=E5=94=A4=E9=86=92Main=E7=BA=BF=
=E7=A8=8B=EF=BC=8C=E5=B9=B6=E4=B8=94=E7=BB=A7=E7=BB=AD=E5=9C=A8=E5=BD=93=E5=
=89=8D=E7=BA=BF=E7=A8=8B=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=AFCompositor=E7=
=BA=BF=E7=A8=8B=EF=BC=8C=E8=B0=83=E7=94=A8LayerTreeHostImpl=E7=B1=BB=E7=9A=
=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CommitComplete=E4=B8=BA=E6=96=B0=E7=
=9A=84CC Pending Layer Tree=E4=B8=AD=E7=9A=84Layer=E6=9B=B4=E6=96=B0=E6=88=
=96=E8=80=85=E5=88=9B=E5=BB=BA=E5=88=86=E5=9D=97=EF=BC=8C=E4=B8=BA=E4=BB=A5=
=E5=90=8E=E6=89=A7=E8=A1=8C=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E5=
=81=9A=E5=87=86=E5=A4=87=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;LayerTre=
eHostImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CommitComple=
te=E7=9A=84=E5=AE=9E=E7=8E=B0=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A<=
/p><p></p><pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog_201605=
09_31_6850079" name=3D"code" class=3D"cpp">void LayerTreeHostImpl::CommitCo=
mplete() {
  ......

  if (settings_.impl_side_painting) {
    ......
    pending_tree_-&gt;UpdateDrawProperties();
    ......
  }=20

  ......
}</pre><p>&nbsp; &nbsp; &nbsp; =E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=AE=
=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/layer=
_tree_host_impl.cc=E4=B8=AD=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; =E4=BB=8E=
=E5=89=8D=E9=9D=A2=E7=9A=84=E5=88=86=E6=9E=90=E5=8F=AF=E4=BB=A5=E7=9F=A5=E9=
=81=93=EF=BC=8CLayerTreeHostImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=8F=
=98=E9=87=8Fpending_tree_=E6=8C=87=E5=90=91=E7=9A=84=E6=98=AF=E4=B8=80=E4=
=B8=AALayerTreeImpl=E5=AF=B9=E8=B1=A1=E3=80=82=E8=BF=99=E4=B8=AALayerTreeIm=
pl=E5=AF=B9=E8=B1=A1=E6=8F=8F=E8=BF=B0=E7=9A=84=E6=98=AF=E6=96=B0=E5=88=9B=
=E5=BB=BA=E7=9A=84CC Pending Layer Tree=E3=80=82=E5=9C=A8Render=E8=BF=9B=E7=
=A8=8B=E5=90=AF=E7=94=A8Impl Side Painting=E7=89=B9=E6=80=A7=E7=9A=84=E6=83=
=85=E5=86=B5=E4=B8=8B=EF=BC=8C&nbsp;LayerTreeHostImpl=E7=B1=BB=E7=9A=84=E6=
=88=90=E5=91=98=E5=87=BD=E6=95=B0CommitComplete=E8=B0=83=E7=94=A8LayerTreeI=
mpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateDrawProperti=
es=E4=B8=BACC Pending Layer Tree=E6=9B=B4=E6=96=B0=E6=88=96=E8=80=85=E5=88=
=9B=E5=BB=BA=E5=88=86=E5=9D=97=E3=80=82</p><p>&nbsp; &nbsp; &nbsp;&nbsp;Lay=
erTreeImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateDrawP=
roperties=E7=9A=84=E5=AE=9E=E7=8E=B0=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=
=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog=
_20160509_32_2531681" name=3D"code" class=3D"cpp">bool LayerTreeImpl::Updat=
eDrawProperties() {
  ......

  render_surface_layer_list_.clear();

  {
    ......

    ++render_surface_layer_list_id_;
    LayerTreeHostCommon::CalcDrawPropsImplInputs inputs(
        root_layer(),
        DrawViewportSize(),
        layer_tree_host_impl_-&gt;DrawTransform(),
        device_scale_factor(),
        total_page_scale_factor(),
        page_scale_layer,
        MaxTextureSize(),
        settings().can_use_lcd_text,
        can_render_to_separate_surface,
        settings().layer_transforms_should_scale_layer_contents,
        &amp;render_surface_layer_list_,
        render_surface_layer_list_id_);
    LayerTreeHostCommon::CalculateDrawProperties(&amp;inputs);
  }

  {
    ......
    typedef LayerIterator&lt;LayerImpl&gt; LayerIteratorType;
    LayerIteratorType end =3D LayerIteratorType::End(&amp;render_surface_la=
yer_list_);
    for (LayerIteratorType it =3D
             LayerIteratorType::Begin(&amp;render_surface_layer_list_);
         it !=3D end;
         ++it) {
      LayerImpl* layer =3D *it;
      if (it.represents_itself())
        layer-&gt;UpdateTiles();

      ......
    }
  }

  ......
  return true;
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/la=
yer_tree_impl.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;Laye=
rTreeImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateDrawPr=
operties=E9=A6=96=E5=85=88=E8=B0=83=E7=94=A8LayerTreeHostCommon=E7=B1=BB=E7=
=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CalculateDrawPr=
operties=E8=AE=A1=E7=AE=97CC Pending Layer Tree=E4=B8=AD=E7=9A=84=E6=AF=8F=
=E4=B8=80=E4=B8=AALayer=E7=9A=84=E7=BB=98=E5=88=B6=E5=B1=9E=E6=80=A7=EF=BC=
=8C=E5=B9=B6=E4=B8=94=E4=B8=BACC Pending Layer Tree=E5=88=9B=E5=BB=BA=E4=B8=
=80=E4=B8=AARender Surface Tree=E3=80=82=E5=88=9B=E5=BB=BA=E5=87=BA=E6=9D=
=A5=E7=9A=84Render Surface Tree=E5=B0=B1=E4=BB=A5=E5=88=97=E8=A1=A8=E7=9A=
=84=E6=96=B9=E5=BC=8F=E4=BF=9D=E5=AD=98=E5=9C=A8LayerTreeImpl=E7=B1=BB=E7=
=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Frender_surface_layer_list_=E4=B8=
=AD=E3=80=82=E5=9C=A8=E5=89=8D=E9=9D=A2<a target=3D"_blank" href=3D"http://=
blog.csdn.net/luoshengyang/article/details/51148299">Chromium=E7=BD=91=E9=
=A1=B5Layer Tree=E7=BB=98=E5=88=B6=E8=BF=87=E7=A8=8B=E5=88=86=E6=9E=90</a>=
=E4=B8=80=E6=96=87=E4=B8=AD=EF=BC=8C=E4=B9=9F=E6=98=AF=E9=80=9A=E8=BF=87=E8=
=B0=83=E7=94=A8LayerTreeHostCommon=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=
=88=90=E5=91=98=E5=87=BD=E6=95=B0CalculateDrawProperties=E4=B8=BACC Layer T=
ree=E5=88=9B=E5=BB=BA=E4=B8=80=E4=B8=AARender Surface Tree=E7=9A=84=E3=80=
=82=E5=9B=A0=E6=AD=A4=EF=BC=8C=E5=85=B3=E4=BA=8ELayerTreeHostCommon=E7=B1=
=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0Calculate=
DrawProperties=E7=9A=84=E5=AE=9E=E7=8E=B0=EF=BC=8C=E4=BB=A5=E5=8F=8ARender =
Surface Tree=E7=9A=84=E6=A6=82=E5=BF=B5=EF=BC=8C=E5=8F=AF=E4=BB=A5=E5=8F=82=
=E8=80=83=E5=89=8D=E9=9D=A2<a target=3D"_blank" href=3D"http://blog.csdn.ne=
t/luoshengyang/article/details/51148299">Chromium=E7=BD=91=E9=A1=B5Layer Tr=
ee=E7=BB=98=E5=88=B6=E8=BF=87=E7=A8=8B=E5=88=86=E6=9E=90</a>=E4=B8=80=E6=96=
=87=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;LayerTreeImpl=E7=B1=BB=E7=9A=
=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateDrawProperties=E6=8E=A5=E4=B8=
=8B=E6=9D=A5=E9=81=8D=E5=8E=86=E5=89=8D=E9=9D=A2=E5=88=9B=E5=BB=BA=E7=9A=84=
Render Surface Tree=E4=B8=AD=E7=9A=84=E6=AF=8F=E4=B8=80=E4=B8=AALayer=E8=8A=
=82=E7=82=B9=E3=80=82=E6=AF=8F=E4=B8=80=E4=B8=AALayer=E8=8A=82=E7=82=B9=E9=
=83=BD=E6=98=AF=E9=80=9A=E8=BF=87=E4=B8=80=E4=B8=AAPictureLayerImpl=E5=AF=
=B9=E8=B1=A1=E6=8F=8F=E8=BF=B0=E7=9A=84=E3=80=82LayerTreeImpl=E7=B1=BB=E7=
=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateDrawProperties=E9=80=9A=E8=
=BF=87=E8=B0=83=E7=94=A8=E8=BF=99=E4=BA=9BPictureLayerImpl=E5=AF=B9=E8=B1=
=A1=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateTiles=E6=9B=B4=E6=96=
=B0=E5=AE=83=E4=BB=AC=E6=89=80=E6=8F=8F=E8=BF=B0=E7=9A=84Layer=E7=9A=84=E5=
=88=86=E5=9D=97=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E6=8E=A5=E4=B8=
=8B=E6=9D=A5=E6=88=91=E4=BB=AC=E5=B0=B1=E7=BB=A7=E7=BB=AD=E5=88=86=E6=9E=90=
PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0Updat=
eTiles=E7=9A=84=E5=AE=9E=E7=8E=B0=EF=BC=8C=E4=BB=A5=E4=BE=BF=E4=BA=86=E8=A7=
=A3CC Pending Layer Tree=E4=B8=AD=E7=9A=84Layer=E6=98=AF=E5=A6=82=E4=BD=95=
=E5=88=86=E5=9D=97=E7=9A=84=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=
=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog=
_20160509_33_4309588" name=3D"code" class=3D"cpp">void PictureLayerImpl::Up=
dateTiles() {
  ......

  UpdateIdealScales();

  .....

  if (!raster_contents_scale_ || ShouldAdjustRasterScale()) {
    RecalculateRasterScales();
    AddTilingsForRasterScale();
  }

  ......

  UpdateTilePriorities();

  if (layer_tree_impl()-&gt;IsPendingTree())
    MarkVisibleResourcesAsRequired();
}</pre><p>&nbsp; &nbsp; &nbsp; =E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=AE=
=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/layers/pict=
ure_layer_impl.cc=E4=B8=AD=E3=80=82</p><p>&nbsp; &nbsp; &nbsp;&nbsp;Picture=
LayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateTiles=
=E9=A6=96=E5=85=88=E8=B0=83=E7=94=A8=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0Upd=
ateIdealScales=E6=9B=B4=E6=96=B0=E5=88=86=E5=9D=97=E7=9A=84=E7=90=86=E6=83=
=B3=E7=BC=A9=E6=94=BE=E5=9B=A0=E5=AD=90=EF=BC=8C=E5=8D=B3Ideal Scale=EF=BC=
=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippe=
t_id=3D"1675568" snippet_file_name=3D"blog_20160509_34_863242" name=3D"code=
" class=3D"cpp">void PictureLayerImpl::UpdateIdealScales() {
  DCHECK(CanHaveTilings());

  float min_contents_scale =3D MinimumContentsScale();
  DCHECK_GT(min_contents_scale, 0.f);
  float min_page_scale =3D layer_tree_impl()-&gt;min_page_scale_factor();
  DCHECK_GT(min_page_scale, 0.f);
  float min_device_scale =3D 1.f;
  float min_source_scale =3D
      min_contents_scale / min_page_scale / min_device_scale;

  float ideal_page_scale =3D draw_properties().page_scale_factor;
  float ideal_device_scale =3D draw_properties().device_scale_factor;
  float ideal_source_scale =3D draw_properties().ideal_contents_scale /
                             ideal_page_scale / ideal_device_scale;
  ideal_contents_scale_ =3D
      std::max(draw_properties().ideal_contents_scale, min_contents_scale);
  ideal_page_scale_ =3D draw_properties().page_scale_factor;
  ideal_device_scale_ =3D draw_properties().device_scale_factor;
  ideal_source_scale_ =3D std::max(ideal_source_scale, min_source_scale);
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/layers/p=
icture_layer_impl.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;=
Ideal Scale=E6=8C=87=E7=9A=84=E6=98=AF=E5=88=86=E5=9D=97=E7=9A=84=E5=A4=A7=
=E5=B0=8F=E4=B8=8E=E5=AE=83=E5=AE=9E=E9=99=85=E8=A6=81=E6=98=BE=E7=A4=BA=E7=
=9A=84=E5=A4=A7=E5=B0=8F=E6=98=AF1:1=E7=9A=84=E5=85=B3=E7=B3=BB=E3=80=82=E4=
=B8=80=E4=B8=AA=E5=88=86=E5=9D=97=E6=9C=894=E7=A7=8DIdeal Scale=EF=BC=9A</p=
><p>&nbsp; &nbsp; &nbsp; &nbsp;1. Device Scale=EF=BC=9A=E8=AE=BE=E7=BD=AE=
=E5=9C=A8=E6=98=BE=E7=A4=BA=E8=AE=BE=E5=A4=87=E4=B8=8A=E7=9A=84=E7=BC=A9=E6=
=94=BE=E5=9B=A0=E5=AD=90=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;2. Page =
Scale=EF=BC=9A=E7=94=A8=E6=88=B7Pinch=E7=BD=91=E9=A1=B5=E6=97=B6=E4=BA=A7=
=E7=94=9F=E7=9A=84=E7=BC=A9=E6=94=BE=E5=9B=A0=E5=AD=90=E3=80=82</p><p>&nbsp=
; &nbsp; &nbsp; &nbsp;3. Source Scale=EF=BC=9A=E9=80=9A=E8=BF=87Javascript=
=E5=92=8CCSS=E8=AE=BE=E7=BD=AE=E7=9A=84=E7=BC=A9=E6=94=BE=E5=9B=A0=E5=AD=90=
=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;4. Contents Scale=EF=BC=9A=E4=B8=
=8A=E8=BF=B0=E4=B8=89=E7=A7=8D=E7=BC=A9=E6=94=BE=E5=9B=A0=E5=AD=90=E7=9B=B8=
=E4=B9=98=E4=B9=8B=E5=90=8E=E5=BE=97=E5=88=B0=E7=9A=84=E7=BC=A9=E6=94=BE=E5=
=9B=A0=E5=AD=90=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=BA=
=9BIdeal Scale=E6=98=AF=E7=94=B1=E5=89=8D=E9=9D=A2=E5=88=86=E6=9E=90=E7=9A=
=84LayerTreeImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0Updat=
eDrawProperties=E8=B0=83=E7=94=A8LayerTreeHostCommon=E7=B1=BB=E7=9A=84=E9=
=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CalculateDrawProperties=
=E8=AE=A1=E7=AE=97=E5=BE=97=E5=88=B0=E7=9A=84=EF=BC=8C=E5=B9=B6=E4=B8=94=E4=
=BC=9A=E4=BF=9D=E5=AD=98=E5=9C=A8PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=
=90=E5=91=98=E5=8F=98=E9=87=8Fideal_device_scale_=E3=80=81ideal_page_scale_=
=E3=80=81ideal_source_scale_=E5=92=8Cideal_contents_scale_=E4=B8=AD=E3=80=
=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E6=AD=A4=E5=A4=96=EF=BC=8C=E4=B8=8A=
=E8=BF=B04=E7=A7=8DIdeal Scale=E8=BF=98=E8=A7=84=E5=AE=9A=E4=BA=86=E6=9C=80=
=E5=B0=8F=E5=80=BC=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=AF=E5=89=8D=E9=9D=A2=E8=
=AE=A1=E7=AE=97=E5=87=BA=E6=9D=A54=E7=A7=8DIdeal Scale=E4=B8=8D=E8=83=BD=E5=
=B0=8F=E4=BA=8E=E5=90=84=E8=87=AA=E5=AF=B9=E5=BA=94=E7=9A=84Min Scale=E3=80=
=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E5=9B=9E=E5=88=B0PictureLayerImpl=E7=
=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateTiles=E4=B8=AD=EF=
=BC=8C=E6=9B=B4=E6=96=B0=E4=BA=86=E5=88=86=E5=9D=97=E7=9A=84Ideal Scale=E4=
=B9=8B=E5=90=8E=EF=BC=8C=E5=AE=83=E6=8E=A5=E4=B8=8B=E6=9D=A5=E5=88=A4=E6=96=
=AD=E6=98=AF=E5=90=A6=E9=9C=80=E8=A6=81=E9=87=8D=E6=96=B0=E8=AE=A1=E7=AE=97=
=E5=88=86=E5=9D=97=E7=9A=84=E5=85=89=E6=A0=85=E5=8C=96=E7=BC=A9=E6=94=BE=E5=
=9B=A0=E5=AD=90=EF=BC=8C=E5=8D=B3Raster Scale=E3=80=82=E5=9C=A8=E4=B8=A4=E7=
=A7=8D=E6=83=85=E5=86=B5=E4=B8=8B=EF=BC=8C=E9=9C=80=E8=A6=81=E9=87=8D=E6=96=
=B0=E8=AE=A1=E7=AE=97=E5=88=86=E5=9D=97=E7=9A=84Raster Scale=E3=80=82</p><p=
>&nbsp; &nbsp; &nbsp; &nbsp;=E7=AC=AC=E4=B8=80=E7=A7=8D=E6=83=85=E5=86=B5=
=E6=98=AF=E5=88=86=E5=9D=97=E7=9A=84Raster Scale=E8=BF=98=E6=B2=A1=E6=9C=89=
=E8=AE=A1=E7=AE=97=E8=BF=87=E3=80=82=E8=BF=99=E6=97=B6=E5=80=99PictureLayer=
Impl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fraster_contents_s=
cale_ =E7=9A=84=E5=80=BC=E7=AD=89=E4=BA=8E0=E3=80=82</p><p>&nbsp; &nbsp; &n=
bsp; &nbsp;=E7=AC=AC=E4=BA=8C=E7=A7=8D=E6=83=85=E5=86=B5=E6=98=AF=E5=88=86=
=E5=9D=97=E7=9A=84Raster Scale=E8=87=AA=E4=B8=8A=E6=AC=A1=E8=AE=A1=E7=AE=97=
=E4=BB=A5=E6=9D=A5=E5=8F=88=E5=8F=91=E7=94=9F=E4=BA=86=E6=96=B0=E7=9A=84=E5=
=8F=98=E5=8C=96=E3=80=82=E8=BF=99=E6=98=AF=E9=80=9A=E8=BF=87=E8=B0=83=E7=94=
=A8PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0Sh=
ouldAdjustRasterScale=E8=BF=9B=E8=A1=8C=E5=88=A4=E6=96=AD=E7=9A=84=EF=BC=8C=
=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_i=
d=3D"1675568" snippet_file_name=3D"blog_20160509_35_8704433" name=3D"code" =
class=3D"cpp">bool PictureLayerImpl::ShouldAdjustRasterScale() const {
  if (was_screen_space_transform_animating_ !=3D
      draw_properties().screen_space_transform_is_animating)
    return true;

  bool is_pinching =3D layer_tree_impl()-&gt;PinchGestureActive();
  if (is_pinching &amp;&amp; raster_page_scale_) {
    // We change our raster scale when it is:
    // - Higher than ideal (need a lower-res tiling available)
    // - Too far from ideal (need a higher-res tiling available)
    float ratio =3D ideal_page_scale_ / raster_page_scale_;
    if (raster_page_scale_ &gt; ideal_page_scale_ ||
        ratio &gt; kMaxScaleRatioDuringPinch)
      return true;
  }

  if (!is_pinching) {
    // When not pinching, match the ideal page scale factor.
    if (raster_page_scale_ !=3D ideal_page_scale_)
      return true;
  }

  // Always match the ideal device scale factor.
  if (raster_device_scale_ !=3D ideal_device_scale_)
    return true;

  // When the source scale changes we want to match it, but not when animat=
ing
  // or when we=E2=80=98ve fixed the scale in place.
  if (!draw_properties().screen_space_transform_is_animating &amp;&amp;
      !raster_source_scale_is_fixed_ &amp;&amp;
      raster_source_scale_ !=3D ideal_source_scale_)
    return true;

  return false;
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/layers/p=
icture_layer_impl.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;=
=E5=9C=A8=E4=BB=A5=E4=B8=8B5=E7=A7=8D=E6=83=85=E5=86=B5=E4=B8=8B=EF=BC=8CPi=
ctureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0ShouldA=
djustRasterScale=E7=9A=84=E8=BF=94=E5=9B=9E=E5=80=BC=E7=AD=89=E4=BA=8Etrue=
=EF=BC=8C=E8=A1=A8=E7=A4=BA=E9=9C=80=E8=A6=81=E9=87=8D=E6=96=B0=E8=AE=A1=E7=
=AE=97=E5=88=86=E5=9D=97=E7=9A=84Raster Scale=EF=BC=9A</p><p>&nbsp; &nbsp; =
&nbsp; &nbsp;1. =E7=BD=91=E9=A1=B5=E5=88=86=E5=9D=97=E4=B9=8B=E5=89=8D=E5=
=A4=84=E4=BA=8E=E5=8A=A8=E7=94=BB=E6=98=BE=E7=A4=BA=E7=8A=B6=E6=80=81=EF=BC=
=8C=E7=8E=B0=E5=9C=A8=E5=8A=A8=E7=94=BB=E6=98=BE=E7=A4=BA=E7=BB=93=E6=9D=9F=
=EF=BC=8C=E6=88=96=E8=80=85=E4=B9=8B=E5=89=8D=E4=B8=8D=E6=98=AF=E5=A4=84=E4=
=BA=8E=E5=8A=A8=E7=94=BB=E6=98=BE=E7=A4=BA=E7=8A=B6=E6=80=81=EF=BC=8C=E7=8E=
=B0=E5=9C=A8=E5=BC=80=E5=A7=8B=E6=98=BE=E7=A4=BA=E5=8A=A8=E7=94=BB=E3=80=82=
</p><p>&nbsp; &nbsp; &nbsp; &nbsp;2. =E7=94=A8=E6=88=B7=E6=AD=A3=E5=9C=A8Pi=
nch=E7=BD=91=E9=A1=B5=EF=BC=8C=E5=B9=B6=E4=B8=94=E7=94=B1=E6=AD=A4=E9=80=A0=
=E6=88=90=E5=88=86=E5=9D=97=E7=9A=84Raster Page Scale=E5=A4=A7=E4=BA=8EIdea=
l Page Scale=EF=BC=8C=E6=88=96=E8=80=85Raster Page Scale=E5=B0=8F=E4=BA=8EI=
deal Page Scale=E7=9A=84kMaxScaleRatioDuringPinch=E5=88=86=E4=B9=8B1=E3=80=
=82kMaxScaleRatioDuringPinch=E5=AE=9A=E4=B9=89=E4=B8=BA2=E3=80=82=E5=89=8D=
=E4=B8=80=E7=A7=8D=E6=83=85=E5=BD=A2=E8=A1=A8=E7=A4=BA=E7=BD=91=E9=A1=B5=E8=
=A2=AB=E6=94=BE=E5=A4=A7=EF=BC=8C=E8=80=8C=E5=90=8E=E4=B8=80=E7=A7=8D=E6=83=
=85=E5=BD=A2=E8=A1=A8=E7=A4=BA=E7=BD=91=E9=A1=B5=E8=A2=AB=E7=BC=A9=E5=B0=8F=
=EF=BC=8C=E5=B9=B6=E4=B8=94=E7=BC=A9=E5=B0=8F=E7=9A=84=E7=A8=8B=E5=BA=A6=E5=
=A4=A7=E4=BA=8E=E9=A2=84=E7=BD=AE=E7=9A=84=E9=98=80=E5=80=BC=E3=80=82=E7=BD=
=91=E9=A1=B5=E5=9C=A8=E6=94=BE=E5=A4=A7=E7=9A=84=E8=BF=87=E7=A8=8B=E4=B8=AD=
=EF=BC=8C=E9=9C=80=E8=A6=81=E5=88=9B=E5=BB=BA=E4=BD=8E=E5=88=86=E8=BE=A8=E7=
=8E=87=E5=88=86=E5=9D=97=E4=B8=B4=E6=97=B6=E4=BD=BF=E7=94=A8=EF=BC=8C=E8=80=
=8C=E7=BD=91=E9=A1=B5=E5=9C=A8=E7=BC=A9=E5=B0=8F=E5=88=B0=E4=B8=80=E5=AE=9A=
=E7=A8=8B=E5=BA=A6=E6=97=B6=EF=BC=8C=E9=9C=80=E8=A6=81=E5=88=9B=E5=BB=BA=E4=
=B8=8E=E5=AE=9E=E9=99=85=E6=98=BE=E7=A4=BA=E5=A4=A7=E5=B0=8F1:1=E5=85=B3=E7=
=B3=BB=E7=9A=84=E5=88=86=E5=9D=97=EF=BC=8C=E8=BF=99=E7=A7=8D=E5=88=86=E5=9D=
=97=E4=B9=9F=E7=A7=B0=E4=B8=BA=E9=AB=98=E5=88=86=E8=BE=A8=E7=8E=87=E5=88=86=
=E5=9D=97=EF=BC=8C=E6=88=96=E8=80=85Ideal=E5=88=86=E5=9D=97=E3=80=82</p><p>=
&nbsp; &nbsp; &nbsp; &nbsp;3. =E7=94=A8=E6=88=B7=E5=BD=93=E5=89=8D=E5=AF=B9=
=E7=BD=91=E9=A1=B5=E6=B2=A1=E6=9C=89Pinch=E6=93=8D=E4=BD=9C=EF=BC=8C=E4=BD=
=86=E6=98=AF=E8=BF=99=E6=97=B6=E5=80=99=E5=88=86=E5=9D=97=E7=9A=84Raster Pa=
ge Scale=E4=B8=8D=E7=AD=89=E4=BA=8EIdeal Page Scale=E3=80=82=E5=88=86=E5=9D=
=97=E6=9C=80=E7=BB=88=E6=98=AF=E4=BB=A5Ideal Page Scale=E6=98=BE=E7=A4=BA=
=E7=9A=84=EF=BC=8C=E5=9B=A0=E6=AD=A4=E5=A6=82=E6=9E=9C=E5=BD=93=E5=89=8D=E7=
=BD=91=E9=A1=B5=E5=88=86=E5=9D=97=E7=9A=84Raster Page Scale=E4=B8=8D=E7=AD=
=89=E4=BA=8EIdeal Page Scale=E6=97=B6=EF=BC=8C=E5=B0=B1=E9=9C=80=E8=A6=81=
=E9=87=8D=E6=96=B0=E8=AE=A1=E7=AE=97=E7=BD=91=E9=A1=B5=E5=88=86=E5=9D=97=E7=
=9A=84Raster Page Scale=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;4. Device=
 Scale=E5=8F=91=E7=94=9F=E4=BA=86=E5=8F=98=E5=8C=96=E3=80=82</p><p>&nbsp; &=
nbsp; &nbsp; &nbsp;5. =E4=B8=8D=E6=98=AF=E4=BB=A5=E5=8A=A8=E7=94=BB=E7=9A=
=84=E5=BD=A2=E5=BC=8F=E4=BF=AE=E6=94=B9=E4=BA=86Source Scale=EF=BC=8C=E5=B9=
=B6=E4=B8=94Source Scale=E8=BF=98=E6=B2=A1=E6=9C=89=E8=A2=AB=E8=B0=83=E6=95=
=B4=EF=BC=8C=E5=8D=B3PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=
=E5=8F=98=E9=87=8Fraster_source_scale_is_fixed_=E7=9A=84=E5=80=BC=E5=B0=B1=
=E4=BC=9A=E7=AD=89=E4=BA=8Efalse=E3=80=82=E4=BB=A5=E9=9D=9E=E5=8A=A8=E7=94=
=BB=E5=BD=A2=E5=BC=8F=E4=BF=AE=E6=94=B9Source Scale=EF=BC=8C=E4=B8=8D=E4=BC=
=9A=E8=A7=A6=E5=8F=91=E6=96=B0=E7=9A=84=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=
=E4=BD=9C=E7=9A=84=E3=80=82=E4=BD=86=E6=98=AF=E4=B8=8D=E8=A7=A6=E5=8F=91=E6=
=96=B0=E7=9A=84=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=EF=BC=8C=E4=BC=
=9A=E5=87=BA=E7=8E=B0=E4=B8=8D=E5=8F=AF=E9=A2=84=E6=B5=8B=E7=9A=84=E6=83=85=
=E5=86=B5=E3=80=82=E4=BE=8B=E5=A6=82=EF=BC=8C=E4=BB=A5=E9=9D=9E=E5=8A=A8=E7=
=94=BB=E5=BD=A2=E5=BC=8F=E5=B0=86Source Scale=E4=BB=8E0.0625=E9=80=90=E6=B8=
=90=E4=BF=AE=E6=94=B9=E5=88=B01.0=E3=80=82=E7=94=B1=E4=BA=8E=E8=BF=99=E4=B8=
=AA=E8=BF=87=E7=A8=8B=E6=B2=A1=E6=9C=89=E8=A7=A6=E5=8F=91=E6=96=B0=E7=9A=84=
=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=EF=BC=8C=E7=BD=91=E9=A1=B5=E8=
=87=AA=E5=A7=8B=E5=88=B0=E7=BB=88=E9=83=BD=E6=98=AF=E4=BB=A5=E7=BC=A9=E6=94=
=BE=E5=9B=A0=E5=AD=90=E4=B8=BA0.0625=E7=9A=84=E5=88=86=E5=9D=97=E8=BF=9B=E8=
=A1=8C=E6=98=BE=E7=A4=BA=EF=BC=8C=E8=BF=99=E5=B0=B1=E4=BC=9A=E9=80=A0=E6=88=
=90=E5=86=85=E5=AE=B9=E6=A8=A1=E7=B3=8A=E3=80=82=E4=B8=BA=E4=BA=86=E8=A7=A3=
=E5=86=B3=E8=BF=99=E4=B8=AA=E9=97=AE=E9=A2=98=EF=BC=8C=E4=BB=A5=E9=9D=9E=E5=
=8A=A8=E7=94=BB=E5=BD=A2=E5=BC=8F=E4=BF=AE=E6=94=B9Source Scale=E6=97=B6=EF=
=BC=8CSource Scale=E4=BC=9A=E8=A2=AB=E5=BC=BA=E5=88=B6=E8=B0=83=E6=95=B4=E4=
=B8=BA1.0=EF=BC=8C=E5=8D=B3=E4=BC=9A=E5=BF=BD=E7=95=A5=E6=8E=89=E5=AF=B9Sou=
rce Scale=E7=9A=84=E4=BF=AE=E6=94=B9=E3=80=82=E8=BF=99=E4=B8=AA=E9=97=AE=E9=
=A2=98=E7=9A=84=E7=94=B1=E6=9D=A5=E5=8F=8A=E8=A7=A3=E5=86=B3=E6=96=B9=E6=A1=
=88=E5=8F=AF=E4=BB=A5=E5=8F=82=E8=80=83<a target=3D"_blank" href=3D"https:/=
/bugs.chromium.org/p/chromium/issues/detail?id=3D368201">BUG#368201</a>=E3=
=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;PictureLayerImpl=E7=B1=BB=E6=9C=89=
=E5=8F=A6=E5=A4=964=E4=B8=AA=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fraster_devi=
ce_scale_=E3=80=81raster_page_scale_=E3=80=81raster_source_scale_=E5=92=8Cr=
aster_contents_scale_=EF=BC=8C=E5=AE=83=E4=BB=AC=E5=88=86=E5=88=AB=E4=B8=8E=
=E5=89=8D=E9=9D=A2=E4=BB=8B=E7=BB=8D=E7=9A=844=E4=B8=AA=E6=88=90=E5=91=98=
=E5=8F=98=E9=87=8Fideal_device_scale_=E3=80=81ideal_page_scale_=E3=80=81ide=
al_source_scale_=E5=92=8Cideal_contents_scale_=E5=AF=B9=E5=BA=94=EF=BC=8C=
=E8=A1=A8=E7=A4=BA=E7=BD=91=E9=A1=B5=E5=88=86=E5=9D=97=E4=B8=8A=E6=AC=A1=E6=
=89=A7=E8=A1=8C=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E6=97=B6=E6=89=
=80=E4=BD=BF=E7=94=A8=E7=9A=844=E7=A7=8DRaster Scale=E3=80=82</p><p>&nbsp; =
&nbsp; &nbsp; &nbsp;=E5=86=8D=E5=9B=9E=E5=88=B0PictureLayerImpl=E7=B1=BB=E7=
=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateTiles=E4=B8=AD=EF=BC=8C=E4=
=B8=80=E6=97=A6=E5=AE=83=E5=86=B3=E5=AE=9A=E8=A6=81=E9=87=8D=E6=96=B0=E8=AE=
=A1=E7=AE=97=E7=BD=91=E9=A1=B5=E5=88=86=E5=9D=97=E7=9A=84Raster Scale=EF=BC=
=8C=E9=82=A3=E4=B9=88=E5=AE=83=E5=B0=B1=E4=BC=9A=E8=B0=83=E7=94=A8=E6=88=90=
=E5=91=98=E5=87=BD=E6=95=B0RecalculateRasterScales=E8=BF=9B=E8=A1=8C=E8=AE=
=A1=E7=AE=97=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></=
p><pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20160509_36_24=
34188" name=3D"code" class=3D"cpp">AddTilingsForRasterScalevoid PictureLaye=
rImpl::RecalculateRasterScales() {
  float old_raster_contents_scale =3D raster_contents_scale_;
  float old_raster_page_scale =3D raster_page_scale_;
  float old_raster_source_scale =3D raster_source_scale_;

  raster_device_scale_ =3D ideal_device_scale_;
  raster_page_scale_ =3D ideal_page_scale_;
  raster_source_scale_ =3D ideal_source_scale_;
  raster_contents_scale_ =3D ideal_contents_scale_;

  // If we=E2=80=98re not animating, or leaving an animation, and the
  // ideal_source_scale_ changes, then things are unpredictable, and we fix
  // the raster_source_scale_ in place.
  if (old_raster_source_scale &amp;&amp;
      !draw_properties().screen_space_transform_is_animating &amp;&amp;
      !was_screen_space_transform_animating_ &amp;&amp;
      old_raster_source_scale !=3D ideal_source_scale_)
    raster_source_scale_is_fixed_ =3D true;

  // TODO(danakj): Adjust raster source scale closer to ideal source scale =
at
  // a throttled rate. Possibly make use of invalidation_.IsEmpty() on pend=
ing
  // tree. This will allow CSS scale changes to get re-rastered at an
  // appropriate rate.
  if (raster_source_scale_is_fixed_) {
    raster_contents_scale_ /=3D raster_source_scale_;
    raster_source_scale_ =3D 1.f;
  }

  // During pinch we completely ignore the current ideal scale, and just us=
e
  // a multiple of the previous scale.
  // TODO(danakj): This seems crazy, we should use the current ideal, no?
  bool is_pinching =3D layer_tree_impl()-&gt;PinchGestureActive();
  if (is_pinching &amp;&amp; old_raster_contents_scale) {
    // See ShouldAdjustRasterScale:
    // - When zooming out, preemptively create new tiling at lower resoluti=
on.
    // - When zooming in, approximate ideal using multiple of kMaxScaleRati=
o.
    bool zooming_out =3D old_raster_page_scale &gt; ideal_page_scale_;
    float desired_contents_scale =3D
        zooming_out ? old_raster_contents_scale / kMaxScaleRatioDuringPinch
                    : old_raster_contents_scale * kMaxScaleRatioDuringPinch=
;
    raster_contents_scale_ =3D SnappedContentsScale(desired_contents_scale)=
;
    raster_page_scale_ =3D
        raster_contents_scale_ / raster_device_scale_ / raster_source_scale=
_;
  }

  raster_contents_scale_ =3D
      std::max(raster_contents_scale_, MinimumContentsScale());

  // Since we=E2=80=98re not re-rasterizing during animation, rasterize at =
the maximum
  // scale that will occur during the animation, if the maximum scale is
  // known. However, to avoid excessive memory use, don=E2=80=98t rasterize=
 at a scale
  // at which this layer would become larger than the viewport.
  if (draw_properties().screen_space_transform_is_animating) {
    bool can_raster_at_maximum_scale =3D false;
    if (draw_properties().maximum_animation_contents_scale &gt; 0.f) {
      gfx::Size bounds_at_maximum_scale =3D gfx::ToCeiledSize(gfx::ScaleSiz=
e(
          bounds(), draw_properties().maximum_animation_contents_scale));
      if (bounds_at_maximum_scale.GetArea() &lt;=3D
          layer_tree_impl()-&gt;device_viewport_size().GetArea())
        can_raster_at_maximum_scale =3D true;
    }
    if (can_raster_at_maximum_scale) {
      raster_contents_scale_ =3D
          std::max(raster_contents_scale_,
                   draw_properties().maximum_animation_contents_scale);
    } else {
      raster_contents_scale_ =3D
          std::max(raster_contents_scale_,
                   1.f * ideal_page_scale_ * ideal_device_scale_);
    }
  }

  // If this layer would only create one tile at this content scale,
  // don=E2=80=98t create a low res tiling.
  gfx::Size content_bounds =3D
      gfx::ToCeiledSize(gfx::ScaleSize(bounds(), raster_contents_scale_));
  gfx::Size tile_size =3D CalculateTileSize(content_bounds);
  if (tile_size.width() &gt;=3D content_bounds.width() &amp;&amp;
      tile_size.height() &gt;=3D content_bounds.height()) {
    low_res_raster_contents_scale_ =3D raster_contents_scale_;
    return;
  }

  float low_res_factor =3D
      layer_tree_impl()-&gt;settings().low_res_contents_scale_factor;
  low_res_raster_contents_scale_ =3D std::max(
      raster_contents_scale_ * low_res_factor,
      MinimumContentsScale());
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/layers/p=
icture_layer_impl.cc=E4=B8=AD=E3=80=82<p>&nbsp; &nbsp; &nbsp; &nbsp;Picture=
LayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0RecalculateR=
asterScales=E9=A6=96=E5=85=88=E6=98=AF=E5=B0=86=E4=B8=8A=E6=AC=A1=E6=89=A7=
=E8=A1=8C=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E6=97=B6=E6=89=80=E4=
=BD=BF=E7=94=A8=E7=9A=84Raster Scale=E8=AE=B0=E5=BD=95=E5=9C=A8=E6=9C=AC=E5=
=9C=B0=E5=8F=98=E9=87=8F=E4=B8=AD=EF=BC=8C=E6=8E=A5=E7=9D=80=E5=8F=88=E5=B0=
=86=E4=B9=8B=E5=89=8D=E8=AE=A1=E7=AE=97=E5=BE=97=E5=88=B0=E7=9A=84Ideal Sca=
le=E5=88=86=E5=88=AB=E8=AE=B0=E5=BD=95=E5=9C=A8=E6=88=90=E5=91=98=E5=8F=98=
=E9=87=8Fraster_device_scale_=E3=80=81raster_page_scale_=E3=80=81raster_sou=
rce_scale_=E5=92=8Craster_contents_scale_=EF=BC=8C=E4=BD=9C=E4=B8=BA=E6=8E=
=A5=E4=B8=8B=E6=9D=A5=E6=89=A7=E8=A1=8C=E7=9A=84=E5=85=89=E6=A0=85=E5=8C=96=
=E6=93=8D=E4=BD=9C=E4=BD=BF=E7=94=A8=E7=9A=84Raster Scale=E3=80=82=E5=85=B6=
=E4=B8=AD=EF=BC=8C=E6=9C=80=E9=87=8D=E8=A6=81=E7=9A=84Raster Scale=E5=B0=B1=
=E6=98=AFRaster Contents Scale=EF=BC=8C=E5=9B=A0=E4=B8=BA=E5=AE=83=E5=86=B3=
=E5=AE=9A=E4=BA=86=E5=90=8E=E9=9D=A2=E8=A6=81=E5=88=9B=E5=BB=BA=E7=9A=84=E5=
=88=86=E5=9D=97=E7=9A=84=E5=A4=A7=E5=B0=8F=E3=80=82</p><p>&nbsp; &nbsp; &nb=
sp; &nbsp;PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=
=95=B0RecalculateRasterScales=E6=8E=A5=E4=B8=8B=E6=9D=A5=E6=89=80=E5=81=9A=
=E7=9A=84=E4=BA=8B=E6=83=85=E5=B0=B1=E6=98=AF=E5=88=A4=E6=96=AD=E6=98=AF=E5=
=90=A6=E9=9C=80=E8=A6=81=E8=B0=83=E6=95=B4Raster Contents Scale=E7=9A=84=E5=
=80=BC=EF=BC=8C=E8=BF=87=E7=A8=8B=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=
=9A</p><p>&nbsp; &nbsp; &nbsp; &nbsp;1.&nbsp;=E4=BB=A5=E9=9D=9E=E5=8A=A8=E7=
=94=BB=E5=BD=A2=E5=BC=8F=E4=BF=AE=E6=94=B9=E4=BA=86Source Scale=EF=BC=8C=E9=
=82=A3=E4=B9=88=E6=8C=89=E7=85=A7=E5=89=8D=E9=9D=A2=E6=89=80=E8=AF=B4=E7=9A=
=84=EF=BC=8C=E5=BF=BD=E7=95=A5=E6=8E=89Source Scale=E7=9A=84=E5=80=BC=EF=BC=
=8C=E4=B9=9F=E5=B0=B1=E6=98=AF=E5=B0=86=E5=AE=83=E7=9A=84=E5=80=BC=E5=BC=BA=
=E5=88=B6=E8=AE=BE=E7=BD=AE=E4=B8=BA1=E3=80=82=E7=94=B1Contents Scale=E6=98=
=AF=E7=94=B1Device Scale=E3=80=81Page Scale=E5=92=8CSource Scale=E7=9B=B8=
=E4=B9=98=E5=BE=97=E5=88=B0=E7=9A=84=EF=BC=8C=E5=9B=A0=E6=AD=A4=E5=BF=BD=E7=
=95=A5=E6=8E=89Source Scale=E7=9A=84=E6=97=B6=E5=80=99=EF=BC=8C=E5=90=8C=E6=
=97=B6=E4=B9=9F=E9=9C=80=E8=A6=81=E4=BB=8EContents Scale=E4=B8=AD=E9=99=A4=
=E5=8E=BBSource Scale=E7=9A=84=E5=80=BC=E3=80=82</p><p>&nbsp; &nbsp; &nbsp;=
 &nbsp;2. =E5=A6=82=E6=9E=9C=E7=94=A8=E6=88=B7=E6=AD=A3=E5=9C=A8Pinch=E7=BD=
=91=E9=A1=B5=EF=BC=8C=E5=B9=B6=E4=B8=94=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=
=E5=A4=84=E7=90=86=E7=9A=84Layer=E4=B9=8B=E5=89=8D=E6=89=A7=E8=A1=8C=E8=BF=
=87=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=EF=BC=8C=E9=82=A3=E4=B9=88=
=E5=B0=B1=E8=BF=9B=E4=B8=80=E6=AD=A5=E6=A3=80=E6=9F=A5=E7=BD=91=E9=A1=B5=E6=
=98=AF=E8=A2=AB=E7=BC=A9=E5=B0=8F=E8=BF=98=E6=98=AF=E6=94=BE=E5=A4=A7=E3=80=
=82=E5=A6=82=E6=9E=9C=E6=98=AF=E7=BC=A9=E5=B0=8F=EF=BC=8C=E5=B0=B1=E5=B0=86=
=E5=BD=93=E5=89=8D=E7=9A=84Raster Contents Scale=E8=AE=BE=E7=BD=AE=E4=B8=BA=
=E4=B8=8A=E4=B8=80=E6=AC=A1=E7=9A=84Raster Contents Scale=E7=9A=84kMaxScale=
RatioDuringPinch=E5=88=86=E4=B9=8B=E4=B8=80=E3=80=82=E5=A6=82=E6=9E=9C=E6=
=98=AF=E6=94=BE=E5=A4=A7=EF=BC=8C=E5=B0=B1=E5=B0=86=E5=BD=93=E5=89=8D=E7=9A=
=84Raster Contents Scale=E8=AE=BE=E7=BD=AE=E4=B8=BA=E4=B8=8A=E4=B8=80=E6=AC=
=A1=E7=9A=84Raster Contents Scale=E7=9A=84kMaxScaleRatioDuringPinch=E5=80=
=8D=E3=80=82=E5=89=8D=E9=9D=A2=E8=AE=A1=E7=AE=97=E5=87=BA=E6=9D=A5=E7=9A=84=
Raster Contents Scale=E8=BF=98=E4=B8=8D=E6=98=AF=E6=9C=80=E7=BB=88=E4=BD=BF=
=E7=94=A8=E7=9A=84Raster Contents Scale=E3=80=82PictureLayerImpl=E7=B1=BB=
=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0RecalculateRasterScales=E8=B0=
=83=E7=94=A8=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AA=E6=88=90=E5=91=98=E5=87=BD=
=E6=95=B0SnappedContentsScale=E6=A3=80=E6=9F=A5=E5=89=8D=E9=9D=A2=E7=9A=84=
=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E4=BD=BF=E7=94=A8=E7=9A=84Ras=
ter Contents Scale=E6=98=AF=E5=90=A6=E4=B8=8E=E5=89=8D=E9=9D=A2=E8=AE=A1=E7=
=AE=97=E5=87=BA=E6=9D=A5=E7=9A=84Raster Contents Scale=E6=8E=A5=E8=BF=91=E3=
=80=82=E5=A6=82=E6=9E=9C=E6=8E=A5=E8=BF=91=EF=BC=8C=E5=B0=B1=E5=A4=8D=E7=94=
=A8=E4=B9=8B=E5=89=8D=E5=B7=B2=E7=BB=8F=E5=85=89=E6=A0=85=E5=8C=96=E5=A5=BD=
=E7=9A=84=E5=88=86=E5=9D=97=E3=80=82=E5=90=A6=E5=88=99=E7=9A=84=E8=AF=9D=EF=
=BC=8C=E5=B0=B1=E4=BC=9A=E6=8C=89=E7=85=A7=E5=89=8D=E9=9D=A2=E8=AE=A1=E7=AE=
=97=E5=87=BA=E6=9D=A5=E7=9A=84Raster Contents Scale=E8=BF=9B=E8=A1=8C=E6=96=
=B0=E7=9A=84=E5=88=86=E5=9D=97=E5=88=92=E5=88=86=E3=80=82</p><p>&nbsp; &nbs=
p; &nbsp; &nbsp;3. =E5=A6=82=E6=9E=9C=E5=89=8D=E9=9D=A2=E5=BE=97=E5=88=B0=
=E7=9A=84Raster Contents Scale=E5=B0=8F=E4=BA=8E=E9=A2=84=E8=AE=BE=E7=BD=AE=
=E7=9A=84=E6=9C=80=E5=B0=8F=E5=80=BC=EF=BC=8C=E9=82=A3=E4=B9=88=E5=AE=83=E5=
=B0=86=E8=A2=AB=E8=AE=BE=E7=BD=AE=E4=B8=BA=E6=9C=80=E5=B0=8F=E5=80=BC=E3=80=
=82=E8=BF=99=E4=B8=AA=E6=9C=80=E5=B0=8F=E5=80=BC=E5=8F=AF=E4=BB=A5=E9=80=9A=
=E8=BF=87=E8=B0=83=E7=94=A8=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0MinimumConte=
ntsScale=E8=8E=B7=E5=BE=97=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;4. =E4=
=B8=80=E4=B8=AALayer=E5=9C=A8=E5=8A=A8=E7=94=BB=E6=89=A7=E8=A1=8C=E8=BF=87=
=E7=A8=8B=E4=B8=AD=EF=BC=8C=E6=98=AF=E4=B8=8D=E4=BC=9A=E5=A4=9A=E6=AC=A1=E6=
=89=A7=E8=A1=8C=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E7=9A=84=EF=BC=
=8C=E4=B9=9F=E5=B0=B1=E6=98=AF=E4=B8=8D=E4=BC=9A=E5=88=9B=E5=BB=BA=E6=96=B0=
=E7=9A=84=E5=88=86=E5=9D=97=E3=80=82=E5=9C=A8=E5=8A=A8=E7=94=BB=E6=89=A7=E8=
=A1=8C=E6=9C=9F=E9=97=B4=EF=BC=8C=E4=BD=BF=E7=94=A8=E7=9A=84=E9=83=BD=E6=98=
=AF=E5=8A=A8=E7=94=BB=E5=BC=80=E5=A7=8B=E6=97=B6=E6=89=80=E5=88=9B=E5=BB=BA=
=E7=9A=84=E5=88=86=E5=9D=97=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=AF=E9=80=9A=E8=
=BF=87=E5=AF=B9=E5=8A=A8=E7=94=BB=E5=BC=80=E5=A7=8B=E6=97=B6=E6=89=80=E5=88=
=9B=E5=BB=BA=E7=9A=84=E5=88=86=E5=9D=97=E8=BF=9B=E8=A1=8C=E5=8F=98=E6=8D=A2=
=EF=BC=8C=E4=BB=8E=E8=80=8C=E5=AE=9E=E7=8E=B0=E5=8A=A8=E7=94=BB=E6=95=88=E6=
=9E=9C=E3=80=82=E5=A6=82=E6=9E=9C=E8=BF=99=E4=B8=AA=E5=8A=A8=E7=94=BB=E6=B6=
=89=E5=8F=8A=E5=88=B0=E7=BC=A9=E6=94=BE=E5=8F=98=E6=8D=A2=EF=BC=8C=E5=B9=B6=
=E4=B8=94=E8=AE=BE=E7=BD=AE=E4=BA=86=E8=BF=99=E4=B8=AA=E7=BC=A9=E6=94=BE=E5=
=8F=98=E6=8D=A2=E7=9A=84=E6=9C=80=E5=A4=A7=E5=9B=A0=E5=AD=90=EF=BC=8C=E9=82=
=A3=E4=B9=88=E5=9C=A8=E5=8A=A8=E7=94=BB=E5=BC=80=E5=A7=8B=E6=97=B6=E5=B0=B1=
=E4=BC=9A=E6=8C=89=E7=85=A7=E8=BF=99=E4=B8=AA=E6=9C=80=E5=A4=A7=E5=9B=A0=E5=
=AD=90=E5=AF=B9Layer=E8=BF=9B=E8=A1=8C=E5=88=86=E5=9D=97=EF=BC=8C=E4=B9=9F=
=E5=B0=B1=E6=98=AF=E5=B0=86=E5=BD=93=E5=89=8D=E7=9A=84Raster Contents Scale=
=E8=AE=BE=E7=BD=AE=E4=B8=BA=E7=BC=A9=E6=94=BE=E5=8F=98=E6=8D=A2=E7=9A=84=E6=
=9C=80=E5=A4=A7=E5=9B=A0=E5=AD=90=E3=80=82=E8=BF=99=E6=A0=B7=E5=B0=B1=E5=8F=
=AF=E4=BB=A5=E4=BF=9D=E8=AF=81=E5=9C=A8=E5=8A=A8=E7=94=BB=E6=89=A7=E8=A1=8C=
=E6=9C=9F=E9=97=B4=EF=BC=8C=E7=94=A8=E6=88=B7=E7=9C=8B=E5=88=B0=E7=9A=84=E9=
=83=BD=E6=98=AF=E6=9C=80=E6=B8=85=E6=99=B0=E7=9A=84=E5=86=85=E5=AE=B9=E3=80=
=82=E4=BD=86=E6=98=AF=E6=9C=89=E4=B8=80=E7=82=B9=E9=9C=80=E8=A6=81=E6=B3=A8=
=E6=84=8F=EF=BC=8C=E5=A6=82=E6=9E=9C=E6=8C=89=E7=85=A7=E7=BC=A9=E6=94=BE=E5=
=8F=98=E6=8D=A2=E7=9A=84=E6=9C=80=E5=A4=A7=E5=9B=A0=E5=AD=90=E8=BF=9B=E8=A1=
=8C=E5=88=86=E5=9D=97=EF=BC=8C=E4=BC=9A=E5=AF=BC=E8=87=B4=E5=88=86=E5=9D=97=
=E5=90=8E=E7=9A=84Layer=E7=9A=84=E9=9D=A2=E7=A7=AF=E6=AF=94=E7=BD=91=E9=A1=
=B5=E7=9A=84=E8=A7=86=E5=9B=BE=E8=BF=98=E8=A6=81=E5=A4=A7=EF=BC=8C=E9=82=A3=
=E4=B9=88=E5=B0=B1=E4=BC=9A=E9=87=8D=E6=96=B0=E5=86=8D=E8=AE=A1=E7=AE=97=E4=
=B8=80=E4=B8=AARaster Contents Scale=E3=80=82=E8=BF=99=E4=B8=AARaster Conte=
nts Scale=E5=8F=AA=E8=80=83=E8=99=91Device Scale=E5=92=8CPage Scale=EF=BC=
=8C=E4=B8=8D=E8=80=83=E8=99=91Source Scale=E3=80=82=E6=9C=80=E5=90=8E=E5=9C=
=A8=E5=89=8D=E9=9D=A2=E5=B7=B2=E7=BB=8F=E8=AE=A1=E7=AE=97=E5=87=BA=E6=9D=A5=
=E7=9A=84Raster Contents Scale=E4=B8=8E=E9=87=8D=E6=96=B0=E8=AE=A1=E7=AE=97=
=E5=87=BA=E6=9D=A5=E7=9A=84Raster Contents Scale=E4=B9=8B=E9=97=B4=E9=80=89=
=E6=8B=A9=E8=BE=83=E5=A4=A7=E7=9A=84=E4=B8=80=E4=B8=AA=E4=BD=9C=E4=B8=BA=E5=
=BD=93=E5=89=8D=E7=9A=84Raster Contents Scale=E3=80=82</p><p>&nbsp; &nbsp; =
&nbsp; &nbsp;=E6=8C=89=E7=85=A7=E4=BB=A5=E4=B8=8A=E6=AD=A5=E9=AA=A4=E8=B0=
=83=E6=95=B4=E5=87=BA=E6=9D=A5=E7=9A=84Raster Contents Scale=E5=B1=9E=E4=BA=
=8EIdeal Raster Content Scale=EF=BC=8CPictureLayerImpl=E7=B1=BB=E7=9A=84=E6=
=88=90=E5=91=98=E5=87=BD=E6=95=B0RecalculateRasterScales=E6=8E=A5=E4=B8=8B=
=E6=9D=A5=E8=BF=98=E8=A6=81=E8=AE=A1=E7=AE=97=E4=B8=80=E4=B8=AALow Res Rast=
er Contents Scale=EF=BC=8C=E5=B9=B6=E4=B8=94=E4=BF=9D=E5=AD=98=E5=9C=A8=E6=
=88=90=E5=91=98=E5=8F=98=E9=87=8Flow_res_raster_contents_scale_=E4=B8=AD=E3=
=80=82=E8=BF=99=E4=B8=AALow Res Raster Contents Scale=E6=9C=89=E4=BB=80=E4=
=B9=88=E7=94=A8=E5=91=A2=EF=BC=9F=E5=8E=9F=E6=9D=A5=EF=BC=8C=E4=B8=80=E4=B8=
=AALayer=E9=99=A4=E4=BA=86=E4=BC=9A=E6=8C=89=E7=85=A7Ideal Raster Content S=
cale=E8=BF=9B=E8=A1=8C=E5=88=86=E5=9D=97=E4=B9=8B=E5=A4=96=EF=BC=8C=E8=BF=
=98=E4=BC=9A=E6=8C=89=E7=85=A7Low Res Raster Contents Scale=E8=BF=9B=E8=A1=
=8C=E5=88=86=E5=9D=97=E3=80=82=E8=BF=99=E6=A0=B7=E5=B0=B1=E5=8F=AF=E4=BB=A5=
=E5=85=88=E5=BF=AB=E9=80=9F=E5=9C=B0=E6=98=BE=E7=A4=BA=E5=87=BA=E7=BC=A9=E6=
=94=BE=E5=9B=A0=E5=AD=90=E4=B8=BALow Res Raster Contents Scale=E7=9A=84=E5=
=88=86=E5=9D=97=E6=9D=A5=EF=BC=8C=E5=B0=BD=E7=AE=A1=E8=BF=99=E4=BA=9B=E5=88=
=86=E5=9D=97=E7=9A=84=E5=86=85=E5=AE=B9=E6=98=AF=E6=A8=A1=E7=B3=8A=E7=9A=84=
=EF=BC=8C=E4=BD=86=E6=98=AF=E4=B9=9F=E6=AF=94=E7=94=A8=E6=88=B7=E4=BB=80=E4=
=B9=88=E4=B9=9F=E7=9C=8B=E4=B8=8D=E5=88=B0=E5=BC=BA=E3=80=82=E5=9C=A8=E6=98=
=BE=E7=A4=BA=E7=BC=A9=E6=94=BE=E5=9B=A0=E5=AD=90=E4=B8=BALow Res Raster Con=
tents Scale=E7=9A=84=E5=88=86=E5=9D=97=E7=9A=84=E5=90=8C=E6=97=B6=EF=BC=8CC=
C=E6=A8=A1=E5=9D=97=E4=B9=9F=E4=BC=9A=E5=9C=A8=E8=83=8C=E5=90=8E=E9=BB=98=
=E9=BB=98=E5=9C=B0=E5=AF=B9=E7=BC=A9=E6=94=BE=E5=9B=A0=E5=AD=90=E4=B8=BAIde=
al Raster Content Scale=E7=9A=84=E5=88=86=E5=9D=97=E8=BF=9B=E8=A1=8C=E5=85=
=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E3=80=82=E7=AD=89=E5=88=B0=E5=85=89=
=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E5=AE=8C=E6=88=90=E7=9A=84=E6=97=B6=E5=
=80=99=EF=BC=8C=E7=BC=A9=E6=94=BE=E5=9B=A0=E5=AD=90=E4=B8=BAIdeal Raster Co=
ntent Scale=E7=9A=84=E5=88=86=E5=9D=97=E5=B0=B1=E5=8F=AF=E4=BB=A5=E6=9B=BF=
=E6=8D=A2=E6=8E=89=E7=BC=A9=E6=94=BE=E5=9B=A0=E5=AD=90=E4=B8=BALow Res Rast=
er Contents Scale=E7=9A=84=E5=88=86=E5=9D=97=EF=BC=8C=E4=BD=BF=E5=BE=97=E7=
=94=A8=E6=88=B7=E6=9C=80=E7=BB=88=E5=8F=AF=E4=BB=A5=E7=9C=8B=E5=88=B0=E6=B8=
=85=E6=99=B0=E7=9A=84=E5=86=85=E5=AE=B9=E3=80=82</p><p>&nbsp; &nbsp; &nbsp;=
 &nbsp;=E5=9C=A8=E9=BB=98=E8=AE=A4=E6=83=85=E5=86=B5=E4=B8=8B=EF=BC=8CLow R=
es Raster Contents Scale=E8=A2=AB=E8=AE=BE=E7=BD=AE=E4=B8=BAIdeal Raster Co=
ntent Scale=E7=9A=840.25=E5=80=8D=E3=80=82=E4=BD=86=E6=98=AF=E5=A6=82=E6=9E=
=9C=E4=B8=80=E4=B8=AALayer=E5=8F=AA=E6=9C=89=E4=B8=80=E4=B8=AA=E5=88=86=E5=
=9D=97=EF=BC=8C=E9=82=A3=E4=B9=88=E5=B0=B1=E4=BC=9A=E5=8F=96=E6=B6=88=E5=88=
=9B=E5=BB=BA=E7=BC=A9=E6=94=BE=E5=9B=A0=E5=AD=90=E4=B8=BALow Res Raster Con=
tents Scale=E7=9A=84=E5=88=86=E5=9D=97=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=AF=
=E5=B0=86Ideal Raster Content Scale=E5=92=8CLow Res Raster Contents Scale=
=E8=AE=BE=E7=BD=AE=E4=B8=BA=E7=9B=B8=E5=90=8C=E7=9A=84=E5=80=BC=E3=80=82</p=
><p>&nbsp; &nbsp; &nbsp; &nbsp;=E5=86=8D=E5=9B=9E=E5=88=B0PictureLayerImpl=
=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateTiles=E4=B8=AD=
=EF=BC=8C=E5=AE=83=E9=87=8D=E6=96=B0=E8=AE=A1=E7=AE=97=E5=A5=BD=E7=BD=91=E9=
=A1=B5=E5=88=86=E5=9D=97=E7=9A=84Raster Scale=E4=B9=8B=E5=90=8E=EF=BC=8C=E6=
=8E=A5=E4=B8=8B=E6=9D=A5=E5=B0=B1=E4=BC=9A=E6=8C=89=E7=85=A7=E8=AE=A1=E7=AE=
=97=E5=87=BA=E6=9D=A5=E7=9A=84Raster Scale=E5=AF=B9=E5=BD=93=E5=89=8D=E6=AD=
=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E5=88=9B=E5=BB=BA=E6=96=B0=E7=
=9A=84=E5=88=86=E5=9D=97=E5=88=92=E5=88=86=EF=BC=8C=E8=BF=99=E6=98=AF=E9=80=
=9A=E8=BF=87PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=
=E6=95=B0AddTilingsForRasterScale=E5=AE=9E=E7=8E=B0=E7=9A=84=EF=BC=8C=E5=A6=
=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1=
675568" snippet_file_name=3D"blog_20160509_37_3307022" name=3D"code" class=
=3D"cpp">void PictureLayerImpl::AddTilingsForRasterScale() {
  PictureLayerTiling* high_res =3D NULL;
  PictureLayerTiling* low_res =3D NULL;

  PictureLayerTiling* previous_low_res =3D NULL;
  for (size_t i =3D 0; i &lt; tilings_-&gt;num_tilings(); ++i) {
    PictureLayerTiling* tiling =3D tilings_-&gt;tiling_at(i);
    if (tiling-&gt;contents_scale() =3D=3D raster_contents_scale_)
      high_res =3D tiling;
    if (tiling-&gt;contents_scale() =3D=3D low_res_raster_contents_scale_)
      low_res =3D tiling;
    if (tiling-&gt;resolution() =3D=3D LOW_RESOLUTION)
      previous_low_res =3D tiling;

    // Reset all tilings to non-ideal until the end of this function.
    tiling-&gt;set_resolution(NON_IDEAL_RESOLUTION);
  }

  if (!high_res) {
    high_res =3D AddTiling(raster_contents_scale_);
    if (raster_contents_scale_ =3D=3D low_res_raster_contents_scale_)
      low_res =3D high_res;
  }

  // Only create new low res tilings when the transform is static.  This
  // prevents wastefully creating a paired low res tiling for every new hig=
h res
  // tiling during a pinch or a CSS animation.
  bool is_pinching =3D layer_tree_impl()-&gt;PinchGestureActive();
  if (layer_tree_impl()-&gt;create_low_res_tiling() &amp;&amp; !is_pinching=
 &amp;&amp;
      !draw_properties().screen_space_transform_is_animating &amp;&amp; !lo=
w_res &amp;&amp;
      low_res !=3D high_res)
    low_res =3D AddTiling(low_res_raster_contents_scale_);

  // Set low-res if we have one.
  if (!low_res)
    low_res =3D previous_low_res;
  if (low_res &amp;&amp; low_res !=3D high_res)
    low_res-&gt;set_resolution(LOW_RESOLUTION);

  // Make sure we always have one high-res (even if high =3D=3D low).
  high_res-&gt;set_resolution(HIGH_RESOLUTION);

  SanityCheckTilingState();
}</pre>&nbsp; &nbsp; &nbsp; =E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=AE=9A=
=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/layers/picture=
_layer_impl.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; =E4=B8=80=E4=
=B8=AALayer=E6=8C=89=E7=85=A7=E6=9F=90=E4=B8=80=E4=B8=AARaster Scale=E8=BF=
=9B=E8=A1=8C=E7=9A=84=E5=88=86=E5=9D=97=E5=88=92=E5=88=86=E7=A7=B0=E4=B8=BA=
=E4=B8=80=E4=B8=AATiling=E3=80=82=E4=B8=80=E4=B8=AALayer=E5=8F=AF=E8=83=BD=
=E5=AD=98=E5=9C=A8=E5=A4=9A=E4=B8=AATiling=EF=BC=8C=E5=A6=82=E5=9B=BE2=E6=
=89=80=E7=A4=BA=EF=BC=9A</p><p style=3D"text-align: center;"><img alt=3D"=
=E6=8A=80=E6=9C=AF=E5=88=86=E4=BA=AB" src=3D"http://img.blog.csdn.net/20160=
429020612412"><br></p><p style=3D"text-align: center;">=E5=9B=BE2 Tiling Se=
t</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E6=AF=8F=E4=B8=80=E4=B8=AATiling=E9=83=
=BD=E9=80=9A=E8=BF=87=E4=B8=80=E4=B8=AAPictureLayerTiling=E5=AF=B9=E8=B1=A1=
=E6=8F=8F=E8=BF=B0=EF=BC=8C=E5=B9=B6=E4=B8=94=E8=BF=99=E4=BA=9BPictureLayer=
Tiling=E5=AF=B9=E8=B1=A1=E4=BF=9D=E5=AD=98=E5=9C=A8PictureLayerImpl=E7=B1=
=BB=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Ftilings_=E6=8F=8F=E8=BF=B0=
=E7=9A=84=E4=B8=80=E4=B8=AAPictureLayerTiling Set=E4=B8=AD=E3=80=82</p><p>&=
nbsp; &nbsp; &nbsp; &nbsp;=E4=BB=8E=E5=89=8D=E9=9D=A2=E7=9A=84=E5=88=86=E6=
=9E=90=E5=8F=AF=E4=BB=A5=E7=9F=A5=E9=81=93=EF=BC=8C=E5=BD=93=E5=89=8D=E6=AD=
=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E9=87=8D=E6=96=B0=E8=AE=A1=E7=
=AE=97=E5=87=BA=E4=BA=86=E4=B8=A4=E4=B8=AARaster Scale=E3=80=82=E5=85=B6=E4=
=B8=AD=E4=B8=80=E4=B8=AA=E7=A7=B0=E4=B8=BAIdeal Raster Contents Scale=EF=BC=
=8C=E5=8F=A6=E4=B8=80=E4=B8=AA=E7=A7=B0=E4=B8=BALow Res Raster Contents Sca=
le=EF=BC=8C=E5=AE=83=E4=BB=AC=E5=88=86=E5=88=AB=E4=BF=9D=E5=AD=98=E5=9C=A8P=
ictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fraster=
_contents_scale_=E5=92=8Clow_res_raster_contents_scale_=E4=B8=AD=E3=80=82=
=E6=B3=A8=E6=84=8F=EF=BC=8CIdeal Raster Contents Scale=E4=B9=9F=E7=A7=B0=E4=
=B8=BAHigh Res Raster Contents Scale=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &n=
bsp;PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0A=
ddTilingsForRasterScale=E9=A6=96=E5=85=88=E5=9C=A8=E6=88=90=E5=91=98=E5=8F=
=98=E9=87=8Ftilings_=E6=8F=8F=E8=BF=B0=E7=9A=84PictureLayerTiling Set=E4=B8=
=AD=E6=A3=80=E6=9F=A5=E6=98=AF=E5=90=A6=E5=B7=B2=E7=BB=8F=E5=AD=98=E5=9C=A8=
=E4=B8=A4=E4=B8=AATiling=E3=80=82=E8=BF=99=E4=B8=A4=E4=B8=AATiling=EF=BC=8C=
=E4=B8=80=E4=B8=AA=E4=BD=BF=E7=94=A8=E7=9A=84Raster Scale=E4=B8=BAHigh Res =
Raster Contents Scale=EF=BC=8C=E5=8F=A6=E4=B8=80=E4=B8=AA=E4=BD=BF=E7=94=A8=
=E7=9A=84Raster Scale=E4=B8=BALow Res Raster Contents Scale=E3=80=82=E5=A6=
=82=E6=9E=9C=E5=AD=98=E5=9C=A8=EF=BC=8C=E9=82=A3=E4=B9=88=E5=B0=B1=E4=B8=8D=
=E7=94=A8=E5=88=9B=E5=BB=BA=E6=96=B0=E7=9A=84Tiling=E4=BA=86=E3=80=82</p><p=
>&nbsp; &nbsp; &nbsp; &nbsp;=E5=A6=82=E6=9E=9CRaster Scale=E4=B8=BAHigh Res=
 Raster Contents Scale=E7=9A=84Tiling=E4=B8=8D=E5=AD=98=E5=9C=A8=EF=BC=8C=
=E9=82=A3=E4=B9=88PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=
=87=BD=E6=95=B0AddTilingsForRasterScale=E5=B0=B1=E4=BC=9A=E8=B0=83=E7=94=A8=
=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AA=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0Add=
Tiling=E8=BF=9B=E8=A1=8C=E5=88=9B=E5=BB=BA=E3=80=82=E4=BD=86=E6=98=AF=E5=A6=
=82=E6=9E=9CRaster Scale=E4=B8=BALow Res Raster Contents Scale=E7=9A=84Tili=
ng=E4=B8=8D=E5=AD=98=E5=9C=A8=EF=BC=8C=E5=B9=B6=E4=B8=94=E6=BB=A1=E8=B6=B3=
=E4=BB=A5=E4=B8=8B4=E4=B8=AA=E6=9D=A1=E4=BB=B6=EF=BC=8C=E9=82=A3=E4=B9=88Pi=
ctureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0AddTili=
ngsForRasterScale=E6=89=8D=E4=BC=9A=E5=88=9B=E5=BB=BARaster Scale=E4=B8=BAL=
ow Res Raster Contents Scale=E7=9A=84Tiling=EF=BC=9A</p><p>&nbsp; &nbsp; &n=
bsp; &nbsp;1. Pending Layer Tree=E5=85=81=E8=AE=B8=E4=B8=BA=E6=AF=8F=E4=B8=
=80=E4=B8=AARaster Scale=E4=B8=BAHigh Res Raster Contents Scale=E7=9A=84Til=
ing=E5=88=9B=E5=BB=BA=E4=B8=80=E4=B8=AARaster Scale=E4=B8=BALow Res Raster =
Contents Scale=E7=9A=84Tiling=E3=80=82=E5=9C=A8=E4=BD=BF=E7=94=A8CPU=E6=89=
=A7=E8=A1=8C=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E7=9A=84=E6=83=85=
=E5=86=B5=E4=B8=8B=EF=BC=8C=E8=BF=99=E4=B8=AA=E6=9D=A1=E4=BB=B6=E6=89=8D=E4=
=BC=9A=E6=88=90=E7=AB=8B=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;2. =E7=
=94=A8=E6=88=B7=E4=B8=8D=E6=98=AF=E6=AD=A3=E5=9C=A8Pinch=E7=BD=91=E9=A1=B5=
=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;3. =E7=BD=91=E9=A1=B5=E4=B8=8D=
=E6=98=AF=E6=AD=A3=E5=9C=A8=E6=98=BE=E7=A4=BA=E5=8A=A8=E7=94=BB=E3=80=82</p=
><p>&nbsp; &nbsp; &nbsp; &nbsp;4.&nbsp;Low Res Raster Contents Scale=E4=B8=
=8EHigh Res Raster Contents Scale=E7=9A=84=E5=80=BC=E4=B8=8D=E7=9B=B8=E7=AD=
=89=E3=80=82=E5=A6=82=E6=9E=9C=E7=9B=B8=E7=AD=89=EF=BC=8C=E9=82=A3=E4=B9=88=
=E5=B0=B1=E8=AF=B4=E6=98=8ERaster Scale=E4=B8=BALow Res Raster Contents Sca=
le=E7=9A=84Tiling=E5=B7=B2=E7=BB=8F=E5=88=9B=E5=BB=BA=E3=80=82</p><p>&nbsp;=
 &nbsp; &nbsp; &nbsp;=E8=AE=BE=E7=BD=AE=E8=BF=994=E4=B8=AA=E6=9D=A1=E4=BB=
=B6=E7=9A=84=E7=9B=AE=E7=9A=84=EF=BC=8C=E6=98=AF=E5=B0=BD=E5=8F=AF=E8=83=BD=
=E5=9C=B0=E4=B8=8D=E8=A6=81=E4=B8=BA=E6=AF=8F=E4=B8=80=E4=B8=AARaster Scale=
=E4=B8=BAHigh Res Raster Contents Scale=E7=9A=84Tiling=E5=88=9B=E5=BB=BA=E4=
=B8=80=E4=B8=AARaster Scale=E4=B8=BALow Res Raster Contents Scale=E7=9A=84T=
iling=EF=BC=8C=E5=B0=A4=E5=85=B6=E6=98=AF=E5=9C=A8=E7=94=A8=E6=88=B7Pinch=
=E7=BD=91=E9=A1=B5=EF=BC=8C=E6=88=96=E8=80=85=E7=BD=91=E9=A1=B5=E6=98=BE=E7=
=A4=BA=E5=8A=A8=E7=94=BB=E6=9C=9F=E9=97=B4=E3=80=82=E8=BF=99=E6=98=AF=E5=9B=
=A0=E4=B8=BA=E5=88=9B=E5=BB=BA=E4=B8=80=E4=B8=AA=E6=96=B0=E7=9A=84Tiling=E4=
=B8=8D=E4=BB=85=E8=80=97=E8=B4=B9=E6=97=B6=E9=97=B4=EF=BC=8C=E8=BF=98=E8=80=
=97=E8=B4=B9=E8=B5=84=E6=BA=90=EF=BC=8C=E5=B9=B6=E4=B8=94Raster Scale=E4=B8=
=BALow Res Raster Contents Scale=E7=9A=84Tiling=E5=8F=AA=E6=98=AF=E4=B8=B4=
=E6=97=B6=E4=BD=BF=E7=94=A8=EF=BC=8C=E5=AE=83=E6=9C=80=E7=BB=88=E4=BC=9A=E8=
=A2=ABRaster Scale=E4=B8=BAHigh Res Raster Contents Scale=E7=9A=84Tiling=E6=
=9B=BF=E6=8D=A2=EF=BC=8C=E5=9B=A0=E6=AD=A4=E4=B8=8E=E5=85=B6=E5=88=9B=E5=BB=
=BA=E6=96=B0=E7=9A=84=E3=80=81=E4=B8=B4=E6=97=B6=E4=BD=BF=E7=94=A8=E7=9A=84=
Tiling=EF=BC=8C=E8=BF=98=E4=B8=8D=E5=A6=82=E5=A4=8D=E7=94=A8=E4=B9=8B=E5=89=
=8D=E6=89=80=E5=88=9B=E5=BB=BA=E7=9A=84Raster Scale=E4=B8=BALow Res Raster =
Contents Scale=E7=9A=84Tiling=E3=80=82=E4=B9=9F=E6=AD=A3=E5=9B=A0=E4=B8=BA=
=E5=A6=82=E6=AD=A4=EF=BC=8CPictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=
=91=98=E5=87=BD=E6=95=B0AddTilingsForRasterScale=E5=BC=80=E5=A7=8B=E7=9A=84=
=E6=97=B6=E5=80=99=EF=BC=8C=E9=99=A4=E4=BA=86=E6=A3=80=E6=9F=A5=E5=9C=A8=E6=
=88=90=E5=91=98=E5=8F=98=E9=87=8Ftilings_=E6=8F=8F=E8=BF=B0=E7=9A=84Picture=
LayerTiling Set=E4=B8=AD=E6=A3=80=E6=9F=A5Raster Scale=E4=B8=BAHigh Res Ras=
ter Contents Scale=E5=92=8CLow Res Raster Contents Scale=E7=9A=84=E4=B8=A4=
=E4=B8=AATiling=E6=98=AF=E5=90=A6=E5=AD=98=E5=9C=A8=E4=B9=8B=E5=A4=96=EF=BC=
=8C=E8=BF=98=E4=BC=9A=E6=A3=80=E6=9F=A5=E4=B9=8B=E5=89=8D=E6=9C=89=E6=B2=A1=
=E6=9C=89=E5=88=9B=E5=BB=BA=E8=BF=87=E7=B1=BB=E5=9E=8B=E4=B8=BALOW_RESOLUTI=
ON=E7=9A=84Tiling=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;PictureLayerImp=
l=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0AddTilingsForRasterS=
cale=E8=BF=98=E4=BC=9A=E5=81=9A=E4=B8=80=E4=BB=B6=E4=BA=8B=E6=83=85=EF=BC=
=8C=E5=B0=B1=E6=98=AF=E5=AF=B9=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=
=E7=90=86=E7=9A=84Layer=E7=9A=84=E6=89=80=E6=9C=89Tiling=E8=BF=9B=E8=A1=8C=
=E6=A0=87=E8=AE=B0=E3=80=82=E5=85=B6=E4=B8=AD=EF=BC=8CRaster Scale=E4=B8=BA=
High Res Raster Contents Scale=E7=9A=84Tiling=E7=9A=84=E7=B1=BB=E5=9E=8B=E8=
=A2=AB=E6=A0=87=E8=AE=B0=E4=B8=BAHIGH_RESOLUTION=EF=BC=8CRaster Scale=E4=B8=
=BALow Res Raster Contents Scale=E7=9A=84Tiling=E5=A6=82=E6=9E=9C=E5=AD=98=
=E5=9C=A8=EF=BC=8C=E5=B9=B6=E4=B8=94=E4=B8=8ERaster Scale=E4=B8=BAHigh Res =
Raster Contents Scale=E7=9A=84Tiling=E4=B8=8D=E7=9B=B8=E5=90=8C=EF=BC=8C=E9=
=82=A3=E4=B9=88=E5=AE=83=E7=9A=84=E7=B1=BB=E5=9E=8B=E8=A2=AB=E6=A0=87=E8=AE=
=B0=E4=B8=BALOW_RESOLUTION=EF=BC=8C=E5=85=B6=E4=BD=99=E7=9A=84Tiling=E8=A2=
=AB=E6=A0=87=E8=AE=B0=E4=B8=BANON_IDEAL_RESOLUTION=E3=80=82=E4=B9=8B=E6=89=
=80=E4=BB=A5=E8=A6=81=E5=AF=B9Tiling=E8=BF=9B=E8=A1=8C=E8=BF=99=E6=A0=B7=E7=
=9A=84=E6=A0=87=E8=AE=B0=EF=BC=8C=E6=98=AF=E5=9B=A0=E4=B8=BA=E5=90=8E=E9=9D=
=A2=E5=AF=B9=E5=88=86=E5=9D=97=E6=89=A7=E8=A1=8C=E5=85=89=E6=A0=85=E5=8C=96=
=E6=93=8D=E4=BD=9C=E4=B9=8B=E5=89=8D=EF=BC=8C=E4=BC=9A=E5=85=88=E5=AF=B9Til=
ing=E4=B8=AD=E7=9A=84=E5=88=86=E5=9D=97=E8=AE=BE=E7=BD=AE=E4=BC=98=E5=85=88=
=E7=BA=A7=E3=80=82=E4=BC=98=E5=85=88=E7=BA=A7=E8=B6=8A=E9=AB=98=E7=9A=84=E5=
=88=86=E5=9D=97=EF=BC=8C=E5=AE=83=E5=B0=B1=E8=B6=8A=E4=BC=98=E5=85=88=E6=89=
=A7=E5=85=88=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=EF=BC=8C=E8=80=8C=
=E5=88=86=E5=9D=97=E7=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=EF=BC=8C=E4=B8=8E=E5=
=AE=83=E4=BB=AC=E6=89=80=E5=9C=A8=E7=9A=84Tiling=E7=9A=84=E7=B1=BB=E5=9E=8B=
=E6=9C=89=E5=85=B3=E3=80=82=E8=BF=99=E4=B8=80=E7=82=B9=E6=88=91=E4=BB=AC=E5=
=9C=A8=E6=8E=A5=E4=B8=8B=E6=9D=A5=E4=B8=80=E7=AF=87=E6=96=87=E7=AB=A0=E4=B8=
=AD=E5=86=8D=E8=AF=A6=E7=BB=86=E5=88=86=E6=9E=90=E3=80=82</p><p>&nbsp; &nbs=
p; &nbsp; &nbsp;=E6=8E=A5=E4=B8=8B=E6=9D=A5=E6=88=91=E4=BB=AC=E7=BB=A7=E7=
=BB=AD=E5=88=86=E6=9E=90PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=
=98=E5=87=BD=E6=95=B0AddTiling=E7=9A=84=E5=AE=9E=E7=8E=B0=EF=BC=8C=E4=BB=A5=
=E4=BE=BF=E4=BA=86=E8=A7=A3=E4=B8=80=E4=B8=AA=E6=96=B0=E7=9A=84Tiling=E7=9A=
=84=E5=88=9B=E5=BB=BA=E8=BF=87=E7=A8=8B=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=
=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet_file_=
name=3D"blog_20160509_38_9860675" name=3D"code" class=3D"cpp">PictureLayerT=
iling* PictureLayerImpl::AddTiling(float contents_scale) {
  ......

  PictureLayerTiling* tiling =3D tilings_-&gt;AddTiling(contents_scale);

  ......

  if (twin_layer_)
    twin_layer_-&gt;SyncTiling(tiling);

  return tiling;
}</pre><p>&nbsp; &nbsp; &nbsp;&nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/layers/p=
icture_layer_impl.cc=E4=B8=AD=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; PictureLa=
yerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0AddTiling=E9=
=A6=96=E5=85=88=E8=B0=83=E7=94=A8=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Ftiling=
s_=E6=8C=87=E5=90=91=E7=9A=84=E4=B8=80=E4=B8=AAPictureLayerTilingSet=E5=AF=
=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0AddTiling=E5=88=9B=
=E5=BB=BA=E4=B8=80=E4=B8=AARaster Scale=E7=AD=89=E4=BA=8Econtents_scale=E7=
=9A=84Tiling=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></=
p><pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20160509_39_80=
50532" name=3D"code" class=3D"cpp">PictureLayerTiling* PictureLayerTilingSe=
t::AddTiling(float contents_scale) {
  ......

  tilings_.push_back(PictureLayerTiling::Create(contents_scale,
                                                layer_bounds_,
                                                client_));
  PictureLayerTiling* appended =3D tilings_.back();

  tilings_.sort(LargestToSmallestScaleFunctor());
  return appended;
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resource=
s/picture_layer_tiling_set.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbs=
p; &nbsp;PictureLayerTilingSet=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=
=E6=95=B0AddTiling=E9=A6=96=E5=85=88=E8=B0=83=E7=94=A8PictureLayerTiling=E7=
=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0Create=
=E5=88=9B=E5=BB=BA=E4=BA=86=E4=B8=80=E4=B8=AAPictureLayerTiling=E5=AF=B9=E8=
=B1=A1=EF=BC=8C=E6=8E=A5=E7=9D=80=E5=8F=88=E5=B0=86=E8=BF=99=E4=B8=AAPictur=
eLayerTiling=E5=AF=B9=E8=B1=A1=E4=BF=9D=E5=AD=98=E5=9C=A8=E6=88=90=E5=91=98=
=E5=8F=98=E9=87=8Ftilings_=E6=8F=8F=E8=BF=B0=E7=9A=84=E4=B8=80=E4=B8=AAVect=
or=E4=B8=AD=E3=80=82=E4=BB=8E=E8=BF=99=E9=87=8C=E6=88=91=E4=BB=AC=E5=B0=B1=
=E5=8F=AF=E4=BB=A5=E6=8E=A8=E6=96=AD=E5=87=BA=EF=BC=8C=E8=BF=99=E4=B8=AAVec=
tor=E4=BF=9D=E5=AD=98=E7=9A=84=E5=B0=B1=E6=98=AF=E5=90=8C=E4=B8=80=E4=B8=AA=
Layer=E7=9A=84=E4=B8=8D=E5=90=8CTilings=EF=BC=8C=E5=B9=B6=E4=B8=94=E6=AF=8F=
=E4=B8=80=E4=B8=AATiling=E9=83=BD=E6=9C=89=E7=9D=80=E4=B8=8D=E5=90=8C=E7=9A=
=84Raster Scale=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;PictureLayerTilin=
gSet=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0AddTiling=E5=9C=
=A8=E5=B0=86=E6=96=B0=E5=88=9B=E5=BB=BA=E7=9A=84Tiling=E8=BF=94=E5=9B=9E=E7=
=BB=99=E8=B0=83=E7=94=A8=E8=80=85=E4=B9=8B=E5=89=8D=EF=BC=8C=E8=BF=98=E4=BC=
=9A=E5=AF=B9=E4=BF=9D=E5=AD=98=E5=9C=A8=E6=88=90=E5=91=98=E5=8F=98=E9=87=8F=
tilings_=E6=8F=8F=E8=BF=B0=E7=9A=84Vector=E4=B8=AD=E7=9A=84Tiling=E8=BF=9B=
=E8=A1=8C=E6=8E=92=E5=BA=8F=EF=BC=8C=E4=BD=BF=E5=BE=97=E6=8C=89=E7=85=A7Ras=
ter Scale=E4=BB=8E=E5=A4=A7=E5=88=B0=E5=B0=8F=E7=9A=84=E9=A1=BA=E5=BA=8F=E6=
=8E=92=E5=88=97=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E6=8E=A5=E4=B8=
=8B=E6=9D=A5=E6=88=91=E4=BB=AC=E7=BB=A7=E7=BB=AD=E5=88=86=E6=9E=90PictureLa=
yerTiling=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=98=E5=87=BD=E6=
=95=B0Create=E7=9A=84=E5=AE=9E=E7=8E=B0=EF=BC=8C=E4=BB=A5=E4=BE=BF=E4=BA=86=
=E8=A7=A3=E4=B8=80=E4=B8=AATiling=E7=9A=84=E5=88=9B=E5=BB=BA=E8=BF=87=E7=A8=
=8B=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre co=
de_snippet_id=3D"1675568" snippet_file_name=3D"blog_20160509_40_3939877" na=
me=3D"code" class=3D"cpp">scoped_ptr&lt;PictureLayerTiling&gt; PictureLayer=
Tiling::Create(
    float contents_scale,
    const gfx::Size&amp; layer_bounds,
    PictureLayerTilingClient* client) {
  return make_scoped_ptr(new PictureLayerTiling(contents_scale,
                                                layer_bounds,
                                                client));
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resource=
s/picture_layer_tiling.cc=E4=B8=AD=E3=80=82<br><p></p><p>&nbsp; &nbsp; &nbs=
p; &nbsp;=E4=BB=8E=E8=BF=99=E9=87=8C=E5=8F=AF=E4=BB=A5=E7=9C=8B=E5=88=B0=EF=
=BC=8CPictureLayerTiling=E7=B1=BB=E7=9A=84=E9=9D=99=E6=80=81=E6=88=90=E5=91=
=98=E5=87=BD=E6=95=B0Create=E5=88=9B=E5=BB=BA=E4=BA=86=E4=B8=80=E4=B8=AAPic=
tureLayerTiling=E5=AF=B9=E8=B1=A1=EF=BC=8C=E5=B9=B6=E4=B8=94=E8=BF=94=E5=9B=
=9E=E7=BB=99=E8=B0=83=E7=94=A8=E8=80=85=E3=80=82=E8=BF=99=E4=B8=AAPictureLa=
yerTiling=E5=AF=B9=E8=B1=A1=E6=8F=8F=E8=BF=B0=E7=9A=84=E5=B0=B1=E6=98=AF=E4=
=B8=80=E4=B8=AATiling=EF=BC=8C=E5=AE=83=E7=9A=84=E5=88=9B=E5=BB=BA=E8=BF=87=
=E7=A8=8B=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=AFPictureLayerTiling=E7=B1=BB=E7=
=9A=84=E6=9E=84=E9=80=A0=E5=87=BD=E6=95=B0=E7=9A=84=E5=AE=9E=E7=8E=B0=EF=BC=
=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippe=
t_id=3D"1675568" snippet_file_name=3D"blog_20160509_41_4081581" name=3D"cod=
e" class=3D"cpp">PictureLayerTiling::PictureLayerTiling(float contents_scal=
e,
                                       const gfx::Size&amp; layer_bounds,
                                       PictureLayerTilingClient* client)
    : contents_scale_(contents_scale),
      layer_bounds_(layer_bounds),
      ...... {
  gfx::Size content_bounds =3D
      gfx::ToCeiledSize(gfx::ScaleSize(layer_bounds, contents_scale));
  gfx::Size tile_size =3D client_-&gt;CalculateTileSize(content_bounds);

  ......

  tiling_data_.SetTilingRect(gfx::Rect(content_bounds));
  tiling_data_.SetMaxTextureSize(tile_size);
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resource=
s/picture_layer_tiling.cc=E4=B8=AD=E3=80=82<p>&nbsp; &nbsp; &nbsp; &nbsp;=
=E5=8F=82=E6=95=B0contents_scale=E6=8F=8F=E8=BF=B0=E7=9A=84=E6=98=AF=E5=BD=
=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=88=9B=E5=BB=BA=E7=9A=84Tiling=E7=9A=84Ras=
ter Scale=EF=BC=8C=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AA=E5=8F=82=E6=95=B0lay=
er_bounds=E6=8F=8F=E8=BF=B0=E7=9A=84=E6=98=AF=E5=BD=93=E5=89=8D=E6=AD=A3=E5=
=9C=A8=E5=88=9B=E5=BB=BATiling=E7=9A=84Layer=E7=9A=84=E5=8E=9F=E5=A7=8B=E5=
=A4=A7=E5=B0=8F=EF=BC=8CPictureLayerTiling=E7=B1=BB=E7=9A=84=E6=9E=84=E9=80=
=A0=E5=87=BD=E6=95=B0=E5=88=86=E5=88=AB=E5=B0=86=E8=BF=99=E4=B8=A4=E4=B8=AA=
=E5=8F=82=E6=95=B0=E7=9A=84=E5=80=BC=E4=BF=9D=E5=AD=98=E5=9C=A8=E6=88=90=E5=
=91=98=E5=8F=98=E9=87=8Fcontents_scale_=E5=92=8Clayer_bounds_=E4=B8=AD=E3=
=80=82<br></p><p>&nbsp; &nbsp; &nbsp; &nbsp;PictureLayerTiling=E7=B1=BB=E8=
=BF=98=E6=9C=89=E4=B8=80=E4=B8=AA=E9=87=8D=E8=A6=81=E7=9A=84=E6=88=90=E5=91=
=98=E5=8F=98=E9=87=8Ftiling_data_=EF=BC=8C=E5=AE=83=E6=8F=8F=E8=BF=B0=E7=9A=
=84=E6=98=AF=E4=B8=80=E4=B8=AATilingData=E5=AF=B9=E8=B1=A1=E3=80=82=E8=BF=
=99=E4=B8=AATilingData=E5=AF=B9=E8=B1=A1=E8=B4=9F=E8=B4=A3=E5=AF=B9=E5=BD=
=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=88=9B=E5=BB=BA=E7=9A=84Tiling=E8=BF=9B=E8=
=A1=8C=E5=88=86=E5=9D=97=E3=80=82=E4=BB=8E=E5=89=8D=E9=9D=A2<a target=3D"_b=
lank" href=3D"http://blog.csdn.net/luoshengyang/article/details/51148299">C=
hromium=E7=BD=91=E9=A1=B5Layer Tree=E7=BB=98=E5=88=B6=E8=BF=87=E7=A8=8B=E5=
=88=86=E6=9E=90</a>=E4=B8=80=E6=96=87=E5=8F=AF=E4=BB=A5=E7=9F=A5=E9=81=93=
=EF=BC=8CCC Layer Tree=E4=B8=AD=E7=9A=84Layer=E4=B9=9F=E6=98=AF=E9=80=9A=E8=
=BF=87TilingData=E7=B1=BB=E8=BF=9B=E8=A1=8C=E5=88=86=E5=9D=97=E7=9A=84=E3=
=80=82=E8=BF=99=E6=84=8F=E5=91=B3=E7=9D=80=E4=B8=8D=E7=AE=A1=E6=98=AFCC Lay=
er Tree=E4=B8=AD=E7=9A=84Layer=E5=92=8CCC Pening Layer Tree=E4=B8=AD=E7=9A=
=84Layer=E7=9A=84=E5=88=86=E5=9D=97=E6=96=B9=E5=BC=8F=E9=83=BD=E6=98=AF=E4=
=B8=80=E6=A0=B7=E7=9A=84=EF=BC=8C=E5=8C=BA=E5=88=AB=E5=8F=AA=E6=98=AF=E5=9C=
=A8=E4=BA=8E=E5=88=86=E5=9D=97=E7=9A=84=E5=A4=A7=E5=B0=8F=E4=B8=80=E6=A0=B7=
=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E5=8F=82=E6=95=B0client=E6=8C=
=87=E5=90=91=E7=9A=84=E6=98=AF=E4=B8=80=E4=B8=AACC Pening Layer Tree=E4=B8=
=AD=E7=9A=84Layer=E7=9A=84=E5=88=86=E5=9D=97=E5=A4=A7=E5=B0=8F=E6=98=AF=E9=
=80=9A=E8=BF=87=E8=B0=83=E7=94=A8=E5=8F=82=E6=95=B0client=E6=8C=87=E5=90=91=
=E7=9A=84=E6=98=AF=E4=B8=80=E4=B8=AAPictureLayerImpl=E5=AF=B9=E8=B1=A1=E3=
=80=82=E9=80=9A=E8=BF=87=E8=B0=83=E7=94=A8=E8=BF=99=E4=B8=AAPictureLayerImp=
l=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CalculateTi=
leSize=E5=8F=AF=E4=BB=A5=E8=AE=A1=E7=AE=97=E5=87=BA=E5=BD=93=E5=89=8D=E6=AD=
=A3=E5=9C=A8=E5=88=9B=E5=BB=BA=E7=9A=84Tiling=E7=9A=84=E5=88=86=E5=9D=97=E7=
=9A=84=E5=A4=A7=E5=B0=8F=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=
=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20=
160509_42_4223285" name=3D"code" class=3D"cpp">gfx::Size PictureLayerImpl::=
CalculateTileSize(
    const gfx::Size&amp; content_bounds) const {
  ......

  int max_texture_size =3D
      layer_tree_impl()-&gt;resource_provider()-&gt;max_texture_size();

  gfx::Size default_tile_size =3D layer_tree_impl()-&gt;settings().default_=
tile_size;
  if (layer_tree_impl()-&gt;use_gpu_rasterization()) {
    // TODO(ernstm) crbug.com/365877: We need a unified way to override the
    // default-tile-size.
    default_tile_size =3D
        gfx::Size(layer_tree_impl()-&gt;device_viewport_size().width(),
                  layer_tree_impl()-&gt;device_viewport_size().height() / 4=
);
  }

  default_tile_size.SetToMin(gfx::Size(max_texture_size, max_texture_size))=
;

  gfx::Size max_untiled_content_size =3D
      layer_tree_impl()-&gt;settings().max_untiled_layer_size;

  max_untiled_content_size.SetToMin(
      gfx::Size(max_texture_size, max_texture_size));

  bool any_dimension_too_large =3D
      content_bounds.width() &gt; max_untiled_content_size.width() ||
      content_bounds.height() &gt; max_untiled_content_size.height();

  bool any_dimension_one_tile =3D
      content_bounds.width() &lt;=3D default_tile_size.width() ||
      content_bounds.height() &lt;=3D default_tile_size.height();

  // If long and skinny, tile at the max untiled content size, and clamp
  // the smaller dimension to the content size, e.g. 1000x12 layer with
  // 500x500 max untiled size would get 500x12 tiles.  Also do this
  // if the layer is small.
  if (any_dimension_one_tile || !any_dimension_too_large) {
    int width =3D std::min(
        std::max(max_untiled_content_size.width(), default_tile_size.width(=
)),
        content_bounds.width());
    int height =3D std::min(
        std::max(max_untiled_content_size.height(), default_tile_size.heigh=
t()),
        content_bounds.height());
    // Round width and height up to the closest multiple of 64, or 56 if
    // we should avoid power-of-two textures. This helps reduce the number
    // of different textures sizes to help recycling, and also keeps all
    // textures multiple-of-eight, which is preferred on some drivers (IMG)=
.
    bool avoid_pow2 =3D
        layer_tree_impl()-&gt;GetRendererCapabilities().avoid_pow2_textures=
;
    int round_up_to =3D avoid_pow2 ? 56 : 64;
    width =3D RoundUp(width, round_up_to);
    height =3D RoundUp(height, round_up_to);
    return gfx::Size(width, height);
  }

  return default_tile_size;
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/layers/p=
icture_layer_impl.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;=
PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0Calcu=
lateTileSize=E9=A6=96=E5=85=88=E8=8E=B7=E5=BE=97GPU=E5=85=81=E8=AE=B8=E7=9A=
=84=E6=9C=80=E5=A4=A7=E7=BA=B9=E7=90=86=E5=A4=A7=E5=B0=8Fmax_texture_size=
=E3=80=82=E8=BF=99=E4=B8=AA=E5=80=BC=E6=98=AF=E9=80=9A=E8=BF=87=E8=B0=83=E7=
=94=A8=E4=B8=80=E4=B8=AA=E8=B4=9F=E8=B4=A3=E4=B8=BACC=E6=A8=A1=E5=9D=97=E5=
=88=9B=E5=BB=BA=E7=BA=B9=E7=90=86=E7=9A=84ResourceProvider=E5=AF=B9=E8=B1=
=A1=E7=9A=84=E6=88=90=E5=90=8C=E5=87=BD=E6=95=B0max_texture_size=E8=8E=B7=
=E5=BE=97=E7=9A=84=EF=BC=8C=E5=90=8E=E8=80=85=E5=8F=88=E6=98=AF=E9=80=9A=E8=
=BF=87=E6=9F=A5=E8=AF=A2GPU=E8=8E=B7=E5=BE=97=E5=85=B6=E5=85=81=E8=AE=B8=E7=
=9A=84=E6=9C=80=E5=A4=A7=E7=BA=B9=E7=90=86=E5=A4=A7=E5=B0=8F=E7=9A=84=E3=80=
=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=
=88=90=E5=91=98=E5=87=BD=E6=95=B0CalculateTileSize=E6=8E=A5=E4=B8=8B=E6=9D=
=A5=E5=8F=88=E8=8E=B7=E5=BE=97CC=E6=A8=A1=E5=9D=97=E4=B8=BACC Pending Layer=
 Tree=E8=AE=BE=E7=BD=AE=E7=9A=84=E9=BB=98=E8=AE=A4=E5=88=86=E5=9D=97=E5=A4=
=A7=E5=B0=8Fdefault_tile_size=E3=80=82=E8=BF=99=E4=B8=AA=E5=80=BC=E8=A2=AB=
=E8=AE=BE=E7=BD=AE=E4=B8=BA256x256=E3=80=82=E4=B8=8D=E8=BF=87=EF=BC=8C=E5=
=A6=82=E6=9E=9CCC Pending Layer Tree=E4=BD=BF=E7=94=A8GPU=E6=9D=A5=E6=89=A7=
=E8=A1=8C=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=EF=BC=8C=E9=82=A3=E4=
=B9=88=E9=BB=98=E8=AE=A4=E5=88=86=E5=9D=97=E5=A4=A7=E5=B0=8F=E4=BC=9A=E8=A2=
=AB=E5=B1=8F=E5=B9=95=E5=A4=A7=E5=B0=8F=E7=9A=841/4=E3=80=82=E5=85=B6=E4=B8=
=AD=EF=BC=8C=E5=88=86=E5=9D=97=E7=9A=84=E5=AE=BD=E5=BA=A6=E4=B8=8E=E5=B1=8F=
=E5=B9=95=E7=9A=84=E5=AE=BD=E5=BA=A6=E4=B8=80=E8=87=B4=EF=BC=8C=E5=88=86=E5=
=9D=97=E7=9A=84=E9=AB=98=E5=BA=A6=E7=AD=89=E4=BA=8E=E5=B1=8F=E5=B9=95=E9=AB=
=98=E5=BA=A6=E7=9A=841/4=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=8E=
=B7=E5=BE=97GPU=E5=85=81=E8=AE=B8=E7=9A=84=E6=9C=80=E5=A4=A7=E7=BA=B9=E7=90=
=86=E5=A4=A7=E5=B0=8F=E5=92=8CCC Pending Layer Tree=E9=BB=98=E8=AE=A4=E4=BD=
=BF=E7=94=A8=E7=9A=84=E5=88=86=E5=9D=97=E5=A4=A7=E5=B0=8F=E4=B9=8B=E5=90=8E=
=EF=BC=8CPictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=
=95=B0CalculateTileSize=E5=B0=B1=E5=9C=A8=E8=BF=99=E4=B8=A4=E8=80=85=E4=B9=
=8B=E4=B8=AD=E9=80=89=E6=8B=A9=E5=B0=8F=E7=9A=84=E9=82=A3=E4=B8=AA=E4=BD=9C=
=E4=B8=BA=E5=88=86=E5=9D=97=E7=9A=84=E5=A4=A7=E5=B0=8F=EF=BC=8C=E5=B9=B6=E4=
=B8=94=E4=BF=9D=E5=AD=98=E5=9C=A8=E6=9C=AC=E5=9C=B0=E5=8F=98=E9=87=8Fdefaul=
t_tile_size=E4=B8=AD=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;PictureLayer=
Impl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CalculateTileSize=
=E6=8E=A5=E4=B8=8B=E6=9D=A5=E5=8F=88=E8=8E=B7=E5=BE=97CC=E6=A8=A1=E5=9D=97=
=E4=B8=BACC Pending Layer Tree=E8=AE=BE=E7=BD=AE=E7=9A=84=E5=85=81=E8=AE=B8=
=E4=B8=8D=E8=BF=9B=E8=A1=8C=E5=88=86=E5=9D=97=E7=9A=84=E6=9C=80=E5=A4=A7=E5=
=A4=A7=E5=B0=8Fmax_untiled_content_size=E3=80=82=E8=BF=99=E4=B8=AA=E5=80=BC=
=E8=A2=AB=E8=AE=BE=E7=BD=AE=E4=B8=BA512x512=E3=80=82=E6=84=8F=E6=80=9D=E5=
=B0=B1=E6=98=AF=E8=AF=B4=EF=BC=8C=E5=A6=82=E6=9E=9C=E4=B8=80=E4=B8=AALayer=
=E7=9A=84=E6=9F=90=E4=B8=80=E4=B8=AATiling=E7=9A=84=E5=A4=A7=E5=B0=8Fconten=
t_bounds=E5=B0=8F=E4=BA=8E512x512=EF=BC=8C=E9=82=A3=E4=B9=88=E8=BF=99=E4=B8=
=AATiling=E5=AE=9E=E9=99=85=E4=B8=8A=E5=B0=B1=E6=98=AF=E4=B8=8D=E9=9C=80=E8=
=A6=81=E8=BF=9B=E8=A1=8C=E5=88=86=E5=9D=97=E7=9A=84=E3=80=82=E5=90=8C=E6=97=
=B6=E8=BF=99=E4=B9=9F=E6=84=8F=E5=91=B3=E7=9D=80=E5=88=86=E5=9D=97=E7=9A=84=
=E5=A4=A7=E5=B0=8F=E7=9A=84=E6=9C=80=E5=B0=8F=E5=80=BC=E4=B8=BA512x512=E3=
=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E5=A6=82=E6=9E=9C=E4=B8=80=E4=B8=
=AATiling=E7=9A=84=E5=A4=A7=E5=B0=8Fcontent_bounds=E7=9A=84=E5=AE=BD=E5=BA=
=A6=E5=92=8C=E9=AB=98=E5=BA=A6=E4=B9=8B=E4=B8=80=E6=AF=94max_untiled_conten=
t_size=E5=80=BC=E5=A4=A7=EF=BC=8C=E9=82=A3=E4=B9=88=E8=BF=99=E4=B8=AATiling=
=E5=B0=B1=E8=AE=A4=E4=B8=BA=E6=98=AFtoo large=EF=BC=8C=E8=BF=99=E6=97=B6=E5=
=80=99=E6=9C=AC=E5=9C=B0=E5=8F=98=E9=87=8Fany_dimension_too_large=E7=9A=84=
=E5=80=BC=E4=BC=9A=E8=A2=AB=E8=AE=BE=E7=BD=AE=E4=B8=BAtrue=E3=80=82</p><p>&=
nbsp; &nbsp; &nbsp; &nbsp;=E5=A6=82=E6=9E=9C=E4=B8=80=E4=B8=AATiling=E7=9A=
=84=E5=A4=A7=E5=B0=8Fcontent_bounds=E7=9A=84=E5=AE=BD=E5=BA=A6=E5=92=8C=E9=
=AB=98=E5=BA=A6=E4=B9=8B=E4=B8=80=E6=AF=94default_tile_size=E5=80=BC=E5=B0=
=8F=EF=BC=8C=E9=82=A3=E4=B9=88=E6=88=91=E4=BB=AC=E5=B0=B1=E7=9F=A5=E9=81=93=
=E8=BF=99=E4=B8=AATiling=E5=9C=A8=E5=AE=BD=E5=BA=A6=E6=88=96=E8=80=85=E9=AB=
=98=E5=BA=A6=E4=B8=8A=E5=8F=AA=E6=9C=89=E4=B8=80=E4=B8=AA=E5=88=86=E5=9D=97=
=EF=BC=8C=E8=BF=99=E6=97=B6=E5=80=99=E6=9C=AC=E5=9C=B0=E5=8F=98=E9=87=8Fany=
_dimension_one_tile=E7=9A=84=E5=80=BC=E4=BC=9A=E8=A2=AB=E8=AE=BE=E7=BD=AE=
=E4=B8=BAtrue=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E6=9C=AC=E5=9C=B0=
=E5=8F=98=E9=87=8Fany_dimension_too_large=E5=92=8Cany_dimension_one_tile=E4=
=B8=BB=E8=A6=81=E6=98=AF=E7=94=A8=E6=9D=A5=E5=88=A4=E6=96=AD=E5=BD=93=E5=89=
=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Tiling=E6=98=AF=E5=90=A6=E6=
=98=AF=E9=95=BF=E7=AA=84=E5=9E=8B=E7=9A=84=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=
=AF=E5=AE=83=E7=9A=84=E9=AB=98=E5=BA=A6=E8=BF=9C=E5=A4=A7=E4=BA=8E=E5=AE=BD=
=E5=BA=A6=EF=BC=8C=E6=88=96=E8=80=85=E5=AE=BD=E5=BA=A6=E8=BF=9C=E5=A4=A7=E4=
=BA=8E=E9=AB=98=E5=BA=A6=E3=80=82=E5=AF=B9=E4=BA=8E=E8=BF=99=E4=B8=AALayer=
=EF=BC=8C=E5=9C=A8=E5=88=86=E5=9D=97=E7=9A=84=E6=97=B6=E5=80=99=EF=BC=8C=E5=
=B0=91=E5=88=92=E5=88=86=E4=B8=80=E4=BA=9B=E5=88=86=E5=9D=97=E3=80=82=E6=88=
=91=E4=BB=AC=E7=9F=A5=E9=81=93=EF=BC=8C=E5=88=86=E5=9D=97=E8=B6=8A=E5=A4=A7=
=EF=BC=8C=E5=88=92=E5=88=86=E5=87=BA=E6=9D=A5=E7=9A=84=E5=88=86=E5=9D=97=E6=
=95=B0=E9=87=8F=E5=B0=B1=E8=B6=8A=E5=B0=91=E3=80=82=E5=88=86=E5=9D=97=E7=9A=
=84=E5=A4=A7=E5=B0=8F=E4=B8=80=E6=96=B9=E9=9D=A2=E5=8F=AF=E4=BB=A5=E8=AE=BE=
=E7=BD=AE=E4=B8=BAdefault_tile_size=EF=BC=8C=E5=8F=88=E4=B8=80=E6=96=B9=E9=
=9D=A2=E5=8F=88=E5=8F=AF=E4=BB=A5=E8=AE=BE=E7=BD=AE=E4=B8=BAmax_untiled_con=
tent_size=E3=80=82=E5=AF=B9=E4=BA=8E=E9=95=BF=E7=AA=84=E5=9E=8B=E7=9A=84Lay=
er=EF=BC=8C=E5=B0=B1=E5=9C=A8=E4=B8=A4=E8=80=85=E4=B9=8B=E9=97=B4=E9=80=89=
=E6=8B=A9=E5=A4=A7=E7=9A=84=E9=82=A3=E4=B8=AA=EF=BC=8C=E8=BF=99=E6=A0=B7=E5=
=B0=B1=E5=8F=AF=E4=BB=A5=E5=87=8F=E5=B0=91=E5=88=86=E5=9D=97=E7=9A=84=E6=95=
=B0=E9=87=8F=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E5=81=87=E8=AE=BE=
=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Tiling=E6=98=
=AF=E9=95=BF=E7=AA=84=E5=9E=8B=E7=9A=84=EF=BC=8C=E5=AE=83=E7=9A=84=E5=A4=A7=
=E5=B0=8F=E4=B8=BA1000x12=EF=BC=8C=E5=B9=B6=E4=B8=94default_tile_size=E4=B8=
=BA256x256=EF=BC=8Cmax_untiled_content_size=E4=B8=BA512x512=EF=BC=8C=E8=BF=
=99=E6=97=B6=E5=80=99=E5=88=86=E5=9D=97=E7=9A=84=E5=A4=A7=E5=B0=8F=E5=B0=B1=
=E8=A2=AB=E8=AE=BE=E7=BD=AE=E4=B8=BA512x512=EF=BC=8C=E4=B8=8E=E5=88=86=E5=
=9D=97=E5=A4=A7=E5=B0=8F=E8=AE=BE=E7=BD=AE=E4=B8=BA256x256=E7=9B=B8=E6=AF=
=94=EF=BC=8C=E5=88=86=E5=9D=97=E7=9A=84=E6=95=B0=E9=87=8F=E5=8F=AF=E4=BB=A5=
=E5=B0=91=E4=B8=80=E5=8D=8A=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E5=
=AF=B9=E4=BA=8E=E9=95=BF=E7=AA=84=E5=9E=8BTiling=E7=9A=84=E5=88=86=E5=9D=97=
=E5=A4=A7=E5=B0=8F=EF=BC=8C=E6=9C=80=E7=BB=88=E4=BC=9A=E8=A2=AB=E5=AF=B9=E9=
=BD=90=E5=88=B056=E6=88=96=E8=80=8564=E7=9A=84=E5=80=8D=E6=95=B0=EF=BC=8C=
=E5=8F=96=E5=86=B3=E4=BA=8E=E6=98=AF=E5=90=A6=E9=81=BF=E5=85=8D=E4=BD=BF=E7=
=94=A82=E7=9A=84=E6=8C=87=E6=95=B0=E5=80=8D=E5=A4=A7=E5=B0=8F=E7=9A=84=E7=
=BA=B9=E7=90=86=E3=80=82=E5=A6=82=E6=9E=9C=E9=81=BF=E5=85=8D=EF=BC=8C=E5=B0=
=B1=E5=AF=B9=E9=BD=90=E5=88=B056=EF=BC=9B=E5=90=A6=E5=88=99=E7=9A=84=E8=AF=
=9D=EF=BC=8C=E5=B0=B1=E5=AF=B9=E9=BD=90=E5=88=B064=E3=80=82=E4=B8=8D=E7=AE=
=A1=E6=98=AF=E5=AF=B9=E9=BD=90=E5=88=B056=E8=BF=98=E6=98=AF64=EF=BC=8C=E5=
=88=86=E5=9D=97=E7=9A=84=E5=A4=A7=E5=B0=8F=E9=83=BD=E6=98=AF=E5=AF=B9=E9=BD=
=90=E5=88=B08=E4=B8=AA=E5=AD=97=E8=8A=82=E7=9A=84=E3=80=82=E4=B9=8B=E6=89=
=80=E4=BB=A5=E8=A6=81=E5=AF=B9=E9=BD=90=E5=88=B08=E4=B8=AA=E5=AD=97=E8=8A=
=82=EF=BC=8C=E6=98=AF=E5=9B=A0=E4=B8=BA=E6=9C=89=E4=BA=9BGPU=E9=A9=B1=E5=8A=
=A8=EF=BC=8C=E5=80=BE=E5=90=91=E4=BA=8E=E4=BD=BF=E7=94=A8=E5=A4=A7=E5=B0=8F=
=E4=B8=BA8=E7=9A=84=E5=80=8D=E6=95=B0=E7=9A=84=E7=BA=B9=E7=90=86=E3=80=82</=
p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E5=AF=B9=E4=BA=8E=E4=B8=8D=E6=98=AF=E9=95=
=BF=E7=AA=84=E5=9E=8BTiling=E7=9A=84=E5=88=86=E5=9D=97=E5=A4=A7=E5=B0=8F=EF=
=BC=8C=E5=AE=83=E7=9A=84=E5=80=BC=E5=B0=B1=E7=AD=89=E4=BA=8Edefault_tile_si=
ze=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=80=E6=AD=A5=E6=
=89=A7=E8=A1=8C=E5=AE=8C=E6=88=90=E5=90=8E=EF=BC=8C=E5=9B=9E=E5=88=B0Pictur=
eLayerTiling=E7=B1=BB=E7=9A=84=E6=9E=84=E9=80=A0=E5=87=BD=E6=95=B0=E4=B8=AD=
=EF=BC=8C=E8=BF=99=E6=97=B6=E5=80=99=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=
=88=9B=E5=BB=BA=E7=9A=84Tiling=E4=BD=BF=E7=94=A8=E7=9A=84=E5=88=86=E5=9D=97=
=E5=A4=A7=E5=B0=8F=E5=B0=B1=E7=A1=AE=E5=AE=9A=E4=B8=8B=E6=9D=A5=E4=BA=86=EF=
=BC=8C=E8=BF=99=E4=B8=AA=E5=80=BC=E4=BC=9A=E8=AE=BE=E7=BD=AE=E5=88=B0=E5=85=
=B6=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Ftiling_data_=E6=8F=8F=E8=BF=B0=E7=9A=
=84=E4=B8=80=E4=B8=AATilingData=E5=AF=B9=E8=B1=A1=E4=B8=AD=EF=BC=8C=E5=90=
=8C=E6=97=B6=E8=AE=BE=E7=BD=AE=E7=BB=99=E8=BF=99=E4=B8=AATilingData=E5=AF=
=B9=E8=B1=A1=E7=9A=84=E8=BF=98=E6=9C=89=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=
=E5=88=9B=E5=BB=BA=E7=9A=84Tiling=E7=9A=84=E5=A4=A7=E5=B0=8F=E3=80=82</p><p=
>&nbsp; &nbsp; &nbsp; &nbsp;=E6=B2=BF=E7=9D=80=E8=B0=83=E7=94=A8=E5=A0=86=
=E6=A0=88=E5=86=8D=E5=9B=9E=E5=88=B0PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=
=88=90=E5=91=98=E5=87=BD=E6=95=B0AddTiling=E4=B8=AD=EF=BC=8C=E5=AE=83=E5=88=
=9B=E5=BB=BA=E4=BA=86=E4=B8=80=E4=B8=AATiling=E4=B9=8B=E5=90=8E=EF=BC=8C=E6=
=8E=A5=E4=B8=8B=E6=9D=A5=E4=BC=9A=E6=A3=80=E6=9F=A5=E6=88=90=E5=91=98=E5=8F=
=98=E9=87=8Ftwin_layer_=E7=9A=84=E5=80=BC=E6=98=AF=E5=90=A6=E7=AD=89=E4=BA=
=8ENULL=E3=80=82=E5=A6=82=E6=9E=9C=E4=B8=8D=E7=AD=89=E4=BA=8ENULL=EF=BC=8C=
=E9=82=A3=E4=B9=88=E5=AE=83=E5=B0=B1=E4=BC=9A=E6=8C=87=E5=90=91=E4=B8=80=E4=
=B8=AAPictureLayerImpl=E5=AF=B9=E8=B1=A1=E3=80=82=E8=BF=99=E4=B8=AAPictureL=
ayerImpl=E5=AF=B9=E8=B1=A1=E6=8F=8F=E8=BF=B0=E7=9A=84=E6=98=AFCC Active Lay=
er Tree=E4=B8=AD=E7=9A=84=E4=B8=80=E4=B8=AALayer=EF=BC=8C=E5=B9=B6=E4=B8=94=
=E8=BF=99=E4=B8=AALayer=E4=B8=8E=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=
=84=E7=90=86=E7=9A=84Layer=E5=85=B7=E6=9C=89=E7=9B=B8=E5=90=8C=E7=9A=84ID=
=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=AF=E5=AE=83=E4=BB=AC=E6=8F=8F=E8=BF=B0=E7=
=9A=84=E6=98=AF=E7=9B=B8=E5=90=8C=E7=9A=84=E7=BD=91=E9=A1=B5=E5=86=85=E5=AE=
=B9=E3=80=82=E6=B3=A8=E6=84=8F=EF=BC=8C=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=
=E5=A4=84=E7=90=86=E7=9A=84Layer=E6=98=AF=E5=B1=9E=E4=BA=8ECC Pending Layer=
 Tree=E4=B8=AD=E7=9A=84Layer=E3=80=82CC=E6=A8=A1=E5=9D=97=E5=B0=86=E5=9C=A8=
CC Active Layer Tree=E5=92=8CCC Pending Layer Tree=E4=B8=AD=E5=85=B7=E6=9C=
=89=E7=9B=B8=E5=90=8CID=E7=9A=84=E4=B8=A4=E4=B8=AALayer=E7=A7=B0=E4=B8=BATw=
in Layer=E3=80=82=E4=B8=A4=E4=B8=AATwin Layer=E4=B9=8B=E9=97=B4=E6=9C=89=E4=
=BA=9B=E5=88=86=E5=9D=97=E6=98=AF=E5=8F=AF=E4=BB=A5=E5=85=B1=E4=BA=AB=E7=9A=
=84=E3=80=82=E8=BF=99=E6=A0=B7=E5=8F=AF=E4=BB=A5=E9=81=BF=E5=85=8D=E5=88=9B=
=E5=BB=BA=E9=87=8D=E5=A4=8D=E7=9A=84Layer=E3=80=82</p><p>&nbsp; &nbsp; &nbs=
p; &nbsp;=E4=B8=A4=E4=B8=AATwin Layer=E5=85=B7=E6=9C=89=E7=9B=B8=E5=90=8C=
=E7=9A=84Tiling=E3=80=82=E8=BF=99=E6=84=8F=E5=91=B3=E5=A6=82=E6=9E=9C=E6=88=
=91=E4=BB=AC=E4=B8=BA=E4=B8=80=E4=B8=AALayer=E5=88=9B=E5=BB=BA=E4=BA=86=E4=
=B8=80=E4=B8=AATiling=EF=BC=8C=E9=82=A3=E4=B9=88=E4=B9=9F=E9=9C=80=E8=A6=81=
=E4=B8=BA=E5=85=B6=E5=AF=B9=E5=BA=94=E7=9A=84Twin Layer=E5=88=9B=E5=BB=BA=
=E4=B8=80=E4=B8=AA=E7=9B=B8=E5=90=8C=E7=9A=84Tiling=E3=80=82=E8=BF=99=E6=98=
=AF=E9=80=9A=E8=BF=87=E8=B0=83=E7=94=A8PictureLayerImpl=E7=B1=BB=E7=9A=84=
=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0SyncTiling=E5=AE=9E=E7=8E=B0=E7=9A=84=
=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_=
snippet_id=3D"1675568" snippet_file_name=3D"blog_20160509_43_3492937" name=
=3D"code" class=3D"cpp">void PictureLayerImpl::SyncTiling(
    const PictureLayerTiling* tiling) {
  ......

  tilings_-&gt;AddTiling(tiling-&gt;contents_scale());

  // If this tree needs update draw properties, then the tiling will
  // get updated prior to drawing or activation.  If this tree does not
  // need update draw properties, then its transforms are up to date and
  // we can create tiles for this tiling immediately.
  if (!layer_tree_impl()-&gt;needs_update_draw_properties() &amp;&amp;
      should_update_tile_priorities_) {
    UpdateTilePriorities();
  }
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/layers/p=
icture_layer_impl.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;=
=E6=B3=A8=E6=84=8F=EF=BC=8C=E5=8F=82=E6=95=B0tiling=E6=8F=8F=E8=BF=B0=E7=9A=
=84=E6=98=AF=E4=B8=80=E4=B8=AALayer=E6=96=B0=E5=88=9B=E5=BB=BA=E7=9A=84Tili=
ng=EF=BC=8C=E8=80=8C=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=
=E7=9A=84PictureLayerImpl=E5=AF=B9=E8=B1=A1=E6=8F=8F=E8=BF=B0=E7=9A=84=E6=
=98=AF=E5=85=B6=E5=AF=B9=E5=BA=94=E7=9A=84Twin Layer=E3=80=82PictureLayerIm=
pl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0SyncTiling=E6=89=80=
=E5=81=9A=E7=9A=84=E5=B7=A5=E4=BD=9C=E5=B0=B1=E6=98=AF=E4=B8=BA=E5=90=8E=E8=
=80=85=E5=88=9B=E5=BB=BA=E4=B8=80=E4=B8=AA=E4=B8=8E=E5=8F=82=E6=95=B0tiling=
=E4=B8=80=E6=A0=B7=E7=9A=84Tiling=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=AF=E5=88=
=9B=E5=BB=BA=E4=B8=80=E4=B8=AA=E5=85=B7=E6=9C=89=E7=9B=B8=E5=90=8CRaster Sc=
ale=E7=9A=84Tiling=E3=80=82=E8=BF=99=E5=90=8C=E6=A0=B7=E4=B9=9F=E6=98=AF=E9=
=80=9A=E8=BF=87=E8=B0=83=E7=94=A8=E5=89=8D=E9=9D=A2=E5=88=86=E6=9E=90=E7=9A=
=84PictureLayerTilingSet=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=
=B0AddTiling=E5=88=9B=E5=BB=BA=E7=9A=84=E3=80=82</p><p>&nbsp; &nbsp; &nbsp;=
 &nbsp;PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=
=B0SyncTiling=E4=B8=BA=E4=B8=80=E4=B8=AALayer=E7=9A=84Twin Layer=E5=88=9B=
=E5=BB=BA=E4=BA=86=E4=B8=80=E4=B8=AA=E7=9B=B8=E5=90=8C=E7=9A=84Tiling=E4=B9=
=8B=E5=90=8E=EF=BC=8C=E6=8E=A5=E4=B8=8B=E6=9D=A5=E4=BC=9A=E5=88=A4=E6=96=AD=
=E5=90=8E=E8=80=85=E6=98=AF=E5=90=A6=E9=9C=80=E8=A6=81=E9=87=8D=E7=BB=98=E3=
=80=82=E5=A6=82=E6=9E=9C=E9=9C=80=E8=A6=81=EF=BC=8C=E9=82=A3=E4=B9=88=E8=BF=
=99=E4=B8=AATwin Layer=E5=9C=A8=E9=87=8D=E7=BB=98=E4=B9=8B=E5=89=8D=EF=BC=
=8C=E4=BC=9A=E8=B0=83=E7=94=A8PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=
=E5=91=98=E5=87=BD=E6=95=B0UpdateTilePriorities=E4=B8=BA=E6=96=B0=E5=88=9B=
=E5=BB=BA=E7=9A=84Tiling=E5=88=9B=E5=BB=BA=E5=88=86=E5=9D=97=E3=80=82=E5=90=
=A6=E5=88=99=E7=9A=84=E8=AF=9D=EF=BC=8C=E7=8E=B0=E5=9C=A8=E5=B0=B1=E5=8F=AF=
=E4=BB=A5=E9=A9=AC=E4=B8=8A=E8=B0=83=E7=94=A8PictureLayerImpl=E7=B1=BB=E7=
=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateTilePriorities=E4=B8=BA=E6=
=96=B0=E5=88=9B=E5=BB=BA=E7=9A=84Tiling=E5=88=9B=E5=BB=BA=E5=88=86=E5=9D=97=
=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=80=E6=AD=A5=E6=
=89=A7=E8=A1=8C=E5=AE=8C=E6=88=90=E4=B9=8B=E5=90=8E=EF=BC=8C=E5=9B=9E=E5=88=
=B0PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0Up=
dateTiles=E4=B8=AD=EF=BC=8C=E8=BF=99=E6=97=B6=E5=80=99=E5=AE=83=E5=B0=B1=E4=
=B8=BA=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=
=E5=88=9B=E5=BB=BA=E4=BA=86=E4=B8=A4=E4=B8=AATiling=E3=80=82=E5=85=B6=E4=B8=
=AD=E4=B8=80=E4=B8=AATiling=E7=9A=84Raster Scale=E4=B8=BAHigh Res Raster Co=
ntents Scale=EF=BC=8C=E5=8F=A6=E4=B8=80=E4=B8=AATiling=E7=9A=84Raster Scale=
=E4=B8=BALow&nbsp;Res Raster Contents Scale=E3=80=82PictureLayerImpl=E7=B1=
=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateTiles=E6=8E=A5=E4=B8=
=8B=E6=9D=A5=E9=9C=80=E8=A6=81=E4=B8=BA=E8=BF=99=E4=B8=A4=E4=B8=AATiling=E5=
=88=9B=E5=BB=BA=E5=88=86=E5=9D=97=EF=BC=8C=E8=BF=99=E6=98=AF=E9=80=9A=E8=BF=
=87=E8=B0=83=E7=94=A8=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AA=E6=88=90=E5=91=98=
=E5=87=BD=E6=95=B0UpdateTilePriorities=E5=AE=9E=E7=8E=B0=E7=9A=84=EF=BC=8C=
=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_i=
d=3D"1675568" snippet_file_name=3D"blog_20160509_44_7189671" name=3D"code" =
class=3D"cpp">void PictureLayerImpl::UpdateTilePriorities() {
  ......

  gfx::Rect visible_rect_in_content_space(
      GetViewportForTilePriorityInContentSpace());
  visible_rect_in_content_space.Intersect(visible_rect_for_tile_priority_);
  gfx::Rect visible_layer_rect =3D gfx::ScaleToEnclosingRect(
      visible_rect_in_content_space, 1.f / contents_scale_x());
  WhichTree tree =3D
      layer_tree_impl()-&gt;IsActiveTree() ? ACTIVE_TREE : PENDING_TREE;
  for (size_t i =3D 0; i &lt; tilings_-&gt;num_tilings(); ++i) {
    // TODO(sohanjg): Passing MaximumContentsScale as layer contents scale
    // in UpdateTilePriorities is wrong and should be ideal contents scale.
    tilings_-&gt;tiling_at(i)-&gt;UpdateTilePriorities(tree,
                                                 visible_layer_rect,
                                                 MaximumTilingContentsScale=
(),
                                                 current_frame_time_in_seco=
nds);
  }

  // Tile priorities were modified.
  layer_tree_impl()-&gt;DidModifyTilePriorities();
}</pre><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=
=E5=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/layer=
s/picture_layer_impl.cc=E4=B8=AD=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=
PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0Updat=
eTilePriorities=E9=A6=96=E5=85=88=E8=AE=A1=E7=AE=97=E5=87=BA=E6=9D=A5=E5=BD=
=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E7=9A=84=E5=
=8F=AF=E8=A7=81=E9=83=A8=E5=88=86=E5=A4=A7=E5=B0=8Fvisible_layer_rect=EF=BC=
=8C=E6=8E=A5=E7=9D=80=E9=81=8D=E5=8E=86=E4=BF=9D=E5=AD=98=E6=88=90=E5=91=98=
=E5=8F=98=E9=87=8Ftilings_=E6=8F=8F=E8=BF=B0=E7=9A=84=E4=B8=80=E4=B8=AAPict=
ureLayerTilingSet=E5=AF=B9=E8=B1=A1=E4=B8=AD=E7=9A=84=E6=AF=8F=E4=B8=80=E4=
=B8=AATiling=EF=BC=8C=E5=B9=B6=E4=B8=94=E8=AE=A9=E8=BF=99=E4=BA=9BTiling=E6=
=A0=B9=E6=8D=AE=E5=89=8D=E9=9D=A2=E8=AE=A1=E7=AE=97=E5=87=BA=E6=9D=A5=E7=9A=
=84visible_layer_rect=E9=87=8D=E6=96=B0=E5=85=B6=E5=86=85=E9=83=A8=E7=9A=84=
=E5=88=86=E5=9D=97=E4=BC=98=E5=85=88=E7=BA=A7=E3=80=82</p><p>&nbsp; &nbsp; =
&nbsp; &nbsp;=E4=BB=8E=E5=89=8D=E9=9D=A2=E7=9A=84=E5=88=86=E6=9E=90=E5=8F=
=AF=E4=BB=A5=E7=9F=A5=E9=81=93=EF=BC=8CLayer=E7=9A=84=E6=AF=8F=E4=B8=80=E4=
=B8=AATiling=E9=83=BD=E6=98=AF=E9=80=9A=E8=BF=87=E4=B8=80=E4=B8=AAPictureLa=
yerTiling=E5=AF=B9=E8=B1=A1=E6=8F=8F=E8=BF=B0=E7=9A=84=EF=BC=8C=E6=9B=B4=E6=
=96=B0Tiling=E4=B8=AD=E7=9A=84=E5=88=86=E5=9D=97=E4=BC=98=E5=85=88=E7=BA=A7=
=E5=B0=B1=E5=8F=AF=E4=BB=A5=E9=80=9A=E8=BF=87=E8=B0=83=E7=94=A8=E8=BF=99=E4=
=BA=9BPictureLayerTiling=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=87=
=BD=E6=95=B0UpdateTilePriorities=E5=AE=9E=E7=8E=B0=E3=80=82=E5=9C=A8=E6=9B=
=B4=E6=96=B0=E5=88=86=E5=9D=97=E4=BC=98=E5=85=88=E7=BA=A7=E7=9A=84=E8=BF=87=
=E7=A8=8B=E4=B8=AD=EF=BC=8C=E5=A6=82=E6=9E=9C=E5=8F=91=E7=8E=B0=E5=88=86=E5=
=9D=97=E8=BF=98=E6=B2=A1=E6=9C=89=E5=88=9B=E5=BB=BA=EF=BC=8C=E9=82=A3=E4=B9=
=88=E5=B0=B1=E4=BC=9A=E5=85=88=E5=88=9B=E5=BB=BA=E3=80=82</p><p>&nbsp; &nbs=
p; &nbsp; &nbsp;PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=
=BD=E6=95=B0UpdateTilePriorities=E6=9C=80=E5=90=8E=E8=B0=83=E7=94=A8=E6=88=
=90=E5=91=98=E5=87=BD=E6=95=B0layer_tree_impl=E8=8E=B7=E5=BE=97=E4=B8=80=E4=
=B8=AALayerTreeImpl=E5=AF=B9=E8=B1=A1=E3=80=82=E8=BF=99=E4=B8=AALayerTreeIm=
pl=E5=AF=B9=E8=B1=A1=E6=8F=8F=E8=BF=B0=E7=9A=84=E5=B0=B1=E6=98=AFCC Pending=
 Layer Tree=E3=80=82=E6=9C=89=E4=BA=86=E8=BF=99=E4=B8=AALayerTreeImpl=E5=AF=
=B9=E8=B1=A1=E4=B9=8B=E5=90=8E=EF=BC=8C=E5=B0=B1=E5=8F=AF=E4=BB=A5=E8=B0=83=
=E7=94=A8=E5=AE=83=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0DidModifyTil=
ePriorities=E9=80=9A=E7=9F=A5=E8=B0=83=E5=BA=A6=E5=99=A8CC Pening Layer Tre=
e=E7=9A=84=E5=88=86=E5=9D=97=E5=B7=B2=E7=BB=8F=E5=88=9B=E5=BB=BA=E5=AE=8C=
=E6=AF=95=EF=BC=8C=E5=B9=B6=E4=B8=94=E8=BF=99=E4=BA=9B=E5=88=86=E5=9D=97=E7=
=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=E4=B9=9F=E5=B7=B2=E7=BB=8F=E7=A1=AE=E5=AE=
=9A=E3=80=82=E8=B0=83=E5=BA=A6=E5=99=A8=E8=8E=B7=E5=BE=97=E8=BF=99=E4=B8=AA=
=E9=80=9A=E7=9F=A5=E4=B9=8B=E5=90=8E=EF=BC=8C=E6=8E=A5=E4=B8=8B=E6=9D=A5=E5=
=B0=B1=E4=BC=9A=E8=AF=B7=E6=B1=82Compositor=E7=BA=BF=E7=A8=8B=E5=AF=B9CC Pe=
nding Layer Tree=E8=BF=9B=E8=A1=8C=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=
=BD=9C=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E6=8E=A5=E4=B8=8B=E6=9D=
=A5=E6=88=91=E4=BB=AC=E5=85=88=E5=88=86=E6=9E=90PictureLayerTiling=E7=B1=BB=
=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateTilePriorities=E7=9A=84=
=E5=AE=9E=E7=8E=B0=EF=BC=8C=E6=8E=A5=E7=9D=80=E5=86=8D=E5=88=86=E6=9E=90Lay=
erTreeImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0DidModifyTi=
lePriorities=E7=9A=84=E5=AE=9E=E7=8E=B0=E3=80=82</p><p>&nbsp; &nbsp; &nbsp;=
 &nbsp;PictureLayerTiling=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=
=95=B0UpdateTilePriorities=E7=9A=84=E5=AE=9E=E7=8E=B0=E5=A6=82=E4=B8=8B=E6=
=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet=
_file_name=3D"blog_20160509_45_9839629" name=3D"code" class=3D"cpp">void Pi=
ctureLayerTiling::UpdateTilePriorities(
    WhichTree tree,
    const gfx::Rect&amp; visible_layer_rect,
    float layer_contents_scale,
    double current_frame_time_in_seconds) {
  ......

  gfx::Rect visible_rect_in_content_space =3D
      gfx::ScaleToEnclosingRect(visible_layer_rect, contents_scale_);
  ......

  size_t max_tiles_for_interest_area =3D client_-&gt;GetMaxTilesForInterest=
Area();

  gfx::Size tile_size =3D tiling_data_.max_texture_size();
  int64 eventually_rect_area =3D
      max_tiles_for_interest_area * tile_size.width() * tile_size.height();

  gfx::Rect skewport =3D ComputeSkewport(current_frame_time_in_seconds,
                                       visible_rect_in_content_space);
  ......

  gfx::Rect eventually_rect =3D
      ExpandRectEquallyToAreaBoundedBy(visible_rect_in_content_space,
                                       eventually_rect_area,
                                       TilingRect(),
                                       &amp;expansion_cache_);
  .....

  SetLiveTilesRect(eventually_rect);
  ......

  current_visible_rect_in_content_space_ =3D visible_rect_in_content_space;
  current_skewport_ =3D skewport;
  current_eventually_rect_ =3D eventually_rect;
  ......

  TilePriority now_priority(resolution_, TilePriority::NOW, 0);
  float content_to_screen_scale =3D layer_contents_scale / contents_scale_;

  // Assign now priority to all visible tiles.
  bool include_borders =3D true;
  for (TilingData::Iterator iter(
           &amp;tiling_data_, visible_rect_in_content_space, include_border=
s);
       iter;
       ++iter) {
    TileMap::iterator find =3D tiles_.find(iter.index());
    if (find =3D=3D tiles_.end())
      continue;
    Tile* tile =3D find-&gt;second.get();

    tile-&gt;SetPriority(tree, now_priority);
  }

  // Assign soon priority to skewport tiles.
  for (TilingData::DifferenceIterator iter(
           &amp;tiling_data_, skewport, visible_rect_in_content_space);
       iter;
       ++iter) {
    TileMap::iterator find =3D tiles_.find(iter.index());
    if (find =3D=3D tiles_.end())
      continue;
    Tile* tile =3D find-&gt;second.get();

    gfx::Rect tile_bounds =3D
        tiling_data_.TileBounds(iter.index_x(), iter.index_y());

    float distance_to_visible =3D
        visible_rect_in_content_space.ManhattanInternalDistance(tile_bounds=
) *
        content_to_screen_scale;

    TilePriority priority(resolution_, TilePriority::SOON, distance_to_visi=
ble);
    tile-&gt;SetPriority(tree, priority);
  }

  // Assign eventually priority to interest rect tiles.
  for (TilingData::DifferenceIterator iter(
           &amp;tiling_data_, eventually_rect, skewport);
       iter;
       ++iter) {
    TileMap::iterator find =3D tiles_.find(iter.index());
    if (find =3D=3D tiles_.end())
      continue;
    Tile* tile =3D find-&gt;second.get();

    gfx::Rect tile_bounds =3D
        tiling_data_.TileBounds(iter.index_x(), iter.index_y());

    float distance_to_visible =3D
        visible_rect_in_content_space.ManhattanInternalDistance(tile_bounds=
) *
        content_to_screen_scale;
    TilePriority priority(
        resolution_, TilePriority::EVENTUALLY, distance_to_visible);
    tile-&gt;SetPriority(tree, priority);
  }

  // Upgrade the priority on border tiles to be SOON.
  current_soon_border_rect_ =3D visible_rect_in_content_space;
  float border =3D kSoonBorderDistanceInScreenPixels / content_to_screen_sc=
ale;
  current_soon_border_rect_.Inset(-border, -border, -border, -border);
  for (TilingData::DifferenceIterator iter(
           &amp;tiling_data_, current_soon_border_rect_, skewport);
       iter;
       ++iter) {
    TileMap::iterator find =3D tiles_.find(iter.index());
    if (find =3D=3D tiles_.end())
      continue;
    Tile* tile =3D find-&gt;second.get();

    TilePriority priority(resolution_,
                          TilePriority::SOON,
                          tile-&gt;priority(tree).distance_to_visible);
    tile-&gt;SetPriority(tree, priority);
  }
}</pre>&nbsp; &nbsp; &nbsp;&nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=AE=
=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/layers/pict=
ure_layer_impl.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; PictureLa=
yerTiling=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateTilePr=
iorities=E4=BC=9A=E6=A0=B9=E6=8D=AE=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=
=A4=84=E7=90=86=E7=9A=84Tiling=E7=9A=84=E7=BC=A9=E6=94=BE=E5=9B=A0=E5=AD=90=
=E8=AE=A1=E7=AE=97=E5=87=BA4=E4=B8=AA=E5=8C=BA=E5=9F=9F=EF=BC=8C=E5=A6=82=
=E5=9B=BE3=E6=89=80=E7=A4=BA=EF=BC=9A</p><p style=3D"text-align: center;"><=
img alt=3D"=E6=8A=80=E6=9C=AF=E5=88=86=E4=BA=AB" src=3D"http://img.blog.csd=
n.net/20160502165917095?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/=
5a6L5L2T/fontsize/400/fill/I0JBQkFCMA=3D=3D/dissolve/70/gravity/SouthEast">=
<br></p><p style=3D"text-align: center;">=E5=9B=BE3 Tiling=E7=9A=84=E5=8C=
=BA=E5=9F=9F=E5=88=92=E5=88=86</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=994=
=E4=B8=AA=E5=8C=BA=E5=9F=9F=E5=88=86=E5=88=AB=E6=98=AF=EF=BC=9A</p><p>&nbsp=
; &nbsp; &nbsp; &nbsp;1. Visible rect=EF=BC=9A=E6=8F=8F=E8=BF=B0Layer=E7=9A=
=84=E5=BD=93=E5=89=8D=E5=8F=AF=E8=A7=81=E5=8C=BA=E5=9F=9F=E3=80=82</p><p>&n=
bsp; &nbsp; &nbsp; &nbsp;2. Skewport=EF=BC=9A=E6=A0=B9=E6=8D=AELayer=E7=9A=
=84=E7=A7=BB=E5=8A=A8=E6=96=B9=E5=90=91=E5=92=8C=E9=80=9F=E5=BA=A6=E8=AE=A1=
=E7=AE=97=E5=87=BA=E6=9D=A5=E7=9A=84=E5=8C=BA=E5=9F=9F=E3=80=82=E5=81=87=E8=
=AE=BELayer=E6=8C=89Y=E8=BD=B4=E6=96=B9=E5=90=91=E7=A7=BB=E5=8A=A8=EF=BC=8C=
=E7=A7=BB=E5=8A=A8=E5=89=8D=E7=9A=84=E5=9D=90=E6=A0=87=E4=B8=BAold_y=EF=BC=
=8C=E7=A7=BB=E5=8A=A8=E5=90=8E=E7=9A=84=E5=9D=90=E6=A0=87=E4=B8=BAnew_y=EF=
=BC=8C=E4=BB=8Eold_y=E5=88=B0new_y=E8=80=97=E8=B4=B9=E7=9A=84=E6=97=B6=E9=
=97=B4=E4=B8=BAdelta=E7=A7=92=EF=BC=8C=E9=82=A3=E4=B9=88=E7=A7=BB=E5=8A=A8=
=E9=80=9F=E5=BA=A6=E5=B0=B1=E4=B8=BA(new_y - old_y) / delta=E3=80=82=E6=8C=
=89=E7=85=A7=E8=BF=99=E4=B8=AA=E9=80=9F=E5=BA=A6=E7=A7=BB=E5=8A=A81=E7=A7=
=92=E7=9A=84=E6=97=B6=E9=97=B4=EF=BC=8C=E5=B0=B1=E5=BE=97=E5=88=B0Skewport=
=E7=9A=84=E5=A4=A7=E5=B0=8F=E3=80=82=E6=B3=A8=E6=84=8F=EF=BC=8CSkewport=E6=
=98=AF=E5=9C=A8Visible rect=E7=9A=84=E5=9F=BA=E7=A1=80=E4=B8=8A=E8=BF=9B=E8=
=A1=8C=E8=AE=A1=E7=AE=97=E7=9A=84=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=AF=E4=B8=
=A4=E8=80=85=E7=9A=84=E5=8E=9F=E7=82=B9=E6=98=AF=E4=B8=80=E6=A0=B7=E7=9A=84=
=E3=80=82=E8=BF=98=E6=9C=89=E4=B8=80=E7=82=B9=E9=9C=80=E8=A6=81=E6=B3=A8=E6=
=84=8F=E7=9A=84=E6=98=AF=EF=BC=8C=E5=A6=82=E6=9E=9C=E5=85=89=E6=A0=85=E5=8C=
=96=E6=93=8D=E4=BD=9C=E6=98=AF=E9=80=9A=E8=BF=87GPU=E5=AE=9E=E7=8E=B0=E7=9A=
=84=EF=BC=8C=E9=82=A3=E4=B9=88Skewport=E7=9A=84=E5=A4=A7=E5=B0=8F=E4=B8=8EV=
isible rect=E6=98=AF=E4=B8=80=E8=87=B4=E7=9A=84=E3=80=82</p><p>&nbsp; &nbsp=
; &nbsp; &nbsp;3. Border rect=EF=BC=9A=E7=94=B1Visible rect=E5=9C=A8=E5=9B=
=9B=E5=91=A8=E5=88=86=E5=88=AB=E6=89=A9=E5=B1=95312 pixels=E5=90=8E=E5=BE=
=97=E5=88=B0=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;4. Eventually rect=
=EF=BC=9A=E4=B8=80=E4=B8=AA=E7=94=B1128=E4=B8=AA=E5=88=86=E5=9D=97=E7=BB=84=
=E6=88=90=E7=9A=84=E5=8C=BA=E5=9F=9F=EF=BC=8C=E8=BF=99=E4=B8=AA=E5=8C=BA=E5=
=9F=9F=E4=BB=A5Visible rect=E4=B8=BA=E4=B8=AD=E5=BF=83=E3=80=82</p><p>&nbsp=
; &nbsp; &nbsp; &nbsp;=E4=BD=8D=E4=BA=8E=E4=B8=8A=E8=BF=B0=E5=8C=BA=E5=9F=
=9F=E4=B8=AD=E7=9A=84=E5=88=86=E5=9D=97=E9=83=BD=E6=98=AF=E9=9C=80=E8=A6=81=
=E5=88=9B=E5=BB=BA=E7=9A=84=EF=BC=8C=E5=B9=B6=E4=B8=94=E5=9C=A8=E5=88=9B=E5=
=BB=BA=E4=B9=8B=E5=90=8E=EF=BC=8C=E9=9C=80=E8=A6=81=E7=BB=99=E5=AE=83=E4=BB=
=AC=E8=B5=8B=E4=BA=88=E4=BC=98=E5=85=88=E7=BA=A7=E3=80=82=E4=BB=A5=E5=90=8E=
CC=E6=A8=A1=E5=9D=97=E5=B0=B1=E4=BC=9A=E6=A0=B9=E6=8D=AE=E5=AE=83=E4=BB=AC=
=E7=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=E5=AF=B9=E5=AE=83=E4=BB=AC=E8=BF=9B=E8=
=A1=8C=E5=85=89=E6=A0=85=E5=8C=96=EF=BC=8C=E5=85=B6=E4=B8=AD=EF=BC=9A</p><p=
>&nbsp; &nbsp; &nbsp; &nbsp;1. =E4=BD=8D=E4=BA=8EVisible rect=E4=B8=AD=E7=
=9A=84=E5=88=86=E5=9D=97=E4=BC=98=E5=85=88=E7=BA=A7=E6=9C=80=E9=AB=98=EF=BC=
=8C=E8=AE=BE=E7=BD=AE=E4=B8=BATilePriority::NOW=EF=BC=8C=E8=A1=A8=E7=A4=BA=
=E5=AE=83=E4=BB=AC=E7=8E=B0=E5=9C=A8=E5=B0=B1=E9=9C=80=E8=A6=81=E6=98=BE=E7=
=A4=BA=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;2. =E4=BD=8D=E4=BA=8ESkewp=
ort=E5=92=8CBorder rect=E4=B8=AD=E4=BD=86=E6=98=AF=E4=B8=8D=E4=BD=8D=E4=BA=
=8EVisible=E4=B8=AD=E7=9A=84=E5=88=86=E5=9D=97=E7=9A=84=E4=BC=98=E5=85=88=
=E7=BA=A7=E6=AC=A1=E4=B9=8B=EF=BC=8C=E8=AE=BE=E7=BD=AE=E4=B8=BATilePriority=
::SOON=EF=BC=8C=E8=A1=A8=E7=A4=BA=E5=AE=83=E4=BB=AC=E5=8F=AF=E8=83=BD=E5=BE=
=88=E5=BF=AB=E5=B0=B1=E9=9C=80=E8=A6=81=E6=98=BE=E7=A4=BA=E3=80=82</p><p>&n=
bsp; &nbsp; &nbsp; &nbsp;3. =E4=BD=8D=E4=BA=8EEventually rect=E4=B8=AD=E4=
=BD=86=E6=98=AF=E4=B8=8D=E4=BD=8D=E4=BA=8ESkewport=E5=92=8CBorder rect=E4=
=B8=AD=E7=9A=84=E5=88=86=E5=9D=97=E4=BC=98=E5=85=88=E7=BA=A7=E6=9C=80=E4=BD=
=8E=EF=BC=8C=E8=AE=BE=E7=BD=AE=E4=B8=BATilePriority::EVENTUALLY=EF=BC=8C=E8=
=A1=A8=E7=A4=BA=E5=AE=83=E4=BB=AC=E6=9C=80=E7=BB=88=E5=8F=AF=E8=83=BD=E4=BC=
=9A=E8=A2=AB=E6=98=BE=E7=A4=BA=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=
=E4=BD=8D=E4=BA=8ESkewport=E3=80=81Border rect=E5=92=8CEventually rect=E4=
=B8=AD=E7=9A=84=E5=88=86=E5=9D=97=EF=BC=8C=E5=AE=83=E4=BB=AC=E6=9C=80=E7=BB=
=88=E7=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=E8=BF=98=E4=B8=8E=E5=AE=83=E4=BB=AC=
=E4=B8=8EVisible rect=E7=9A=84=E8=B7=9D=E7=A6=BB=E6=9C=89=E5=85=B3=E3=80=82=
=E8=B7=9D=E7=A6=BB=E8=B6=8A=E8=BF=9C=EF=BC=8C=E4=BC=98=E5=85=88=E7=BA=A7=E8=
=B6=8A=E4=BD=8E=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E5=9C=A8=E5=9B=
=BE3=E4=B8=AD=EF=BC=8C=E6=88=91=E4=BB=AC=E8=BF=98=E7=9C=8B=E5=88=B0=E4=B8=
=80=E4=B8=AATiling rect=E3=80=82=E8=BF=99=E4=B8=AA=E5=8C=BA=E5=9F=9F=E8=A1=
=A8=E7=A4=BALayer=E7=9A=84=E5=86=85=E5=AE=B9=E5=8C=BA=E5=9F=9F=EF=BC=8C=E5=
=AE=83=E5=8F=AF=E8=83=BD=E6=98=AF=E4=B8=80=E4=B8=AA=E8=BF=9C=E8=BF=9C=E5=A4=
=A7=E4=BA=8EVisible rect=E7=9A=84=E5=8C=BA=E5=9F=9F=EF=BC=8C=E6=89=80=E4=BB=
=A5CC=E6=A8=A1=E5=9D=97=E6=89=8D=E4=BC=9A=E5=AF=B9=E5=AE=83=E8=BF=9B=E4=B8=
=80=E6=AD=A5=E5=88=92=E5=88=86=EF=BC=8C=E4=BB=A5=E5=8C=BA=E5=88=86=E5=87=BA=
=E9=87=8D=E8=A6=81=E5=92=8C=E4=B8=8D=E9=87=8D=E8=A6=81=E7=9A=84=E5=8C=BA=E5=
=9F=9F=E3=80=82=E9=87=8D=E8=A6=81=E5=8C=BA=E5=9F=9F=E6=98=AF=E7=8E=B0=E5=9C=
=A8=E6=88=96=E8=80=85=E6=9C=80=E8=BF=91=E9=9C=80=E8=A6=81=E6=98=BE=E7=A4=BA=
=E7=9A=84=EF=BC=8C=E5=9B=A0=E6=AD=A4=E8=A6=81=E5=AF=B9=E5=AE=83=E4=BB=AC=E6=
=89=A7=E8=A1=8C=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E3=80=82=E4=B8=
=8D=E9=87=8D=E8=A6=81=E5=8C=BA=E5=9F=9F=E6=98=AF=E5=8F=AF=E8=83=BD=E6=B0=B8=
=E8=BF=9C=E9=83=BD=E4=B8=8D=E9=9C=80=E8=A6=81=E6=98=BE=E7=A4=BA=EF=BC=8C=E6=
=88=96=E8=80=85=E5=BE=88=E4=B9=85=E4=B9=8B=E5=90=8E=E6=89=8D=E4=BC=9A=E6=98=
=BE=E7=A4=BA=E3=80=82=E8=BF=99=E9=83=A8=E5=88=86=E5=8C=BA=E5=9F=9F=E4=B8=8D=
=E7=9D=80=E6=80=A5=E5=AF=B9=E5=AE=83=E4=BB=AC=E6=89=A7=E8=A1=8C=E5=85=89=E6=
=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp=
;=E5=88=86=E5=9D=97=E7=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=E7=9A=84=E8=AE=A1=
=E7=AE=97=E5=BE=88=E5=A4=8D=E6=9D=82=E3=80=82=E9=99=A4=E4=BA=86=E9=9C=80=E8=
=A6=81=E8=80=83=E8=99=91=E5=AE=83=E4=BB=AC=E7=9A=84TilePriority::NOW=E3=80=
=81TilePriority::SOON=E5=92=8CTilePriority::EVENTUALLY=E5=B1=9E=E6=80=A7=E5=
=92=8C=E5=AE=83=E4=BB=AC=E5=88=B0Visible rect=E8=B7=9D=E7=A6=BB=EF=BC=8C=E8=
=BF=98=E9=9C=80=E8=A6=81=E8=80=83=E8=99=91=E5=AE=83=E4=BB=AC=E6=98=AF=E5=B1=
=9E=E4=BA=8ECC Pening Layer Tree=E8=BF=98CC Active Layer Tree=EF=BC=8C=E4=
=BB=A5=E5=8F=8A=E5=AE=83=E4=BB=AC=E6=89=80=E5=B1=9E=E7=9A=84Tiling=E7=9A=84=
=E5=88=86=E8=BE=A8=E7=8E=87=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E7=
=BB=99=E5=88=86=E5=9D=97=E8=AE=BE=E7=BD=AETilePriority::NOW=E3=80=81TilePri=
ority::SOON=E5=92=8CTilePriority::EVENTUALLY=E5=B1=9E=E6=80=A7=EF=BC=8C=E6=
=98=AF=E4=B8=BA=E4=BA=86=E7=BB=99=E5=AE=83=E4=BB=AC=E5=88=86=E7=B1=BB=E3=80=
=82=E4=B8=80=E4=B8=AA=E5=88=86=E7=B1=BB=E4=B9=9F=E7=A7=B0=E4=B8=BA=E4=B8=80=
=E4=B8=AAPriority Bin=E3=80=82=E4=B8=80=E5=85=B1=E6=9C=89=E4=B8=89=E4=B8=AA=
Priority Bin=EF=BC=8C=E5=88=86=E5=88=AB=E7=A7=B0=E4=B8=BANow Bin=E3=80=81So=
on Bin=E5=92=8CEventually Bin=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E7=
=BB=99=E4=B8=80=E4=B8=AA=E5=88=86=E5=9D=97=E8=AE=BE=E7=BD=AE=E4=BC=98=E5=85=
=88=E7=BA=A7=E5=8F=AF=E4=BB=A5=E9=80=9A=E8=BF=87=E8=B0=83=E7=94=A8Tile=E7=
=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0SetPriority=E5=AE=9E=E7=
=8E=B0=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre=
 code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20160509_46_5205586"=
 name=3D"code" class=3D"cpp">void Tile::SetPriority(WhichTree tree, const T=
ilePriority&amp; priority) {
  if (priority =3D=3D priority_[tree])
    return;

  priority_[tree] =3D priority;
  ......
}</pre>&nbsp; &nbsp; &nbsp; =E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=AE=9A=
=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resources/tile=
.cc=E4=B8=AD=E3=80=82<br><p></p><p>&nbsp; &nbsp; &nbsp;&nbsp;Tile=E7=B1=BB=
=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fpriotity_=E6=98=AF=E4=B8=80=E4=
=B8=AA=E7=B1=BB=E5=9E=8B=E4=B8=BATilePriority=E7=9A=84=E6=95=B0=E7=BB=84=EF=
=BC=8C=E6=95=B0=E7=BB=84=E7=9A=84=E5=A4=A7=E5=B0=8F=E4=B8=BA2=EF=BC=8C=E5=
=AE=83=E7=9A=84=E5=AE=9A=E4=B9=89=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=
=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20=
160509_47_9458728" name=3D"code" class=3D"cpp">class CC_EXPORT Tile : publi=
c RefCountedManaged&lt;Tile&gt; {
 ......

 private:
  ......

  TilePriority priority_[NUM_TREES];
  ......
};</pre>&nbsp; &nbsp; &nbsp;&nbsp;=E8=BF=99=E4=B8=AA=E6=88=90=E5=91=98=E5=
=8F=98=E9=87=8F=E5=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromi=
um_org/cc/resources/tile.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp;=
 NUM_TREES=E6=98=AF=E4=B8=80=E4=B8=AA=E7=B1=BB=E5=9E=8B=E4=B8=BAWhichTree=
=E7=9A=84=E6=9E=9A=E4=B8=BE=E5=80=BC=EF=BC=8C=E5=90=8E=E8=80=85=E7=9A=84=E5=
=AE=9A=E4=B9=89=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre=
 code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20160509_48_5107310"=
 name=3D"code" class=3D"cpp">enum WhichTree {
  // Note: these must be 0 and 1 because we index with them in various plac=
es,
  // e.g. in Tile::priority_.
  ACTIVE_TREE =3D 0,
  PENDING_TREE =3D 1,
  NUM_TREES =3D 2
  // Be sure to update WhichTreeAsValue when adding new fields.
};</pre>&nbsp; &nbsp; &nbsp; =E8=BF=99=E4=B8=AA=E6=9E=9A=E4=B8=BE=E5=AE=9A=
=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resources/tile=
_priority.h=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; =E4=BB=8E=E8=BF=99=E9=87=
=8C=E5=8F=AF=E4=BB=A5=E7=9C=8B=E5=88=B0NUM_TREES=E7=9A=84=E5=80=BC=E7=AD=89=
=E4=BA=8E2=E3=80=82WhichTree=E8=BF=98=E5=AE=9A=E4=B9=89=E4=BA=86=E5=8F=A6=
=E5=A4=96=E4=B8=A4=E4=B8=AA=E6=9E=9A=E4=B8=BE=E5=80=BCACTIVE_TREE=E5=92=8CP=
ENDING_TREE=EF=BC=8C=E5=88=86=E5=88=AB=E8=A1=A8=E7=A4=BACC Active Layer Tre=
e=E5=92=8CCC Pending Layer Tree=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; =E5=9B=
=9E=E5=88=B0Tile=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0SetPr=
iority=E4=B8=AD=EF=BC=8C=E4=BB=8E=E5=AE=83=E7=9A=84=E5=8F=82=E6=95=B0=E5=92=
=8C=E5=AE=9E=E7=8E=B0=E5=8F=AF=E4=BB=A5=E7=9C=8B=E5=87=BA=EF=BC=8C=E4=B8=80=
=E4=B8=AA=E5=88=86=E5=9D=97=E6=9C=89=E4=B8=A4=E4=B8=AA=E4=BC=98=E5=85=88=E7=
=BA=A7=EF=BC=8C=E5=85=B6=E4=B8=AD=E4=B8=80=E4=B8=AA=E6=98=AF=E4=B8=BACC Act=
ive Layer Tree=E8=AE=BE=E7=BD=AE=E7=9A=84=EF=BC=8C=E5=8F=A6=E4=B8=80=E4=B8=
=AA=E6=98=AF=E4=B8=BACC Pending Layer Tree=E8=AE=BE=E7=BD=AE=E7=9A=84=E3=80=
=82=E6=AF=8F=E4=B8=80=E4=B8=AA=E4=BC=98=E5=85=88=E7=BA=A7=E9=83=BD=E6=98=AF=
=E9=80=9A=E8=BF=87=E4=B8=80=E4=B8=AATilePriority=E5=AF=B9=E8=B1=A1=E6=8F=8F=
=E8=BF=B0=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; =E4=B8=BA=E4=BB=80=E4=B9=88=
=E4=B8=80=E4=B8=AA=E5=88=86=E5=9D=97=E7=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=E4=
=BC=9A=E6=9C=89=E4=B8=A4=E4=B8=AA=E5=91=A2=EF=BC=9F=E5=89=8D=E9=9D=A2=E6=88=
=91=E4=BB=AC=E6=8F=90=E5=88=B0=EF=BC=8C=E5=9C=A8CC Pending Layer Tree=E5=92=
=8CCC Active Layer Tree=E4=B8=AD=EF=BC=8C=E4=B8=A4=E4=B8=AA=E5=85=B7=E6=9C=
=89=E7=9B=B8=E5=90=8CID=E7=9A=84Layer=E7=A7=B0=E4=B8=BATwin Layer=E3=80=82=
=E4=B8=A4=E4=B8=AATwin Layer=E4=B8=AD=E7=9A=84Tiling=E6=98=AF=E5=8F=AF=E4=
=BB=A5=E5=85=B1=E4=BA=AB=E5=88=86=E5=9D=97=E7=9A=84=EF=BC=8C=E5=A6=82=E5=9B=
=BE4=E6=89=80=E7=A4=BA=EF=BC=9A</p><p style=3D"text-align: center;"><img al=
t=3D"=E6=8A=80=E6=9C=AF=E5=88=86=E4=BA=AB" src=3D"http://img.blog.csdn.net/=
20160502173844116"><br></p><p style=3D"text-align: center;">=E5=9B=BE4 =E5=
=9C=A8CC Pending Layer Tree=E4=B8=8ECC Active Layer Tree=E4=B9=8B=E9=97=B4=
=E5=85=B1=E4=BA=AB=E5=88=86=E5=9D=97</p><p>&nbsp; &nbsp; &nbsp; =E5=9C=A8=
=E5=9B=BE4=E4=B8=AD=EF=BC=8C=E7=BC=96=E5=8F=B7=E4=B8=BA3=E3=80=814=E3=80=81=
6=E3=80=817=E3=80=818=E5=92=8C9=E7=9A=84=E5=88=86=E5=9D=97=E5=9C=A8=E4=B8=
=A4=E4=B8=AATwin Layer=E4=B8=AD=E6=98=AF=E5=85=B1=E4=BA=AB=E7=9A=84=EF=BC=
=8C=E5=85=B6=E4=BD=99=E5=88=86=E5=9D=97=E5=AF=B9=E6=AF=8F=E4=B8=80=E4=B8=AA=
Layer=E6=9D=A5=E8=AF=B4=EF=BC=8C=E9=83=BD=E6=98=AF=E5=94=AF=E4=B8=80=E7=9A=
=84=EF=BC=8C=E4=B8=8D=E5=85=B1=E4=BA=AB=E7=9A=84=E3=80=82=E5=AF=B9=E4=BA=8E=
=E9=9D=9E=E5=85=B1=E4=BA=AB=E7=9A=84=E5=88=86=E5=9D=97=EF=BC=8C=E5=AE=83=E4=
=BB=AC=E7=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=E5=8F=AF=E4=BB=A5=E6=A0=B9=E6=8D=
=AE=E5=AE=83=E4=BB=AC=E6=89=80=E5=B1=9E=E7=9A=84Tree=E7=A1=AE=E5=AE=9A=E3=
=80=82=E6=88=91=E4=BB=AC=E8=80=83=E8=99=91=E5=9B=BE4=E4=B8=AD=E7=BC=96=E5=
=8F=B7=E4=B8=BA16=E7=9A=84=E5=88=86=E5=9D=97=EF=BC=8C=E5=AE=83=E6=98=AF=E9=
=9D=9E=E5=85=B1=E4=BA=AB=E7=9A=84=EF=BC=8C=E5=B9=B6=E4=B8=94=E5=B1=9E=E4=BA=
=8ECC Active Layer Tree=E3=80=82=E8=BF=99=E4=B8=AA=E5=88=86=E5=9D=97=E7=9A=
=84=E4=BC=98=E5=85=88=E7=BA=A7=E5=8F=AF=E4=BB=A5=E9=80=9A=E8=BF=87=E8=B0=83=
=E7=94=A8=E4=B8=8E=E5=AE=83=E5=AF=B9=E5=BA=94=E7=9A=84=E4=B8=80=E4=B8=AATil=
e=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0priority=E8=
=8E=B7=E5=BE=97=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p=
></p><pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20160509_49=
_2425115" name=3D"code" class=3D"cpp">class CC_EXPORT Tile : public RefCoun=
tedManaged&lt;Tile&gt; {
 public:
  ......

  const TilePriority&amp; priority(WhichTree tree) const {
    return priority_[tree];
  }

  ......
};</pre>&nbsp; &nbsp; &nbsp; =E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=AE=9A=
=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resources/tile=
.h=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; =E8=BF=99=E9=87=8C=E5=B0=
=86=E5=8F=82=E6=95=B0tree=E8=AE=BE=E7=BD=AE=E4=B8=BAACTIVE_TREE=E5=8D=B3=E5=
=8F=AF=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; =E7=9B=B8=E5=BA=94=E5=9C=B0=EF=
=BC=8C=E5=A6=82=E6=9E=9C=E6=88=91=E4=BB=AC=E9=9C=80=E8=A6=81=E8=8E=B7=E5=BE=
=97=E5=9B=BE4=E4=B8=AD=E7=BC=96=E5=8F=B7=E4=B8=BA24=E7=9A=84=E5=88=86=E5=9D=
=97=E7=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=EF=BC=8C=E9=82=A3=E4=B9=88=E5=9C=A8=
=E8=B0=83=E7=94=A8=E4=B8=8E=E5=AE=83=E5=AF=B9=E5=BA=94=E7=9A=84=E4=B8=80=E4=
=B8=AATile=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0pr=
iority=E6=97=B6=EF=BC=8C=E5=B0=86=E5=8F=82=E6=95=B0=E8=AE=BE=E7=BD=AE=E4=B8=
=BAPENDING_TREE=E5=8D=B3=E5=8F=AF=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; =E5=
=AF=B9=E4=BA=8E=E5=85=B1=E4=BA=AB=E7=9A=84=E5=88=86=E5=9D=97=EF=BC=8C=E5=AE=
=83=E6=9C=80=E7=BB=88=E7=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=E7=94=B1=E5=AE=83=
=E5=9C=A8CC Active Layer Tree=E5=92=8CCC Pending Layer Tree=E7=9A=84=E4=BC=
=98=E5=85=88=E7=BA=A7=E7=BB=84=E5=90=88=E8=80=8C=E6=88=90=EF=BC=8C=E5=A6=82=
=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675=
568" snippet_file_name=3D"blog_20160509_50_4518666" name=3D"code" class=3D"=
cpp">class CC_EXPORT Tile : public RefCountedManaged&lt;Tile&gt; {
 public:
  ......

  TilePriority combined_priority() const {
    return TilePriority(priority_[ACTIVE_TREE],
                        priority_[PENDING_TREE]);
  }

  ......
}; </pre>&nbsp; &nbsp; &nbsp;&nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resource=
s/tile.h=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; =E8=BF=99=E4=B8=AA=
=E7=BB=84=E5=90=88=E5=87=BA=E6=9D=A5=E7=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=E4=
=B9=9F=E6=98=AF=E7=94=B1=E4=B8=80=E4=B8=AATilePriority=E5=AF=B9=E8=B1=A1=E6=
=8F=8F=E8=BF=B0=E7=9A=84=E3=80=82=E5=9C=A8=E5=88=86=E6=9E=90=E7=BB=84=E5=90=
=88=E8=A7=84=E5=88=99=E4=B9=8B=E5=89=8D=EF=BC=8C=E6=88=91=E4=BB=AC=E5=85=88=
=E5=88=86=E6=9E=90TilePriority=E7=B1=BB=E7=9A=84=E5=AE=9E=E7=8E=B0=E3=80=82=
</p><p>&nbsp; &nbsp; &nbsp; =E5=A6=82=E5=89=8D=E6=89=80=E8=BF=B0=EF=BC=8CTi=
lePriority=E7=B1=BB=E7=94=A8=E6=9D=A5=E6=8F=8F=E8=BF=B0=E5=88=86=E5=9D=97=
=E7=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=EF=BC=8C=E5=AE=83=E6=9C=894=E4=B8=AA=
=E6=88=90=E5=91=98=E5=8F=98=E9=87=8F=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=
=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet_file_nam=
e=3D"blog_20160509_51_6296572" name=3D"code" class=3D"cpp">enum TileResolut=
ion {
  LOW_RESOLUTION =3D 0 ,
  HIGH_RESOLUTION =3D 1,
  NON_IDEAL_RESOLUTION =3D 2,
};

......

struct CC_EXPORT TilePriority {
  enum PriorityBin { NOW, SOON, EVENTUALLY };

  ......

  TileResolution resolution;
  bool required_for_activation;
  PriorityBin priority_bin;
  float distance_to_visible;
};</pre>&nbsp; &nbsp; &nbsp; =E8=BF=99=E4=B8=AA=E7=B1=BB=E5=AE=9A=E4=B9=89=
=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resources/tile_priority=
.h=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; =E8=BF=994=E4=B8=AA=E6=
=88=90=E5=91=98=E5=8F=98=E9=87=8F=E7=9A=84=E5=90=AB=E4=B9=89=E5=A6=82=E4=B8=
=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p>&nbsp; &nbsp; &nbsp; 1. resolution=EF=
=BC=9A=E8=A1=A8=E7=A4=BA=E5=88=86=E5=9D=97=E6=89=80=E5=B1=9E=E7=9A=84Tiling=
=E7=9A=84=E5=88=86=E8=BE=A8=E7=8E=87=E7=B1=BB=E5=9E=8B=E3=80=82=E4=BB=8E=E5=
=89=8D=E9=9D=A2=E5=88=86=E6=9E=90=E7=9A=84PictureLayerImpl=E7=B1=BB=E7=9A=
=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0AddTilingsForRasterScale=E5=8F=AF=E4=
=BB=A5=E7=9F=A5=E9=81=93=E3=80=82=E4=B8=80=E4=B8=AATiling=E7=9A=84=E5=88=86=
=E8=BE=A8=E7=8E=87=E7=B1=BB=E5=9E=8B=E6=9C=89=E4=B8=89=E7=A7=8D=EF=BC=8C=E5=
=88=86=E5=88=AB=E6=98=AFLOW_RESOLUTION=E3=80=81HIGH_RESOLUTION=E5=92=8CNON_=
IDEAL_RESOLUTION=E3=80=82=E5=85=B6=E4=B8=AD=EF=BC=8CLOW_RESOLUTION=E8=A1=A8=
=E7=A4=BATiling=E6=98=AF=E4=B8=B4=E6=97=B6=E4=BD=BF=E7=94=A8=EF=BC=8C=E4=B9=
=9F=E5=B0=B1=E6=98=AF=E5=9C=A8=E7=94=A8=E6=88=B7Pinch=E6=88=96=E8=80=85Scro=
ll=E7=BD=91=E9=A1=B5=E7=9A=84=E8=BF=87=E7=A8=8B=E4=B8=AD=E4=B8=B4=E6=97=B6=
=E4=BD=BF=E7=94=A8=EF=BC=8CHIGH_RESOLUTION=E8=A1=A8=E7=A4=BATiling=E5=9C=A8=
=E7=BD=91=E9=A1=B5=E6=9C=80=E7=BB=88=E6=8C=89=E7=85=A71:1=E6=AF=94=E4=BE=8B=
=E6=98=BE=E7=A4=BA=E6=97=B6=E4=BD=BF=E7=94=A8=EF=BC=8CNON_IDEAL_RESOLUTION=
=E8=A1=A8=E7=A4=BATiling=E4=B8=8D=E6=98=AF=E5=BD=93=E5=89=8D=E9=9C=80=E8=A6=
=81=E7=94=A8=E5=88=B0=E7=9A=84=E3=80=82<br></p><p>&nbsp; &nbsp; &nbsp; 2. r=
equired_for_activation=EF=BC=9A=E8=A1=A8=E7=A4=BA=E5=88=86=E5=9D=97=E5=85=
=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E5=AE=8C=E6=88=90=E5=90=8E=EF=BC=8C=
=E9=9C=80=E8=A6=81=E8=A7=A6=E5=8F=91=E5=9B=BE1=E6=89=80=E7=A4=BA=E7=9A=84AC=
TION_ACTIVE_PENDING_TREE=E6=93=8D=E4=BD=9C=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=
=AF=E8=AF=A5=E5=88=86=E5=9D=97=E6=98=AF=E5=B1=9E=E4=BA=8ECC Pending Layer T=
ree=E7=9A=84=E3=80=82CC Pending Layer Tree=E7=9A=84=E5=88=86=E5=9D=97=E5=AE=
=8C=E6=88=90=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E5=90=8E=EF=BC=8C=
=E9=9C=80=E8=A6=81=E6=BF=80=E6=B4=BB=E4=B8=BACC Active Layer Tree=E3=80=82<=
/p><p>&nbsp; &nbsp; &nbsp; 3. priority_bin=EF=BC=9A=E8=A1=A8=E7=A4=BA=E5=88=
=86=E5=9D=97=E7=9A=84=E7=B1=BB=E5=9E=8B=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=AF=
=E5=88=86=E5=9D=97=E8=A2=AB=E5=88=92=E5=88=86=E4=B8=BANow Bin=E3=80=81Soon =
Bin=E8=BF=98=E6=98=AFEventually Bin=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; 4.&=
nbsp;distance_to_visible=EF=BC=9A=E8=A1=A8=E7=A4=BA=E5=88=86=E5=9D=97=E5=88=
=B0Visible rect=E7=9A=84=E8=B7=9D=E7=A6=BB=E3=80=82</p><p>&nbsp; &nbsp; &nb=
sp; =E5=A6=82=E6=9E=9C=E4=B8=80=E4=B8=AA=E5=88=86=E5=9D=97=E6=98=AF=E4=B8=
=8D=E5=85=B1=E4=BA=AB=E7=9A=84=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=AF=E5=AE=83=
=E5=8F=AA=E5=B1=9E=E4=BA=8E=E5=85=B6=E4=B8=AD=E4=B8=80=E4=B8=AATree=EF=BC=
=8C=E9=82=A3=E4=B9=88=E6=8F=8F=E8=BF=B0=E7=9A=84=E5=AE=83=E7=9A=84=E4=BC=98=
=E5=85=88=E7=BA=A7=E7=9A=84TreePriority=E5=AF=B9=E8=B1=A1=E5=8F=AF=E4=BB=A5=
=E9=80=9A=E8=BF=87=E8=B0=83=E7=94=A8TreePriority=E7=B1=BB=E7=9A=84=E4=BB=A5=
=E4=B8=8B=E6=9E=84=E9=80=A0=E5=87=BD=E6=95=B0=E5=88=9B=E5=BB=BA=EF=BC=8C=E5=
=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=
=3D"1675568" snippet_file_name=3D"blog_20160509_52_8390123" name=3D"code" c=
lass=3D"cpp">struct CC_EXPORT TilePriority {
  ......

  TilePriority(TileResolution resolution,
               PriorityBin bin,
               float distance_to_visible)
      : resolution(resolution),
        required_for_activation(false),
        priority_bin(bin),
        distance_to_visible(distance_to_visible) {}

  ......
};</pre>&nbsp; &nbsp; &nbsp;&nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resource=
s/tile_priority.h=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; =E5=9C=A8=
=E5=88=9B=E5=BB=BA=E6=97=B6=E7=9B=B4=E6=8E=A5=E6=8C=87=E5=AE=9Aresolution=
=E3=80=81priority_bin=E5=92=8Cdistance_to_visible=E5=B1=9E=E6=80=A7=EF=BC=
=8C=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AArequired_for_activation=E9=BB=98=E8=
=AE=A4=E4=B8=BAfalse=E3=80=82</p><p>&nbsp; &nbsp; &nbsp;&nbsp;=E5=A6=82=E6=
=9E=9C=E4=B8=80=E4=B8=AA=E5=88=86=E5=9D=97=E6=98=AF=E5=85=B1=E4=BA=AB=E7=9A=
=84=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=AF=E5=AE=83=E5=90=8C=E6=97=B6=E5=B1=9E=
=E4=BA=8E=E4=B8=A4=E4=B8=AATree=EF=BC=8C=E9=82=A3=E4=B9=88=E6=8F=8F=E8=BF=
=B0=E7=9A=84=E5=AE=83=E7=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=E7=9A=84TreePrior=
ity=E5=AF=B9=E8=B1=A1=E5=8F=AF=E4=BB=A5=E9=80=9A=E8=BF=87=E8=B0=83=E7=94=A8=
TreePriority=E7=B1=BB=E7=9A=84=E4=BB=A5=E4=B8=8B=E6=9E=84=E9=80=A0=E5=87=BD=
=E6=95=B0=E5=88=9B=E5=BB=BA=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=
=BC=9A<br></p><pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20=
160509_53_3756081" name=3D"code" class=3D"cpp">struct CC_EXPORT TilePriorit=
y {
  ......

  TilePriority(const TilePriority&amp; active, const TilePriority&amp; pend=
ing) {
    if (active.resolution =3D=3D HIGH_RESOLUTION ||
        pending.resolution =3D=3D HIGH_RESOLUTION)
      resolution =3D HIGH_RESOLUTION;
    else if (active.resolution =3D=3D LOW_RESOLUTION ||
             pending.resolution =3D=3D LOW_RESOLUTION)
      resolution =3D LOW_RESOLUTION;
    else
      resolution =3D NON_IDEAL_RESOLUTION;

    required_for_activation =3D
        active.required_for_activation || pending.required_for_activation;

    if (active.priority_bin &lt; pending.priority_bin) {
      priority_bin =3D active.priority_bin;
      distance_to_visible =3D active.distance_to_visible;
    } else if (active.priority_bin &gt; pending.priority_bin) {
      priority_bin =3D pending.priority_bin;
      distance_to_visible =3D pending.distance_to_visible;
    } else {
      priority_bin =3D active.priority_bin;
      distance_to_visible =3D
          std::min(active.distance_to_visible, pending.distance_to_visible)=
;
    }
  }

  ......
};</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resource=
s/tile_priority.h=E4=B8=AD=E3=80=82<br><p></p><p>&nbsp; &nbsp; &nbsp; &nbsp=
;=E5=8F=82=E6=95=B0active=E6=8F=8F=E8=BF=B0=E7=9A=84=E6=98=AF=E5=88=86=E5=
=9D=97=E5=9C=A8CC Acitive Layer Tree=E4=B8=AD=E7=9A=84=E4=BC=98=E5=85=88=E7=
=BA=A7=EF=BC=8C=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AA=E5=8F=82=E6=95=B0pendin=
g=E6=8F=8F=E8=BF=B0=E7=9A=84=E6=98=AF=E5=88=86=E5=9D=97=E5=9C=A8CC Pending =
Layer Tree=E4=B8=AD=E7=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=E3=80=82=E6=8E=A5=
=E4=B8=8B=E6=9D=A5=E6=88=91=E4=BB=AC=E5=88=86=E5=88=AB=E7=9C=8BTreePriority=
=E7=B1=BB=E7=9A=844=E4=B8=AA=E6=88=90=E5=91=98=E5=8F=98=E9=87=8F=E7=9A=84=
=E5=8F=96=E5=80=BC=EF=BC=9A</p><p>&nbsp; &nbsp; &nbsp; &nbsp;1. resolution=
=EF=BC=9A=E5=8F=96active.resolution=E4=B8=8Epending.resolution=E4=B9=8B=E9=
=97=B4=E7=9A=84=E8=BE=83=E9=AB=98=E4=BC=98=E5=85=88=E7=BA=A7=E5=80=BC=EF=BC=
=8C=E5=85=B6=E4=B8=AD=EF=BC=8CHIGH_RESOLUTION &gt; LOW_RESOLUTION &gt; NON_=
IDEAL_RESOLUTION=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;2. required_for_=
activation=EF=BC=9A=E5=8F=AA=E8=A6=81active.required_for_activation=E4=B8=
=8Epending.required_for_activation=E4=B9=8B=E4=B8=80=E4=B8=BAtrue=EF=BC=8C=
=E9=82=A3=E4=B9=88=E5=B0=B1=E8=AE=BE=E7=BD=AE=E4=B8=BAtrue=E3=80=82</p><p>&=
nbsp; &nbsp; &nbsp; &nbsp;3. priority_bin=EF=BC=9A=E5=8F=96active.priority_=
bin=E4=B8=8Epending.priority_bin=E4=B9=8B=E9=97=B4=E7=9A=84=E8=BE=83=E9=AB=
=98=E4=BC=98=E5=85=88=E7=BA=A7=E5=80=BC=EF=BC=8C=E5=85=B6=E4=B8=AD=EF=BC=8C=
NOW &gt; SOON &gt; EVENTUALLY=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;4. =
distance_to_visible=EF=BC=9A=E5=8F=96=E5=80=BC=E8=A7=84=E5=88=99=E4=B8=8Epr=
iority_bin=E4=BF=9D=E6=8C=81=E4=B8=80=E8=87=B4=EF=BC=8C=E5=8D=B3=E5=A6=82=
=E6=9E=9Cpriority_bin=E5=8F=96=E5=80=BC=E4=BA=8Eactive.priority_bin=EF=BC=
=8C=E5=88=99distance_to_visible=E5=8F=96=E5=80=BC=E4=BA=8Eactive.distance_t=
o_visible=EF=BC=8C=E5=90=A6=E5=88=99=E5=8F=96=E5=80=BC=E4=BA=8Epending.dist=
ance_to_visible=EF=BC=8C=E4=B8=8D=E8=BF=87=E5=A6=82=E6=9E=9Cactive.priority=
_bin=E7=AD=89=E4=BA=8Epending.priority_bin=EF=BC=8C=E5=88=99=E5=8F=96active=
.distance_to_visible=E4=B8=8Epending.distance_to_visible=E4=B9=8B=E9=97=B4=
=E7=9A=84=E8=BE=83=E5=B0=8F=E5=80=BC=E8=80=85=E3=80=82</p><p>&nbsp; &nbsp; =
&nbsp; &nbsp;=E4=B8=8A=E8=BF=B0=E5=8F=96=E5=80=BC=E8=A7=84=E5=88=99=E4=B9=
=9F=E6=98=AF=E5=B0=86=E4=B8=A4=E4=B8=AATilePriority=E7=BB=84=E5=90=88=E6=88=
=90=E4=B8=80=E4=B8=AATilePriority=E7=9A=84=E8=A7=84=E5=88=99=E3=80=82</p><p=
>&nbsp; &nbsp; &nbsp; &nbsp;TilePrioirty=E7=B1=BB=E6=8F=90=E4=BE=9B=E4=B8=
=80=E4=B8=AA=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0IsHigherPriorityThan=EF=BC=
=8C=E7=94=A8=E6=9D=A5=E6=AF=94=E8=BE=83=E4=B8=A4=E4=B8=AATilePriority=E7=9A=
=84=E4=BC=98=E5=85=88=E7=BA=A7=E9=AB=98=E4=BD=8E=EF=BC=8C=E5=AE=83=E7=9A=84=
=E5=AE=9E=E7=8E=B0=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><=
pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20160509_54_80092=
22" name=3D"code" class=3D"cpp">struct CC_EXPORT TilePriority {
  ......

  bool IsHigherPriorityThan(const TilePriority&amp; other) const {
    return priority_bin &lt; other.priority_bin ||
           (priority_bin =3D=3D other.priority_bin &amp;&amp;
            distance_to_visible &lt; other.distance_to_visible);
  }

  ......
};</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resource=
s/tile_priority.h=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;Til=
ePrioirty=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0IsHigherPrio=
rityThan=E5=9C=A8=E6=AF=94=E8=BE=83=E4=B8=A4=E4=B8=AATilePriority=E7=9A=84=
=E4=BC=98=E5=85=88=E7=BA=A7=E6=97=B6=EF=BC=8C=E5=8F=AA=E8=A6=81=E6=98=AF=E7=
=9C=8B=E5=AE=83=E4=BB=AC=E7=9A=84Prority Bin=E5=92=8CDistance to Visible=E5=
=B1=9E=E6=80=A7=EF=BC=9A</p><p>&nbsp; &nbsp; &nbsp; &nbsp;1. =E5=A6=82=E6=
=9E=9C=E4=B8=A4=E8=80=85=E7=9A=84Prority Bin=E4=B8=8D=E7=9B=B8=E7=AD=89=EF=
=BC=8C=E9=82=A3=E4=B9=88Prority Bin=E4=BC=98=E5=85=88=E7=BA=A7=E9=AB=98=E7=
=9A=84TilePriority=E4=BC=98=E5=85=88=E7=BA=A7=E9=AB=98=E3=80=82</p><p>&nbsp=
; &nbsp; &nbsp; &nbsp;2. =E5=A6=82=E6=9E=9C=E4=B8=A4=E8=80=85=E7=9A=84Prior=
ity Bin=E7=9B=B8=E7=AD=89=EF=BC=8C=E5=88=99Distance to Visible=E5=80=BC=E5=
=B0=8F=E7=9A=84TilePriority=E4=BC=98=E5=85=88=E7=BA=A7=E9=AB=98=E3=80=82</p=
><p>&nbsp; &nbsp; &nbsp; &nbsp;=E7=90=86=E8=A7=A3=E4=BA=86=E5=88=86=E5=9D=
=97=E7=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=E4=B9=8B=E5=90=8E=EF=BC=8C=E5=9B=9E=
=E5=88=B0PictureLayerTiling=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=
=95=B0UpdateTilePriorities=E4=B8=AD=EF=BC=8C=E5=AE=83=E5=9C=A8=E8=AE=BE=E7=
=BD=AE=E5=88=86=E5=9D=97=E7=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=E4=B9=8B=E5=89=
=8D=EF=BC=8C=E4=BC=9A=E8=B0=83=E7=94=A8=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AA=
=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0SetLiveTilesRect=EF=BC=8C=E7=94=A8=E6=
=9D=A5=E6=A3=80=E6=9F=A5=E5=93=AA=E4=BA=9B=E5=88=86=E5=9D=97=E6=98=AF=E9=9C=
=80=E8=A6=81=E5=88=9B=E5=BB=BA=E7=9A=84=EF=BC=8C=E5=93=AA=E4=BA=9B=E5=88=86=
=E5=9D=97=E6=98=AF=E9=9C=80=E8=A6=81=E7=A7=BB=E9=99=A4=E7=9A=84=EF=BC=8C=E5=
=AE=83=E7=9A=84=E5=AE=9E=E7=8E=B0=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=
=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20=
160509_55_626162" name=3D"code" class=3D"cpp">void PictureLayerTiling::SetL=
iveTilesRect(
    const gfx::Rect&amp; new_live_tiles_rect) {
  ......

  // Iterate to delete all tiles outside of our new live_tiles rect.
  PictureLayerTiling* recycled_twin =3D client_-&gt;GetRecycledTwinTiling(t=
his);
  for (TilingData::DifferenceIterator iter(&amp;tiling_data_,
                                           live_tiles_rect_,
                                           new_live_tiles_rect);
       iter;
       ++iter) {
    TileMapKey key(iter.index());
    TileMap::iterator found =3D tiles_.find(key);
    // If the tile was outside of the recorded region, it won=E2=80=98t exi=
st even
    // though it was in the live rect.
    if (found !=3D tiles_.end()) {
      tiles_.erase(found);
      if (recycled_twin)
        recycled_twin-&gt;RemoveTileAt(iter.index_x(), iter.index_y());
    }
  }

  const PictureLayerTiling* twin_tiling =3D client_-&gt;GetTwinTiling(this)=
;

  // Iterate to allocate new tiles for all regions with newly exposed area.
  for (TilingData::DifferenceIterator iter(&amp;tiling_data_,
                                           new_live_tiles_rect,
                                           live_tiles_rect_);
       iter;
       ++iter) {
    TileMapKey key(iter.index());
    CreateTile(key.first, key.second, twin_tiling);
  }

  live_tiles_rect_ =3D new_live_tiles_rect;
}</pre><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=
=E5=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resou=
rces/picture_layer_tiling.cc=E4=B8=AD=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &=
nbsp;=E4=BB=8E=E5=89=8D=E9=9D=A2=E7=9A=84=E8=B0=83=E7=94=A8=E8=BF=87=E7=A8=
=8B=E5=8F=AF=E4=BB=A5=E7=9F=A5=E9=81=93=EF=BC=8C=E5=8F=82=E6=95=B0new_live_=
tiles_rect=E6=8F=8F=E8=BF=B0=E7=9A=84=E6=98=AF=E5=9B=BE2=E6=89=80=E7=A4=BA=
=E7=9A=84Eventually rect=E3=80=82=E4=BD=8D=E4=BA=8E=E8=BF=99=E4=B8=AAEventu=
ally rect=E4=B8=AD=E7=9A=84=E5=88=86=E5=9D=97=E9=83=BD=E6=98=AF=E9=9C=80=E8=
=A6=81=E5=88=9B=E5=BB=BA=E7=9A=84=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp=
;PictureLayerTiling=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fli=
ve_tiles_rect_=E4=BF=9D=E5=AD=98=E7=9A=84=E6=98=AF=E4=B8=8A=E4=B8=80=E6=AC=
=A1=E4=BD=BF=E7=94=A8=E7=9A=84Eventually rect=E3=80=82=E6=B3=A8=E6=84=8F=EF=
=BC=8C=E8=BF=99=E9=87=8C=E5=8F=AF=E4=BB=A5=E4=BF=9D=E8=AF=81=E4=BD=8D=E4=BA=
=8E=E4=B8=8A=E4=B8=80=E6=AC=A1=E4=BD=BF=E7=94=A8=E7=9A=84Eventually rect=E4=
=B8=AD=E7=9A=84=E5=88=86=E5=9D=97=E9=83=BD=E6=98=AF=E5=B7=B2=E7=BB=8F=E5=88=
=9B=E5=BB=BA=E5=A5=BD=E4=BA=86=E7=9A=84=E3=80=82=E5=9B=A0=E6=AD=A4=EF=BC=8C=
=E5=BD=93=E5=89=8D=E9=9C=80=E8=A6=81=E5=88=9B=E5=BB=BA=E7=9A=84=E5=88=86=E5=
=9D=97=E6=98=AF=E4=BD=8D=E4=BA=8E(new_live_tiles_rect -&nbsp;live_tiles_rec=
t_)=E5=8C=BA=E5=9F=9F=E4=B8=AD=E7=9A=84=E3=80=82=E5=90=8C=E6=97=B6=E4=B9=9F=
=E6=84=8F=E5=91=B3=E7=9D=80=E4=BD=8D=E4=BA=8E(live_tiles_rect_ -&nbsp;new_l=
ive_tiles_rect&nbsp;)=E5=8C=BA=E5=9F=9F=E4=B8=AD=E7=9A=84=E5=88=86=E5=9D=97=
=E4=B8=8D=E5=86=8D=E9=9C=80=E8=A6=81=E4=BA=86=E7=9A=84=EF=BC=8C=E5=AE=83=E4=
=BB=AC=E9=9C=80=E8=A6=81=E5=88=A0=E9=99=A4=EF=BC=8C=E4=BB=A5=E8=8A=82=E7=9C=
=81=E7=A9=BA=E9=97=B4=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;PictureLaye=
rTiling=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0SetLiveTilesRe=
ct=E5=81=9A=E7=9A=84=E7=AC=AC=E4=B8=80=E4=BB=B6=E4=BA=8B=E6=83=85=E5=B0=B1=
=E6=98=AF=E5=B0=86=E4=BD=8D=E4=BA=8E(live_tiles_rect_ -&nbsp;new_live_tiles=
_rect&nbsp;)=E5=8C=BA=E5=9F=9F=E4=B8=AD=E7=9A=84=E5=88=86=E5=9D=97=E5=88=A0=
=E9=99=A4=EF=BC=8C=E8=BF=99=E6=98=AF=E9=80=9A=E8=BF=87=E7=AC=AC=E4=B8=80=E4=
=B8=AAfor=E5=BE=AA=E7=8E=AF=E5=AE=8C=E6=88=90=E7=9A=84=E3=80=82</p><p>&nbsp=
; &nbsp; &nbsp; &nbsp;=E5=89=8D=E9=9D=A2=E5=88=86=E6=9E=90LayerTreeHostImpl=
=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CreatePendingTree=E6=
=97=B6=E6=8F=90=E5=88=B0=EF=BC=8CLayerTreeHostImpl=E7=B1=BB=E5=86=85=E9=83=
=A8=E7=BB=B4=E6=8A=A4=E6=9C=89=E4=B8=80=E4=B8=AARecycle Layer Tree=E3=80=82=
=E8=BF=99=E4=B8=AARecycle Layer&nbsp;Tree=E5=AE=9E=E9=99=85=E5=B0=B1=E6=98=
=AF=E4=B8=8A=E4=B8=80=E6=AC=A1=E4=BD=BF=E7=94=A8CC Pending Layer Tree=E3=80=
=82=E7=BB=B4=E6=8A=A4=E8=BF=99=E4=B8=AARecycle Layer Tree=E7=9A=84=E7=9B=AE=
=E7=9A=84=E6=98=AF=E4=BD=BF=E5=BE=97=E5=AE=83=E5=8F=AF=E4=BB=A5=E5=A4=8D=E7=
=94=A8=E4=B8=BA=E4=B8=8B=E4=B8=80=E4=B8=AACC Pending Layer Tree=E3=80=82=E8=
=BF=99=E6=84=8F=E5=91=B3=E7=9D=80=E5=9C=A8=E8=BF=99=E4=B8=AARecycle&nbsp;La=
yer&nbsp;Tree=E4=B8=AD=EF=BC=8C=E4=B9=9F=E6=9C=89=E5=8F=AF=E8=83=BD=E5=AD=
=98=E5=9C=A8=E4=B8=80=E4=B8=AA=E4=B8=8E=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=
=E5=A4=84=E7=90=86=E7=9A=84Tiling=E5=AF=B9=E5=BA=94=E7=9A=84Tiling=E3=80=82=
=E8=BF=99=E4=B8=AATiling=E7=A7=B0=E4=B8=BARecycled Twin Tiling=E3=80=82=E7=
=8E=B0=E5=9C=A8=E7=94=B1=E4=BA=8E=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=
=84=E7=90=86=E7=9A=84Tiling=E7=9A=84=E6=9F=90=E4=BA=9B=E5=88=86=E5=9D=97=E8=
=A2=AB=E5=88=A0=E9=99=A4=E4=BA=86=EF=BC=8C=E5=9B=A0=E6=AD=A4=E4=B9=9F=E9=9C=
=80=E8=A6=81=E5=85=B6=E5=AF=B9=E5=BA=94=E7=9A=84Recycled Twin &nbsp;Tiling=
=E7=9A=84=E5=AF=B9=E5=BA=94=E5=88=86=E5=9D=97=E4=B9=9F=E5=88=A0=E9=99=A4=E6=
=8E=89=EF=BC=8C=E4=BB=A5=E4=BF=9D=E6=8C=81=E4=B8=A4=E8=80=85=E7=9A=84=E4=B8=
=80=E8=87=B4=E6=80=A7=EF=BC=8C=E8=BF=99=E6=A0=B7=E6=89=8D=E5=8F=AF=E4=BB=A5=
=E4=BD=BF=E5=BE=97Recycle&nbsp;Layer&nbsp;Tree=E4=BB=A5=E5=90=8E=E8=83=BD=
=E8=A2=AB=E6=AD=A3=E7=A1=AE=E5=A4=8D=E7=94=A8=E3=80=82</p><p>&nbsp; &nbsp; =
&nbsp; &nbsp;=E9=80=9A=E8=BF=87=E8=B0=83=E7=94=A8=E6=88=90=E5=91=98=E5=8F=
=98=E9=87=8Fclient_=E6=8C=87=E5=90=91=E7=9A=84=E4=B8=80=E4=B8=AAPictureLaye=
rImpl=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0GetRecy=
cledTwinTiling=E5=8F=AF=E4=BB=A5=E5=9C=A8Recycle&nbsp;Layer&nbsp;Tree=E8=8E=
=B7=E5=BE=97=E4=B8=8E=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=
=E7=9A=84Tiling=E5=AF=B9=E5=BA=94=E7=9A=84Recycled Twin Tiling=E3=80=82Pict=
ureLayerImpl=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0=
GetRecycledTwinTiling=E9=A6=96=E5=85=88=E8=8E=B7=E5=BE=97=E5=BD=93=E5=89=8D=
=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Tiling=E6=89=80=E5=B1=9E=E7=9A=
=84Layer=E7=9A=84ID=EF=BC=8C=E6=8E=A5=E7=9D=80=E6=A0=B9=E6=8D=AE=E5=9C=A8=
=E8=BF=99=E4=B8=AAID=E5=9C=A8Recycle Layer Tree=E4=B8=AD=E6=89=BE=E5=88=B0=
=E4=B8=80=E4=B8=AA=E5=85=B7=E6=9C=89=E7=9B=B8=E5=90=8CID=E7=9A=84Layer=E3=
=80=82=E8=BF=99=E4=B8=AALayer=E7=A7=B0=E4=B8=BARecycled Twin Layer=E3=80=82=
=E6=9C=89=E4=BA=86=E8=BF=99=E4=B8=AARecycled Twin Layer=E4=B9=8B=E5=90=8E=
=EF=BC=8C=E5=86=8D=E5=9C=A8=E9=87=8C=E9=9D=A2=E6=89=BE=E4=B8=80=E4=B8=AA=E4=
=B8=8E=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Tiling=
=E6=9C=89=E7=9B=B8=E5=90=8CRaster Scale=E7=9A=84Tiling=E3=80=82=E8=BF=99=E4=
=B8=AATiling=E5=B0=B1=E6=98=AF=E6=88=91=E4=BB=AC=E8=A6=81=E6=89=BE=E5=88=B0=
=E7=9A=84Recycled Twin Tiling=E4=BA=86=E3=80=82=E6=9C=89=E4=BA=86=E8=BF=99=
=E4=B8=AARecycled Twin&nbsp;&nbsp;Tiling=E4=B9=8B=E5=90=8E=EF=BC=8C=E5=B0=
=B1=E5=8F=AF=E4=BB=A5=E9=82=A3=E4=BA=9B=E4=BD=8D=E4=BA=8E(live_tiles_rect_ =
-&nbsp;new_live_tiles_rect&nbsp;)=E5=8C=BA=E5=9F=9F=E4=B8=AD=E7=9A=84=E5=88=
=86=E5=9D=97=E4=B9=9F=E5=88=A0=E9=99=A4=E6=8E=89=E3=80=82</p><p>&nbsp; &nbs=
p; &nbsp; &nbsp;PictureLayerTiling=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=
=87=BD=E6=95=B0SetLiveTilesRect=E5=81=9A=E7=9A=84=E7=AC=AC=E4=BA=8C=E4=BB=
=B6=E4=BA=8B=E6=83=85=E5=B0=B1=E6=98=AF=E4=B8=BA(new_live_tiles_rect -&nbsp=
;live_tiles_rect_)=E5=8C=BA=E5=9F=9F=E5=88=9B=E5=BB=BA=E5=88=86=E5=9D=97=EF=
=BC=8C=E8=BF=99=E6=98=AF=E9=80=9A=E8=BF=87=E7=AC=AC=E4=BA=8C=E4=B8=AAfor=E5=
=BE=AA=E7=8E=AF=E5=AE=8C=E6=88=90=E7=9A=84=E3=80=82=E5=9C=A8=E8=BF=99=E4=B8=
=80=E4=B8=AA=E5=8C=BA=E5=9F=9F=E4=B8=AD=E7=9A=84=E6=AF=8F=E4=B8=80=E4=B8=AA=
=E5=88=86=E5=9D=97=E9=83=BD=E6=98=AF=E9=80=9A=E8=BF=87=E8=B0=83=E7=94=A8Pic=
tureLayerTiling=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0Create=
Tile=E5=88=9B=E5=BB=BA=E7=9A=84=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; =E5=9C=
=A8=E8=B0=83=E7=94=A8PictureLayerTiling=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=
=E5=87=BD=E6=95=B0CreateTile=E5=88=9B=E5=BB=BA=E4=B8=80=E4=B8=AA=E5=88=86=
=E5=9D=97=E4=B9=8B=E5=89=8D=EF=BC=8C=E9=9C=80=E8=A6=81=E8=8E=B7=E5=9C=A8CC =
Active Layer Tree=E4=B8=AD=E8=8E=B7=E5=BE=97=E4=B8=80=E4=B8=AA=E4=B8=8E=E5=
=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Tiling=E5=AF=B9=
=E5=BA=94=E7=9A=84Tiling=E3=80=82=E8=BF=99=E4=B8=A4=E4=B8=AATiling=E4=B9=9F=
=E7=A7=B0=E4=B8=BATwin Tiling=E3=80=82=E8=BF=99=E4=B8=AATwin Tiling=E5=8F=
=AF=E4=BB=A5=E9=80=9A=E8=BF=87=E8=B0=83=E7=94=A8=E6=88=90=E5=91=98=E5=8F=98=
=E9=87=8Fclient_=E6=8C=87=E5=90=91=E7=9A=84=E4=B8=80=E4=B8=AAPictureLayerIm=
pl=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0GetTwinTil=
ing=E8=8E=B7=E5=BE=97=E3=80=82PictureLayerImpl=E5=AF=B9=E8=B1=A1=E7=9A=84=
=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0GetTwinTiling=E9=A6=96=E5=85=88=E8=8E=
=B7=E5=BE=97=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84=
Tiling=E6=89=80=E5=B1=9E=E7=9A=84Layer=E7=9A=84ID=EF=BC=8C=E6=8E=A5=E7=9D=
=80=E6=A0=B9=E6=8D=AE=E5=9C=A8=E8=BF=99=E4=B8=AAID=E5=9C=A8CC Active Layer =
Tree=E4=B8=AD=E6=89=BE=E5=88=B0=E4=B8=80=E4=B8=AA=E5=85=B7=E6=9C=89=E7=9B=
=B8=E5=90=8CID=E7=9A=84Layer=E3=80=82=E8=BF=99=E4=B8=AALayer=E5=B0=B1=E6=98=
=AF=E5=89=8D=E9=9D=A2=E6=89=80=E8=AF=B4=E7=9A=84Twin Layer=E3=80=82=E6=9C=
=89=E4=BA=86=E8=BF=99=E4=B8=AATwin Layer=E4=B9=8B=E5=90=8E=EF=BC=8C=E5=86=
=8D=E5=9C=A8=E9=87=8C=E9=9D=A2=E6=89=BE=E4=B8=80=E4=B8=AA=E4=B8=8E=E5=BD=93=
=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Tiling=E6=9C=89=E7=9B=
=B8=E5=90=8CRaster Scale=E7=9A=84Tiling=E3=80=82=E8=BF=99=E4=B8=AATiling=E5=
=B0=B1=E6=98=AF=E6=88=91=E4=BB=AC=E8=A6=81=E6=89=BE=E5=88=B0=E7=9A=84Twin T=
iling=E4=BA=86=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;PictureLayerTiling=
=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0SetLiveTilesRect=E5=
=81=9A=E7=9A=84=E7=AC=AC=E4=B8=89=E4=BB=B6=E4=BA=8B=E6=83=85=E5=B0=B1=E6=98=
=AF=E5=B0=86=E5=8F=82=E6=95=B0new_live_tiles_rect=E6=8F=8F=E8=BF=B0=E7=9A=
=84Eventually rect=E4=BF=9D=E5=AD=98=E5=9C=A8=E6=88=90=E5=91=98=E5=8F=98=E9=
=87=8Flive_tiles_rect_=E4=B8=AD=EF=BC=8C=E4=BB=A5=E4=BE=BF=E4=B8=8B=E4=B8=
=80=E6=AC=A1=E6=9B=B4=E6=96=B0=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=
=E7=90=86=E7=9A=84Tiling=E6=97=B6=EF=BC=8C=E5=8F=AF=E4=BB=A5=E5=A2=9E=E9=87=
=8F=E5=9C=B0=E5=88=9B=E5=BB=BA=E4=B8=8D=E5=AD=98=E5=9C=A8=E7=9A=84=E5=88=86=
=E5=9D=97=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E6=8E=A5=E4=B8=8B=E6=
=9D=A5=E6=88=91=E4=BB=AC=E7=BB=A7=E7=BB=AD=E5=88=86=E6=9E=90PictureLayerTil=
ing=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CreateTile=E7=9A=
=84=E5=AE=9E=E7=8E=B0=EF=BC=8C=E4=BB=A5=E4=BE=BF=E4=BA=86=E8=A7=A3=E6=AF=8F=
=E4=B8=80=E4=B8=AA=E5=88=86=E5=9D=97=E7=9A=84=E5=88=9B=E5=BB=BA=E8=BF=87=E7=
=A8=8B=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre=
 code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20160509_56_8816018"=
 name=3D"code" class=3D"cpp">Tile* PictureLayerTiling::CreateTile(int i,
                                     int j,
                                     const PictureLayerTiling* twin_tiling)=
 {
  TileMapKey key(i, j);
  ......

  gfx::Rect paint_rect =3D tiling_data_.TileBoundsWithBorder(i, j);
  gfx::Rect tile_rect =3D paint_rect;

  tile_rect.set_size(tiling_data_.max_texture_size());

  // Check our twin for a valid tile.
  if (twin_tiling &amp;&amp;
      tiling_data_.max_texture_size() =3D=3D
      twin_tiling-&gt;tiling_data_.max_texture_size()) {
    if (Tile* candidate_tile =3D twin_tiling-&gt;TileAt(i, j)) {
      gfx::Rect rect =3D
          gfx::ScaleToEnclosingRect(paint_rect, 1.0f / contents_scale_);
      if (!client_-&gt;GetInvalidation()-&gt;Intersects(rect)) {
        tiles_[key] =3D candidate_tile;
        return candidate_tile;
      }
    }
  }

  // Create a new tile because our twin didn=E2=80=98t have a valid one.
  scoped_refptr&lt;Tile&gt; tile =3D client_-&gt;CreateTile(this, tile_rect=
);
  if (tile.get())
    tiles_[key] =3D tile;
  return tile.get();
}</pre><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=
=E5=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resou=
rces/picture_layer_tiling.cc=E4=B8=AD=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &=
nbsp;=E8=A6=81=E5=88=9B=E5=BB=BA=E7=9A=84=E5=88=86=E5=9D=97=E9=80=9A=E8=BF=
=87=E5=8F=82=E6=95=B0i=E5=92=8Cj=E6=8F=8F=E8=BF=B0=EF=BC=8C=E8=A1=A8=E7=A4=
=BA=E7=AC=ACi=E8=A1=8C=E7=AC=ACj=E5=88=97=E7=9A=84=E5=88=86=E5=9D=97=E3=80=
=82PictureLayerTiling=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0=
CreateTile=E9=A6=96=E5=85=88=E6=A0=B9=E6=8D=AE=E5=8F=82=E6=95=B0i=E5=92=8Cj=
=EF=BC=8C=E4=BB=A5=E5=8F=8A=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Ftiling_data=
=E6=8F=8F=E8=BF=B0=E7=9A=84=E5=88=86=E5=9D=97=E4=BF=A1=E6=81=AF=EF=BC=8C=E8=
=AE=A1=E7=AE=97=E5=87=BA=E5=8D=B3=E5=B0=86=E8=A6=81=E5=88=9B=E5=BB=BA=E7=9A=
=84=E5=88=86=E5=9D=97=E6=89=80=E5=8D=A0=E6=8D=AE=E7=9A=84=E5=8C=BA=E5=9F=9F=
tile_rect=E3=80=82=E6=8E=A5=E4=B8=8B=E6=9D=A5=E5=86=8D=E5=9C=A8=E5=8F=82=E6=
=95=B0twin_tiling=E6=8F=8F=E8=BF=B0=E7=9A=84Twin Tiling=E4=B8=AD=E6=A3=80=
=E6=9F=A5=E5=AE=83=E7=AC=ACi=E8=A1=8C=E7=AC=ACj=E5=88=97=E7=9A=84=E5=88=86=
=E5=9D=97=E6=98=AF=E5=90=A6=E5=B7=B2=E7=BB=8F=E5=88=9B=E5=BB=BA=E3=80=82=E5=
=A6=82=E6=9E=9C=E8=BF=99=E4=B8=AA=E5=88=86=E5=9D=97=E5=B7=B2=E7=BB=8F=E5=88=
=9B=E5=BB=BA=EF=BC=8C=E5=B9=B6=E4=B8=94=E4=B8=8D=E5=9C=A8=E5=BD=93=E5=89=8D=
=E5=B8=A7=E7=9A=84=E9=87=8D=E7=BB=98=E5=8C=BA=E5=9F=9F=E4=B8=AD=EF=BC=8C=E9=
=82=A3=E4=B9=88=E5=AE=83=E5=B0=B1=E8=A2=AB=E4=BC=9A=E5=BD=93=E5=89=8D=E6=AD=
=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Tiling=E6=89=80=E4=BD=BF=E7=94=A8=E3=
=80=82=E8=BF=99=E4=B9=9F=E6=84=8F=E5=91=B3=E7=9D=80=E8=AF=A5=E5=88=86=E5=9D=
=97=E6=98=AF=E4=B8=80=E4=B8=AA=E5=85=B1=E4=BA=AB=E5=88=86=E5=9D=97=EF=BC=8C=
=E5=90=8C=E6=97=B6=E8=A2=ABCC Pending Layer Tree=E5=92=8CCC Active Layer Tr=
ee=E4=BD=BF=E7=94=A8=E3=80=82=E4=B8=BA=E4=BB=80=E4=B9=88=E8=A6=81=E6=B1=82=
=E8=BF=99=E4=B8=AA=E5=88=86=E5=9D=97=E4=B8=8D=E5=9C=A8=E5=BD=93=E5=89=8D=E5=
=B8=A7=E7=9A=84=E9=87=8D=E7=BB=98=E5=8C=BA=E5=9F=9F=E4=B8=AD=E5=91=A2=EF=BC=
=9F=E5=9B=A0=E4=B8=BA=E5=A6=82=E6=9E=9C=E8=BF=99=E4=B8=AA=E5=88=86=E5=9D=97=
=E5=9C=A8=E5=BD=93=E5=89=8D=E5=B8=A7=E7=9A=84=E9=87=8D=E7=BB=98=E5=8C=BA=E5=
=9F=9F=E4=B8=AD=EF=BC=8C=E9=82=A3=E4=B9=88=E5=AE=83=E5=B0=B1=E6=98=AF=E4=B8=
=80=E4=B8=AA=E6=97=A0=E6=95=88=E7=9A=84=E5=88=86=E5=9D=97=E3=80=82=E6=97=A0=
=E6=95=88=E7=9A=84=E5=88=86=E5=9D=97=E6=98=AF=E4=B8=8D=E8=83=BD=E7=9B=B4=E6=
=8E=A5=E4=BD=BF=E7=94=A8=E7=9A=84=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp=
;=E5=A6=82=E6=9E=9C=E5=9C=A8=E5=8F=82=E6=95=B0twin_tiling=E6=8F=8F=E8=BF=B0=
=E7=9A=84Twin Tiling=E4=B8=AD=EF=BC=8C=E7=AC=ACi=E8=A1=8C=E7=AC=ACj=E5=88=
=97=E7=9A=84=E5=88=86=E5=9D=97=E8=BF=98=E6=B2=A1=E6=9C=89=E5=88=9B=E5=BB=BA=
=EF=BC=8C=E6=88=96=E8=80=85=E5=B7=B2=E7=BB=8F=E5=88=9B=E5=BB=BA=EF=BC=8C=E4=
=BD=86=E6=98=AF=E5=B7=B2=E7=BB=8F=E5=A4=B1=E6=95=88=EF=BC=8C=E9=82=A3=E4=B9=
=88PictureLayerTiling=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0=
CreateTile=E5=B0=B1=E4=BC=9A=E8=B0=83=E7=94=A8=E6=88=90=E5=91=98=E5=8F=98=
=E9=87=8Fclient_=E6=8C=87=E5=90=91=E7=9A=84=E4=B8=80=E4=B8=AAPictureLayerIm=
pl=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CreateTile=
=E4=B8=BA=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Til=
ing=E7=9A=84=E7=AC=ACi=E8=A1=8C=E7=AC=ACj=E5=88=97=E5=88=9B=E5=BB=BA=E4=B8=
=80=E4=B8=AA=E6=96=B0=E7=9A=84=E5=88=86=E5=9D=97=E3=80=82</p><p>&nbsp; &nbs=
p; &nbsp; &nbsp;=E4=B8=8D=E7=AE=A1=E6=98=AF=E9=80=9A=E8=BF=87=E5=93=AA=E4=
=B8=80=E7=A7=8D=E6=96=B9=E5=BC=8F=E5=BE=97=E5=88=B0=E5=BD=93=E5=89=8D=E6=AD=
=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Tiling=E7=9A=84=E7=AC=ACi=E8=A1=8C=
=E7=AC=ACj=E5=88=97=E7=9A=84=E5=88=86=E5=9D=97=EF=BC=8C=E5=AE=83=E6=9C=80=
=E7=BB=88=E9=83=BD=E4=BC=9A=E8=A2=AB=E4=BF=9D=E5=AD=98=E5=9C=A8PictureLayer=
Tiling=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Ftiles_=E6=8F=8F=
=E8=BF=B0=E7=9A=84=E4=B8=80=E4=B8=AAMap=E4=B8=AD=E3=80=82=E4=BB=8E=E8=BF=99=
=E9=87=8C=E6=88=91=E4=BB=AC=E5=B0=B1=E5=8F=AF=E4=BB=A5=E7=9F=A5=E9=81=93=EF=
=BC=8CPictureLayerTiling=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=
=8Ftiles_=E6=8F=8F=E8=BF=B0=E7=9A=84Map=E4=BF=9D=E5=AD=98=E4=BA=86=E4=B8=80=
=E4=B8=AATiling=E5=BD=93=E5=89=8D=E5=88=9B=E5=BB=BA=E7=9A=84=E6=89=80=E6=9C=
=89=E7=9A=84=E5=88=86=E5=9D=97=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=
=E6=8E=A5=E4=B8=8B=E6=9D=A5=E6=88=91=E4=BB=AC=E7=BB=A7=E7=BB=AD=E5=88=86=E6=
=9E=90PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=
=B0CreateTile=E7=9A=84=E5=AE=9E=E7=8E=B0=EF=BC=8C=E4=BB=A5=E4=BE=BF=E4=BA=
=86=E8=A7=A3=E4=B8=80=E4=B8=AA=E5=88=86=E5=9D=97=E7=9A=84=E5=88=9B=E5=BB=BA=
=E8=BF=87=E7=A8=8B=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p=
><p></p><pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20160509=
_57_593925" name=3D"code" class=3D"cpp">scoped_refptr&lt;Tile&gt; PictureLa=
yerImpl::CreateTile(PictureLayerTiling* tiling,
                                               const gfx::Rect&amp; content=
_rect) {
  ......

  int flags =3D Tile::USE_PICTURE_ANALYSIS;

  return layer_tree_impl()-&gt;tile_manager()-&gt;CreateTile(
      pile_.get(),
      content_rect.size(),
      content_rect,
      contents_opaque() ? content_rect : gfx::Rect(),
      tiling-&gt;contents_scale(),
      id(),
      layer_tree_impl()-&gt;source_frame_number(),
      flags);
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resource=
s/tile_manager.cc=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;PictureLayer=
Impl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CreateTile=E9=A6=
=96=E5=85=88=E8=B0=83=E7=94=A8=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AA=E6=88=90=
=E5=91=98=E5=87=BD=E6=95=B0layer_tree_impl=E8=8E=B7=E5=BE=97=E4=B8=80=E4=B8=
=AALayerTreeImpl=E5=AF=B9=E8=B1=A1=E3=80=82=E8=BF=99=E4=B8=AALayerTreeImpl=
=E5=AF=B9=E8=B1=A1=E6=8F=8F=E8=BF=B0=E7=9A=84=E5=B0=B1=E6=98=AF=E4=B8=80=E4=
=B8=AACC Pending Layer Tree=E3=80=82=E6=9C=89=E4=BA=86=E8=BF=99=E4=B8=AALay=
erTreeImpl=E5=AF=B9=E8=B1=A1=E4=B9=8B=E5=90=8E=EF=BC=8C=E5=86=8D=E8=B0=83=
=E7=94=A8=E5=AE=83=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0tile_manager=
=E8=8E=B7=E5=BE=97=E4=B8=80=E4=B8=AATileManager=E5=AF=B9=E8=B1=A1=E3=80=82=
=E8=BF=99=E4=B8=AATileManager=E5=AF=B9=E8=B1=A1=E8=B4=9F=E8=B4=A3=E5=85=89=
=E6=A0=85=E5=8C=96CC Pending Layer Tree=E7=9A=84=E6=89=80=E6=9C=89=E5=88=86=
=E5=9D=97=EF=BC=8C=E5=AE=83=E7=9A=84=E5=88=9B=E5=BB=BA=E8=BF=87=E7=A8=8B=E5=
=8F=AF=E4=BB=A5=E5=8F=82=E8=80=83=E5=89=8D=E9=9D=A2<a target=3D"_blank" hre=
f=3D"http://blog.csdn.net/luoshengyang/article/details/50995124">Chromium=
=E7=BD=91=E9=A1=B5=E7=BB=98=E5=9B=BE=E8=A1=A8=E9=9D=A2=EF=BC=88Output Surfa=
ce=EF=BC=89=E5=88=9B=E5=BB=BA=E8=BF=87=E7=A8=8B=E5=88=86=E6=9E=90</a>=E4=B8=
=80=E6=96=87=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=8E=B7=E5=BE=97=
=E8=B4=9F=E8=B4=A3=E6=89=A7=E5=85=88=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=
=BD=9C=E7=9A=84TileManager=E5=AF=B9=E8=B1=A1=E4=B9=8B=E5=90=8E=EF=BC=8CPict=
ureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CreateTil=
e=E5=B0=B1=E8=B0=83=E7=94=A8=E5=AE=83=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=
=E6=95=B0CreateTile=E5=88=9B=E5=BB=BA=E4=B8=80=E4=B8=AA=E5=88=86=E5=9D=97=
=E3=80=82=E5=9C=A8=E5=88=9B=E5=BB=BA=E8=BF=99=E4=B8=AA=E5=88=86=E5=9D=97=E7=
=9A=84=E6=97=B6=E5=80=99=EF=BC=8C=E6=8C=87=E5=AE=9A=E4=BA=86=E4=B8=80=E4=B8=
=AATile::USE_PICTURE_ANALYSIS=E6=A0=87=E5=BF=97=EF=BC=8C=E8=A1=A8=E7=A4=BA=
=E4=BB=A5=E5=90=8E=E5=AF=B9=E8=AF=A5=E5=88=86=E5=9D=97=E6=89=A7=E8=A1=8C=E5=
=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E4=B9=8B=E5=89=8D=EF=BC=8C=E5=85=
=88=E5=88=86=E6=9E=90=E4=B8=80=E4=B8=8B=E5=AE=83=E7=9A=84=E5=85=89=E6=A0=85=
=E5=8C=96=E7=BB=93=E6=9E=9C=E6=98=AF=E5=90=A6=E6=98=AF=E4=B8=80=E4=B8=AASol=
id Color=E3=80=82=E5=A6=82=E6=9E=9C=E6=98=AF=E7=9A=84=E8=AF=9D=EF=BC=8C=E9=
=82=A3=E4=B9=88=E5=8F=AA=E8=A6=81=E8=AE=A1=E7=AE=97=E5=87=BA=E8=BF=99=E4=B8=
=AASolid Color=E7=9A=84RGBA=E5=80=BC=E5=8D=B3=E5=8F=AF=EF=BC=8C=E8=80=8C=E4=
=B8=8D=E9=9C=80=E8=A6=81=E5=8E=BB=E6=89=A7=E8=A1=8C=E7=9B=B8=E5=BA=94=E7=9A=
=84=E7=BB=98=E5=88=B6=E5=91=BD=E4=BB=A4=E6=9D=A5=E8=8E=B7=E5=BE=97=E6=AF=8F=
=E4=B8=80=E4=B8=AA=E5=83=8F=E7=B4=A0=E7=9A=84=E5=80=BC=E3=80=82<br></p><p>&=
nbsp; &nbsp; &nbsp; &nbsp;TileManager=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=
=E5=87=BD=E6=95=B0CreateTile=E7=9A=84=E5=AE=9E=E7=8E=B0=E5=A6=82=E4=B8=8B=
=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snip=
pet_file_name=3D"blog_20160509_58_2687476" name=3D"code" class=3D"cpp">scop=
ed_refptr&lt;Tile&gt; TileManager::CreateTile(PicturePileImpl* picture_pile=
,
                                            const gfx::Size&amp; tile_size,
                                            const gfx::Rect&amp; content_re=
ct,
                                            const gfx::Rect&amp; opaque_rec=
t,
                                            float contents_scale,
                                            int layer_id,
                                            int source_frame_number,
                                            int flags) {
  scoped_refptr&lt;Tile&gt; tile =3D make_scoped_refptr(new Tile(this,
                                                         picture_pile,
                                                         tile_size,
                                                         content_rect,
                                                         opaque_rect,
                                                         contents_scale,
                                                         layer_id,
                                                         source_frame_numbe=
r,
                                                         flags));
  ......

  tiles_[tile-&gt;id()] =3D tile;
  ......
  prioritized_tiles_dirty_ =3D true;
  return tile;
}</pre>&nbsp; &nbsp; &nbsp; =E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=AE=9A=
=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resources/tile=
_manager.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp;&nbsp;TileManage=
r=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CreateTile=E9=A6=96=
=E5=85=88=E5=88=9B=E5=BB=BA=E4=BA=86=E4=B8=80=E4=B8=AATile=E5=AF=B9=E8=B1=
=A1=E3=80=82=E8=BF=99=E4=B8=AATile=E5=AF=B9=E8=B1=A1=E6=8F=8F=E8=BF=B0=E7=
=9A=84=E5=B0=B1=E6=98=AF=E8=A6=81=E5=88=9B=E5=BB=BA=E7=9A=84=E5=88=86=E5=9D=
=97=EF=BC=8C=E5=AE=83=E5=B0=86=E4=BB=A5=E5=AE=83=E6=89=80=E5=9C=A8=E7=9A=84=
Layer=E7=9A=84ID=E4=B8=BA=E9=94=AE=E5=80=BC=EF=BC=8C=E4=BF=9D=E5=AD=98=E5=
=9C=A8TileManager=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Ftile=
s_=E6=8F=8F=E8=BF=B0=E7=9A=84=E4=B8=80=E4=B8=AAMap=E4=B8=AD=E3=80=82=E4=BB=
=8E=E8=BF=99=E9=87=8C=E6=88=91=E4=BB=AC=E5=B0=B1=E5=8F=AF=E4=BB=A5=E7=9C=8B=
=E5=88=B0=EF=BC=8C=E4=B8=8D=E7=AE=A1=E4=B8=80=E4=B8=AA=E5=88=86=E5=9D=97=E6=
=98=AF=E5=B1=9E=E4=BA=8E=E5=93=AA=E4=B8=80=E4=B8=AALayer=E7=9A=84=EF=BC=8C=
=E4=B9=9F=E4=B8=8D=E7=AE=A1=E8=BF=99=E4=B8=AALayer=E6=98=AF=E5=B1=9E=E4=BA=
=8ECC Pending Layer Tree=EF=BC=8C=E8=BF=98=E6=98=AF=E5=B1=9E=E4=BA=8ECC Act=
ive Layer Tree=EF=BC=8C=E5=AE=83=E9=83=BD=E6=98=AF=E7=9B=B4=E6=8E=A5=E8=A2=
=ABTileManager=E7=B1=BB=E7=AE=A1=E7=90=86=E7=9A=84=E3=80=82=E6=8D=A2=E5=8F=
=A5=E8=AF=9D=E8=AF=B4=EF=BC=8C=E5=B0=B1=E6=98=AFTileManager=E7=B1=BB=E7=9F=
=A5=E9=81=93CC Pending Layer Tree=E5=92=8CCC Active Layer Tree=E7=9A=84=E6=
=89=80=E6=9C=89=E5=88=86=E5=9D=97=EF=BC=8C=E5=B9=B6=E4=B8=94=E8=BF=99=E4=BA=
=9B=E5=88=86=E5=9D=97=E4=BF=9D=E5=AD=98=E5=AE=83=E7=9A=84=E6=88=90=E5=91=98=
=E5=8F=98=E9=87=8Ftiles_=E6=8F=8F=E8=BF=B0=E7=9A=84=E4=B8=80=E4=B8=AAMap=E4=
=B8=AD=E3=80=82</p><p>&nbsp; &nbsp; &nbsp;&nbsp;TileManager=E7=B1=BB=E7=9A=
=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0CreateTile=E5=9C=A8=E5=B0=86=E5=88=
=9B=E5=BB=BA=E7=9A=84=E5=88=86=E5=9D=97=E8=BF=94=E5=9B=9E=E7=BB=99=E8=B0=83=
=E7=94=A8=E8=80=85=E4=B9=8B=E5=89=8D=EF=BC=8C=E8=BF=98=E4=BC=9A=E5=B0=86=E6=
=88=90=E5=91=98=E5=8F=98=E9=87=8Fprioritized_tiles_dirty_=E7=9A=84=E5=80=BC=
=E8=AE=BE=E7=BD=AE=E4=B8=BAtrue=EF=BC=8C=E8=A1=A8=E7=A4=BA=E5=AE=83=E6=89=
=80=E7=AE=A1=E7=90=86=E7=9A=84=E5=88=86=E5=9D=97=E5=8F=91=E7=94=9F=E4=BA=86=
=E5=8F=98=E5=8C=96=EF=BC=8C=E9=9C=80=E8=A6=81=E9=87=8D=E6=96=B0=E6=8C=89=E7=
=85=A7=E4=BC=98=E5=85=88=E7=BA=A7=E8=BF=9B=E8=A1=8C=E6=8E=92=E5=BA=8F=EF=BC=
=8C=E7=84=B6=E5=90=8E=E6=89=A7=E8=A1=8C=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=
=E4=BD=9C=E3=80=82=E8=BF=99=E4=B8=80=E7=82=B9=E6=88=91=E4=BB=AC=E5=9C=A8=E6=
=8E=A5=E4=B8=8B=E6=9D=A5=E7=9A=84=E4=B8=80=E7=AF=87=E6=96=87=E7=AB=A0=E4=B8=
=AD=E5=86=8D=E5=88=86=E6=9E=90=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; =E8=BF=
=99=E4=B8=80=E6=AD=A5=E6=89=A7=E8=A1=8C=E5=AE=8C=E6=88=90=E4=B9=8B=E5=90=8E=
=EF=BC=8C=E7=BB=8F=E8=BF=87ACTION_COMMIT=E6=93=8D=E4=BD=9C=E5=90=8E=E5=BE=
=97=E5=88=B0=E7=9A=84CC Pending Layer Tree=E7=9A=84=E5=88=86=E5=9D=97=E5=B0=
=B1=E5=88=9B=E5=BB=BA=E5=AE=8C=E6=AF=95=EF=BC=8C=E5=B9=B6=E4=B8=94=E8=BF=99=
=E4=BA=9B=E5=88=86=E5=9D=97=E5=B7=B2=E7=BB=8F=E8=A2=AB=E8=B5=8B=E4=BA=88=E4=
=BA=86=E4=BC=98=E5=85=88=E7=BA=A7=E3=80=82=E5=9B=9E=E5=88=B0PictureLayerImp=
l=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateTilePriorities=
=E4=B8=AD=EF=BC=8C=E5=AE=83=E6=8E=A5=E4=B8=8B=E6=9D=A5=E5=B0=B1=E4=BC=9A=E8=
=B0=83=E7=94=A8LayerTreeImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=
=E6=95=B0DidModifyTilePriorities=E9=80=9A=E7=9F=A5=E8=B0=83=E5=BA=A6=E5=99=
=A8CC Pending Layer Tree=E7=9A=84=E5=88=86=E5=9D=97=E4=BC=98=E5=85=88=E7=BA=
=A7=E5=8F=91=E7=94=9F=E4=BA=86=E5=8F=98=E5=8C=96=EF=BC=8C=E9=9C=80=E8=A6=81=
=E8=B0=83=E5=BA=A6=E6=89=A7=E8=A1=8C=E4=B8=80=E4=B8=AAACTION_MANAGE_TILES=
=E6=93=8D=E4=BD=9C=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p=
><p></p><pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20160509=
_59_877333" name=3D"code" class=3D"cpp">void LayerTreeImpl::DidModifyTilePr=
iorities() {
  layer_tree_host_impl_-&gt;DidModifyTilePriorities();
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/la=
yer_tree_impl.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;Laye=
rTreeImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Flayer_tree_h=
ost_impl_=E6=8C=87=E5=90=91=E7=9A=84=E6=98=AF=E4=B8=80=E4=B8=AALayerTreeHos=
tImpl=E5=AF=B9=E8=B1=A1=E3=80=82=E8=BF=99=E4=B8=AALayerTreeHostImpl=E5=AF=
=B9=E8=B1=A1=E8=B4=9F=E8=B4=A3=E7=AE=A1=E7=90=86CC Pending Layer Tree=E5=92=
=8CCC Active Layer Tree=E3=80=82=E6=9C=89=E4=BA=86=E8=BF=99=E4=B8=AALayerTr=
eeHostImpl=E5=AF=B9=E8=B1=A1=E4=B9=8B=E5=90=8E=EF=BC=8CLayerTreeImpl=E7=B1=
=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0DidModifyTilePriorities=E5=
=B0=B1=E8=B0=83=E7=94=A8=E5=AE=83=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=
=B0DidModifyTilePriorities=E9=80=9A=E7=9F=A5=E8=B0=83=E5=BA=A6=E5=99=A8CC P=
ending Layer Tree=E7=9A=84=E5=88=86=E5=9D=97=E4=BC=98=E5=85=88=E7=BA=A7=E5=
=8F=91=E7=94=9F=E4=BA=86=E5=8F=98=E5=8C=96=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=
=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet_fi=
le_name=3D"blog_20160509_60_4258422" name=3D"code" class=3D"cpp">void Layer=
TreeHostImpl::DidModifyTilePriorities() {
  ......

  tile_priorities_dirty_ =3D true;
  client_-&gt;SetNeedsManageTilesOnImplThread();
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/la=
yer_tree_host_impl.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp=
;LayerTreeHostImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0Did=
ModifyTilePriorities=E9=A6=96=E5=85=88=E5=B0=86=E6=88=90=E5=91=98=E5=8F=98=
=E9=87=8Ftile_priorities_dirty_=E7=9A=84=E5=80=BC=E8=AE=BE=E7=BD=AE=E4=B8=
=BAtrue=EF=BC=8C=E8=A1=A8=E7=A4=BACC Pending Layer Tree=E7=9A=84=E5=88=86=
=E5=9D=97=E4=BC=98=E5=85=88=E7=BA=A7=E5=8F=91=E7=94=9F=E4=BA=86=E5=8F=98=E5=
=8C=96=EF=BC=8C=E6=8E=A5=E4=B8=8B=E6=9D=A5=E5=86=8D=E6=8E=A5=E8=B0=83=E7=94=
=A8=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fclient_=E6=8C=87=E5=90=91=E7=9A=84=
=E4=B8=80=E4=B8=AAThreadProxy=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=
=E5=87=BD=E6=95=B0SetNeedsManageTilesOnImplThread=E9=80=9A=E7=9F=A5=E8=B0=
=83=E5=BA=A6=E5=99=A8=E8=B0=83=E5=BA=A6=E6=89=A7=E8=A1=8C=E4=B8=80=E4=B8=AA=
ACTION_MANAGE_TILES=E6=93=8D=E4=BD=9C=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=
=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet_file_=
name=3D"blog_20160509_61_4051462" name=3D"code" class=3D"cpp">void ThreadPr=
oxy::SetNeedsManageTilesOnImplThread() {
  DCHECK(IsImplThread());
  impl().scheduler-&gt;SetNeedsManageTiles();
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/trees/th=
read_proxy.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;ThreadP=
roxy=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0SetNeedsManageTil=
esOnImplThread=E8=B0=83=E7=94=A8Scheduler=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=
=98=E5=87=BD=E6=95=B0SetNeedsManageTiles=E9=80=9A=E7=9F=A5=E8=B0=83=E5=BA=
=A6=E5=99=A8=E8=B0=83=E5=BA=A6=E6=89=A7=E8=A1=8C=E4=B8=80=E4=B8=AAACTION_MA=
NAGE_TILES=E6=93=8D=E4=BD=9C=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=
=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568" snippet_file_name=3D"b=
log_20160509_62_4193166" name=3D"code" class=3D"cpp">void Scheduler::SetNee=
dsManageTiles() {
  ......
  state_machine_.SetNeedsManageTiles();
  ProcessScheduledActions();
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/schedule=
r/scheduler.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;Schedu=
ler=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0SetNeedsManageTile=
s=E9=A6=96=E5=85=88=E8=B0=83=E7=94=A8SchedulerStateMachine=E7=B1=BB=E7=9A=
=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0SetNeedsManageTiles=E4=BF=AE=E6=94=
=B9=E8=B0=83=E5=BA=A6=E5=99=A8=E5=86=85=E9=83=A8=E4=BD=BF=E7=94=A8=E7=9A=84=
=E7=8A=B6=E6=80=81=E6=9C=BA=E7=9A=84=E7=8A=B6=E6=80=81=EF=BC=8C=E5=A6=82=E4=
=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippet_id=3D"1675568=
" snippet_file_name=3D"blog_20160509_63_4858257" name=3D"code" class=3D"cpp=
">void SchedulerStateMachine::SetNeedsManageTiles() {
  if (!needs_manage_tiles_) {
    ......
    needs_manage_tiles_ =3D true;
  }
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/schedule=
r/scheduler_state_machine.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp=
; &nbsp;SchedulerStateMachine=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=
=E6=95=B0SetNeedsManageTiles=E6=A3=80=E6=9F=A5=E5=85=B6=E6=88=90=E5=91=98=
=E5=8F=98=E9=87=8Fneeds_manage_tiles_=E7=9A=84=E5=80=BC=E6=98=AF=E5=90=A6=
=E7=AD=89=E4=BA=8Etrue=E3=80=82=E5=A6=82=E6=9E=9C=E4=B8=8D=E7=AD=89=E4=BA=
=8E=EF=BC=8C=E9=82=A3=E4=B9=88=E5=B0=B1=E5=B0=86=E5=AE=83=E7=9A=84=E5=80=BC=
=E8=AE=BE=E7=BD=AE=E4=B8=BAtrue=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=
=E5=9B=9E=E5=88=B0Scheduler=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=
=95=B0SetNeedsManageTiles=E4=B8=AD=EF=BC=8C=E5=BD=93=E5=AE=83=E5=B0=86=E8=
=B0=83=E5=BA=A6=E5=99=A8=E5=86=85=E9=83=A8=E4=BD=BF=E7=94=A8=E7=9A=84=E7=8A=
=B6=E6=80=81=E6=9C=BA=E7=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fneeds_man=
age_tiles_=E7=9A=84=E5=80=BC=E8=AE=BE=E7=BD=AE=E4=B8=BAtrue=E4=B9=8B=E5=90=
=8E=EF=BC=8C=E5=86=8D=E8=B0=83=E7=94=A8=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AA=
=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0ProcessScheduledActions=E6=97=B6=EF=BC=
=8C=E5=B0=B1=E4=BC=9A=E8=A7=A6=E5=8F=91=E8=B0=83=E5=BA=A6=E5=99=A8=E8=AF=B7=
=E6=B1=82Compositor=E7=BA=BF=E7=A8=8B=E6=89=A7=E8=A1=8C=E4=B8=80=E4=B8=AAAC=
TION_MANAGE_TILES=E6=93=8D=E4=BD=9C=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=AF=E8=
=AF=B7=E6=B1=82Compositor=E7=BA=BF=E7=A8=8B=E5=AF=B9CC Pending Layer Tree=
=E6=89=A7=E8=A1=8C=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E3=80=82=E8=
=BF=99=E4=B8=AA=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E7=9A=84=E6=89=
=A7=E8=A1=8C=E8=BF=87=E7=A8=8B=E6=88=91=E4=BB=AC=E5=9C=A8=E6=8E=A5=E4=B8=8B=
=E6=9D=A5=E7=9A=84=E4=B8=80=E7=AF=87=E6=96=87=E7=AB=A0=E4=B8=AD=E5=86=8D=E8=
=AF=A6=E7=BB=86=E5=88=86=E6=9E=90=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp=
;=E8=BF=99=E4=B8=80=E6=AD=A5=E6=89=A7=E8=A1=8C=E5=AE=8C=E6=88=90=E4=B9=8B=
=E5=90=8E=EF=BC=8CCC Pending Layer Tree=E7=9A=84=E5=85=89=E6=A0=85=E5=8C=96=
=E6=93=8D=E4=BD=9C=E5=B0=B1=E5=87=86=E5=A4=87=E5=B0=B1=E7=BB=AA=E4=BA=86=E3=
=80=82=E5=9B=9E=E5=88=B0=E5=89=8D=E9=9D=A2=E5=88=86=E6=9E=90=E7=9A=84Pictur=
eLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0UpdateTiles=
=E4=B8=AD=EF=BC=8C=E5=AE=83=E8=BF=98=E9=9C=80=E8=A6=81=E6=89=A7=E8=A1=8C=E4=
=B8=80=E4=B8=AA=E6=93=8D=E4=BD=9C=EF=BC=8C=E5=B0=B1=E6=98=AF=E5=B0=86CC Pen=
ding Layer Tree=E4=B8=AD=E7=9A=84=E5=88=86=E5=9D=97=E6=A0=87=E8=AE=B0=E4=B8=
=BARequired For Activation=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=AFCC=E6=A8=A1=
=E5=9D=97=E6=AD=A3=E5=9C=A8=E7=AD=89=E5=BE=85=E8=BF=99=E4=BA=9B=E5=88=86=E5=
=9D=97=E7=9A=84=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E6=89=A7=E8=A1=
=8C=E5=AE=8C=E6=88=90=EF=BC=8C=E4=BB=A5=E4=BE=BF=E5=B0=86CC Pending Layer T=
ree=E6=BF=80=E6=B4=BB=E4=B8=BACC Active Layer Tree=EF=BC=8C=E8=BF=99=E6=98=
=AF=E9=80=9A=E8=BF=87=E8=B0=83=E7=94=A8PictureLayerImpl=E7=B1=BB=E7=9A=84=
=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0MarkVisibleResourcesAsRequired=E5=AE=9E=
=E7=8E=B0=E7=9A=84=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p=
><p></p><pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20160509=
_64_539859" name=3D"code" class=3D"cpp">void PictureLayerImpl::MarkVisibleR=
esourcesAsRequired() const {
  ......

  gfx::Rect rect(visible_rect_for_tile_priority_);
  ......

  float min_acceptable_scale =3D
      std::min(raster_contents_scale_, ideal_contents_scale_);

  if (PictureLayerImpl* twin =3D twin_layer_) {
    float twin_min_acceptable_scale =3D
        std::min(twin-&gt;ideal_contents_scale_, twin-&gt;raster_contents_s=
cale_);
    // Ignore 0 scale in case CalculateContentsScale() has never been
    // called for active twin.
    if (twin_min_acceptable_scale !=3D 0.0f) {
      min_acceptable_scale =3D
          std::min(min_acceptable_scale, twin_min_acceptable_scale);
    }
  }

  PictureLayerTiling* high_res =3D NULL;
  PictureLayerTiling* low_res =3D NULL;

  // First pass: ready to draw tiles in acceptable but non-ideal tilings ar=
e
  // marked as required for activation so that their textures are not throw=
n
  // away; any non-ready tiles are not marked as required.
  Region missing_region =3D rect;
  for (size_t i =3D 0; i &lt; tilings_-&gt;num_tilings(); ++i) {
    PictureLayerTiling* tiling =3D tilings_-&gt;tiling_at(i);
    ......

    if (tiling-&gt;resolution() =3D=3D LOW_RESOLUTION) {
      ......
      low_res =3D tiling;
    }
    if (tiling-&gt;contents_scale() &lt; min_acceptable_scale)
      continue;
    if (tiling-&gt;resolution() =3D=3D HIGH_RESOLUTION) {
      ......
      high_res =3D tiling;
      continue;
    }
    for (PictureLayerTiling::CoverageIterator iter(tiling,
                                                   contents_scale_x(),
                                                   rect);
         iter;
         ++iter) {
      if (!*iter || !iter-&gt;IsReadyToDraw())
        continue;

      missing_region.Subtract(iter.geometry_rect());
      iter-&gt;MarkRequiredForActivation();
    }
  }

  ......

  // If these pointers are null (because no twin, no matching tiling, or th=
e
  // simpification just below), then high res tiles will be required to fil=
l any
  // holes left by the first pass above.  If the pointers are valid, then t=
his
  // layer is allowed to skip any tiles that are not ready on its twin.
  const PictureLayerTiling* twin_high_res =3D NULL;
  const PictureLayerTiling* twin_low_res =3D NULL;

  if (twin_layer_) {
    // As a simplification, only allow activating to skip twin tiles that t=
he
    // active layer is also missing when both this layer and its twin have
    // "simple" sets of tilings: only 2 tilings (high and low) or only 1 hi=
gh
    // res tiling. This avoids having to iterate/track coverage of non-idea=
l
    // tilings during the last draw call on the active layer.
    if (tilings_-&gt;num_tilings() &lt;=3D 2 &amp;&amp;
        twin_layer_-&gt;tilings_-&gt;num_tilings() &lt;=3D tilings_-&gt;num=
_tilings()) {
      twin_low_res =3D low_res ? GetTwinTiling(low_res) : NULL;
      twin_high_res =3D high_res ? GetTwinTiling(high_res) : NULL;
    }

    ......
  }

  // As a second pass, mark as required any visible high res tiles not fill=
ed in
  // by acceptable non-ideal tiles from the first pass.
  if (MarkVisibleTilesAsRequired(
      high_res, twin_high_res, contents_scale_x(), rect, missing_region)) {
    // As an optional third pass, if a high res tile was skipped because it=
s
    // twin was also missing, then fall back to mark low res tiles as requi=
red
    // in case the active twin is substituting those for missing high res
    // content. Only suitable, when low res is enabled.
    if (low_res) {
      MarkVisibleTilesAsRequired(
          low_res, twin_low_res, contents_scale_x(), rect, missing_region);
    }
  }
}</pre><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=
=E5=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/layer=
s/picture_layer_impl.cc=E4=B8=AD=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=
PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0MarkV=
isibleResourcesAsRequired=E6=89=80=E5=81=9A=E7=9A=84=E4=BA=8B=E6=83=85=E5=
=B0=B1=E6=98=AF=E5=B0=86=E8=A6=86=E7=9B=96=E5=9C=A8=E5=BD=93=E5=89=8D=E6=AD=
=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E5=9C=A8=E5=8F=AF=E8=A7=81=E5=
=8C=BA=E5=9F=9F=E4=B8=AD=E7=9A=84=E5=88=86=E5=9D=97=E6=A0=87=E8=AE=B0=E4=B8=
=BARequired For Activation=E3=80=82=E8=BF=99=E4=BA=9B=E5=88=86=E5=9D=97=E4=
=B8=BB=E8=A6=81=E6=98=AF=E6=9D=A5=E8=87=AA=E4=BA=8ECC Pending Layer Tree=EF=
=BC=8C=E4=BD=86=E6=98=AF=E4=B9=9F=E6=9C=89=E5=8F=AF=E8=83=BD=E6=9D=A5=E8=87=
=AA=E4=BA=8ECC Acitve Layer Tree=EF=BC=8C=E5=9B=A0=E4=B8=BA=E8=BF=99=E4=B8=
=A4=E4=B8=AATree=E5=8F=AF=E8=83=BD=E4=BC=9A=E5=85=B1=E4=BA=AB=E4=B8=80=E4=
=BA=9B=E5=88=86=E5=9D=97=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;PictureL=
ayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0MarkVisibleRe=
sourcesAsRequired=E5=81=9A=E7=9A=84=E7=AC=AC=E4=B8=80=E4=BB=B6=E4=BA=8B=E6=
=83=85=E5=B0=B1=E6=98=AF=E8=AE=A1=E7=AE=97=E5=8F=AF=E8=A7=81=E5=8C=BA=E5=9F=
=9Frect=EF=BC=8C=E4=BB=A5=E5=8F=8A=E8=AE=A1=E7=AE=97=E5=BD=93=E5=89=8D=E6=
=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E7=9A=84=E6=9C=80=E5=B0=8FR=
aster Scale=E3=80=82=E4=BB=8E=E5=89=8D=E9=9D=A2=E7=9A=84=E5=88=86=E6=9E=90=
=E5=8F=AF=E4=BB=A5=E7=9F=A5=E9=81=93=EF=BC=8CPictureLayerImpl=E7=B1=BB=E7=
=9A=84=E6=88=90=E5=91=98=E5=8F=98=E9=87=8Fideal_contents_scale_=E8=A1=A8=E7=
=A4=BA=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=
=E7=9A=84Ideal Raster Scale=EF=BC=8C=E5=8F=A6=E5=A4=96=E4=B8=80=E4=B8=AA=E6=
=88=90=E5=91=98=E5=8F=98=E9=87=8Fraster_contents_scale_=E8=A1=A8=E7=A4=BA=
=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E7=9A=
=84High Res Raster Scale=E3=80=82High Res Raster Scale=E4=B8=80=E8=88=AC=E6=
=83=85=E5=86=B5=E4=B8=8B=E5=B0=B1=E7=AD=89=E4=BA=8EIdeal Raster Scale=E3=80=
=82=E4=B8=8D=E8=BF=87=EF=BC=8C=E5=A6=82=E6=9E=9C=E7=94=A8=E6=88=B7=E6=AD=A3=
=E5=9C=A8Pinch=E7=BD=91=E9=A1=B5=EF=BC=8C=E9=82=A3=E4=B9=88High Res Raster =
Scale=E6=98=AF=E6=A0=B9=E6=8D=AE=E4=B8=8A=E4=B8=80=E6=AC=A1=E4=BD=BF=E7=94=
=A8=E7=9A=84Raster Scale=E8=AE=A1=E7=AE=97=E5=87=BA=E6=9D=A5=E7=9A=84=EF=BC=
=8C=E5=85=B7=E4=BD=93=E5=8F=AF=E4=BB=A5=E5=8F=82=E8=80=83=E5=89=8D=E9=9D=A2=
=E5=88=86=E6=9E=90=E7=9A=84PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=
=91=98=E5=87=BD=E6=95=B0RecalculateRasterScales=E3=80=82</p><p>&nbsp; &nbsp=
; &nbsp; &nbsp;High Res Raster Scale=E5=AF=B9=E5=BA=94=E7=9A=84Tiling=E4=B9=
=9F=E6=98=AF=E5=BD=93=E5=89=8D=E9=9C=80=E8=A6=81=E8=BF=9B=E8=A1=8C=E5=85=89=
=E6=A0=85=E5=8C=96=E7=9A=84=E4=B8=80=E4=B8=AATiling=EF=BC=8C=E6=88=91=E4=BB=
=AC=E7=A7=B0=E4=B9=8B=E4=B8=BAHigh Res Tiling=E3=80=82=E6=AD=A4=E5=A4=96=EF=
=BC=8CCC Pending Layer Tree=E4=B8=AD=E7=9A=84Layer=E4=B8=80=E8=88=AC=E8=BF=
=98=E6=9C=89=E4=B8=80=E4=B8=AALow Res Tiling=EF=BC=8C=E5=AE=83=E7=9A=84Rast=
er Scale=E7=AD=89=E4=BA=8EHigh Res Raster Scale=E7=9A=840.25=E5=80=8D=EF=BC=
=8C=E7=A7=B0=E4=B8=BALow Res Raster Scale=E3=80=82=E9=99=A4=E4=BA=86High Re=
s Tiling=E5=92=8CLow Res Tiling=EF=BC=8C=E4=B8=80=E4=B8=AALayer=E5=8F=AF=E8=
=83=BD=E8=BF=98=E5=AD=98=E5=9C=A8=E5=85=B6=E5=AE=83=E6=9C=89=E7=9D=80=E4=B8=
=8D=E5=90=8C=E7=9A=84Raster Scale=E7=9A=84Tiling=E3=80=82=E4=B8=8D=E8=BF=87=
=EF=BC=8C=E5=8F=AA=E6=9C=89High Res Tiling=E5=92=8CLow Res Tiling=E6=98=AF=
=E5=BF=85=E8=A6=81=E7=9A=84=EF=BC=8C=E5=85=B6=E5=AE=83=E7=9A=84Tiling=E5=8F=
=AF=E6=9C=89=E5=8F=AF=E6=97=A0=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=
=E7=94=B1=E4=BA=8E=E4=B8=80=E4=B8=AALayer=E5=8F=AF=E8=83=BD=E4=BC=9A=E6=9C=
=89=E5=A4=9A=E4=B8=AATiling=EF=BC=8C=E5=9B=A0=E6=AD=A4=E5=AE=83=E7=9A=84=E5=
=8F=AF=E8=A7=81=E5=8C=BA=E5=9F=9F=E5=8F=AF=E4=BB=A5=E9=80=9A=E8=BF=87=E4=B8=
=8D=E5=90=8C=E7=9A=84Tiling=E8=BF=9B=E8=A1=8C=E8=A6=86=E7=9B=96=E3=80=82Pic=
tureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0MarkVisi=
bleResourcesAsRequired=E9=A6=96=E5=85=88=E8=80=83=E8=99=91=E7=94=A8Raster S=
cale=E5=80=BC=E8=BE=83=E5=A4=A7=E7=9A=84Tiling=E4=B8=AD=E7=9A=84=E5=88=86=
=E5=9D=97=E6=9D=A5=E8=A6=86=E7=9B=96Layer=E7=9A=84=E5=8F=AF=E8=A7=81=E5=8C=
=BA=E5=9F=9F=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E4=BB=80=E4=B9=88=
=E6=A0=B7=E7=9A=84Raster Scale=E5=80=BC=E7=AE=97=E6=98=AF=E8=BE=83=E5=A4=A7=
=E5=91=A2=EF=BC=9F=E5=BD=93=E5=AE=83=E7=9A=84=E5=80=BC=E4=B8=8D=E5=B0=8F=E4=
=BA=8E=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=
=E7=9A=84High Res Raster Scale=E4=B8=8EIdeal Raster Scale=E7=9A=84=E8=BE=83=
=E5=B0=8F=E8=80=85=E6=97=B6=EF=BC=8C=E5=AE=83=E5=B0=B1=E6=98=AF=E8=BE=83=E5=
=A4=A7=E7=9A=84=E3=80=82=E7=94=B1=E4=BA=8E=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=
=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E7=9A=84=E5=88=86=E5=9D=97=E6=9C=89=E5=
=8F=AF=E8=83=BD=E6=9D=A5=E8=87=AA=E4=BA=8E=E5=AE=83=E7=9A=84Twin Layer=EF=
=BC=8C=E5=9B=A0=E6=AD=A4=E5=9C=A8=E7=A1=AE=E5=AE=9A=E4=BB=80=E4=B9=88=E6=A0=
=B7=E7=9A=84Raster Scale=E5=80=BC=E7=AE=97=E6=98=AF=E8=BE=83=E5=A4=A7=E6=97=
=B6=EF=BC=8C=E4=B9=9F=E9=9C=80=E8=A6=81=E8=80=83=E8=99=91Twin Layer=E7=9A=
=84High Res Raster Scale=E5=92=8CIdeal Raster Scale=E3=80=82=E6=80=BB=E7=9A=
=84=E6=9D=A5=E8=AF=B4=EF=BC=8C=E5=B0=B1=E6=98=AF=E4=B8=80=E4=B8=AARaster Sc=
ale=E4=B8=8D=E5=B0=8F=E4=BA=8E=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=
=E7=90=86=E7=9A=84Layer=E5=8F=8A=E5=85=B6Twin Layer=E7=9A=84High Res Raster=
 Scale=E4=B8=8EIdeal Raster Scale=E7=9A=84=E6=9C=80=E5=B0=8F=E8=80=85=E6=97=
=B6=EF=BC=8C=E5=AE=83=E5=B0=B1=E6=98=AF=E8=BE=83=E5=A4=A7=E7=9A=84=E3=80=82=
=E4=B9=8B=E6=89=80=E4=BB=A5=E8=A6=81=E5=81=9A=E8=BF=99=E4=B8=AA=E9=99=90=E5=
=88=B6=EF=BC=8C=E5=B0=B1=E6=98=AF=E9=81=BF=E5=85=8D=E4=BD=BF=E7=94=A8=E5=88=
=86=E8=BE=A8=E7=8E=87=E5=BE=88=E4=BD=8E=E7=9A=84=E5=88=86=E5=9D=97=E6=9D=A5=
=E8=A6=86=E7=9B=96Layer=E7=9A=84=E5=8F=AF=E8=A7=81=E5=8C=BA=E5=9F=9F=E3=80=
=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=
=88=90=E5=91=98=E5=87=BD=E6=95=B0MarkVisibleResourcesAsRequired=E5=85=B6=E6=
=AC=A1=E8=80=83=E8=99=91=E4=BD=BF=E7=94=A8Low Res Tiling=E4=B8=AD=E7=9A=84=
=E5=88=86=E5=9D=97=E6=9D=A5=E8=A6=86=E7=9B=96Layer=E7=9A=84=E5=8F=AF=E8=A7=
=81=E5=8C=BA=E5=9F=9F=E3=80=82=E5=88=9B=E5=BB=BALow Res Tiling=E7=9A=84=E7=
=9B=AE=E7=9A=84=E5=B0=B1=E6=98=AF=E4=B8=BA=E4=BA=86=E8=AE=A9=E7=94=A8=E6=88=
=B7=E5=8F=AF=E4=BB=A5=E5=B0=BD=E5=BF=AB=E7=9C=8B=E5=88=B0=E7=BD=91=E9=A1=B5=
=E5=86=85=E5=AE=B9=E7=9A=84=EF=BC=8C=E5=9B=A0=E6=AD=A4=E5=AE=83=E7=9A=84=E5=
=88=86=E5=9D=97=E5=8F=AF=E4=BB=A5=E4=BC=98=E5=85=88=E8=80=83=E8=99=91=E7=94=
=A8=E6=9D=A5=E8=A6=86=E7=9B=96Layer=E7=9A=84=E5=8F=AF=E8=A7=81=E5=8C=BA=E5=
=9F=9F=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;PictureLayerImpl=E7=B1=BB=
=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0MarkVisibleResourcesAsRequired=
=E6=9C=80=E5=90=8E=E4=B9=9F=E4=BC=9A=E8=80=83=E8=99=91=E4=BD=BF=E7=94=A8Hig=
h Res Tiling=E7=9A=84=E5=88=86=E5=9D=97=E6=9D=A5=E8=A6=86=E7=9B=96Layer=E7=
=9A=84=E5=8F=AF=E8=A7=81=E5=8C=BA=E5=9F=9F=E3=80=82=E5=B0=86High Res Tiling=
=E7=9A=84=E5=88=86=E5=9D=97=E6=94=BE=E5=9C=A8=E6=9C=80=E5=90=8E=E8=80=83=E8=
=99=91=E4=BD=BF=E7=94=A8=EF=BC=8C=E6=98=AF=E5=9B=A0=E4=B8=BA=E5=AE=83=E4=BB=
=AC=E7=9A=84=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E6=98=AF=E6=9C=80=
=E8=80=97=E8=B4=B9=E6=97=B6=E9=97=B4=E7=9A=84=E3=80=82</p><p>&nbsp; &nbsp; =
&nbsp; &nbsp;=E4=B8=8A=E8=BF=B0=E4=B8=89=E7=B1=BBTiling=E7=9A=84=E5=88=86=
=E5=9D=97=E6=8C=89=E7=85=A7=E4=BB=A5=E4=B8=8B3=E4=B8=AA=E8=A7=84=E5=88=99=
=E8=A2=AB=E9=80=89=E6=8B=A9=E7=94=A8=E6=9D=A5=E8=A6=86=E7=9B=96=E5=BD=93=E5=
=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E7=9A=84=E5=8F=AF=
=E8=A7=81=E5=8C=BA=E5=9F=9F=EF=BC=9A</p><p>&nbsp; &nbsp; &nbsp; &nbsp;1. =
=E5=A6=82=E6=9E=9CRaster Scale=E8=BE=83=E5=A4=A7=E7=9A=84Tiling=E4=BB=A5=E5=
=8F=8ALow Res Tiling=E5=9C=A8Layer=E5=8F=AF=E8=A7=81=E5=8C=BA=E5=9F=9F=E5=
=86=85=E7=9A=84=E5=88=86=E5=9D=97=E5=B7=B2=E7=BB=8F=E8=A2=AB=E5=88=86=E9=85=
=8D=E4=BA=86=E7=BA=B9=E7=90=86=E8=B5=84=E6=BA=90=EF=BC=8C=E9=82=A3=E4=B9=88=
=E5=AE=83=E4=BB=AC=E6=9C=80=E4=BC=98=E5=85=88=E9=80=89=E5=8F=96=E6=9D=A5=E8=
=A6=86=E7=9B=96=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=
=84Layer=E7=9A=84=E5=8F=AF=E8=A7=81=E5=8C=BA=E5=9F=9F=E3=80=82=E4=B8=80=E4=
=B8=AA=E5=88=86=E5=9D=97=E5=A6=82=E6=9E=9C=E5=B7=B2=E7=BB=8F=E5=88=86=E9=85=
=8D=E4=BA=86=E7=BA=B9=E7=90=86=E8=B5=84=E6=BA=90=EF=BC=8C=E9=82=A3=E4=B9=88=
=E8=B0=83=E7=94=A8=E7=94=A8=E6=9D=A5=E6=8F=8F=E8=BF=B0=E5=AE=83=E7=9A=84=E4=
=B8=80=E4=B8=AATiling=E5=AF=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=
=E6=95=B0IsReadyToDraw=E7=9A=84=E5=80=BC=E5=B0=B1=E4=BC=9A=E7=AD=89=E4=BA=
=8Etrue=E3=80=82=E8=BF=99=E7=A7=8D=E5=88=86=E5=9D=97=E5=B7=B2=E7=BB=8F=E5=
=85=89=E6=A0=85=E5=8C=96=E5=AE=8C=E6=88=90=EF=BC=8C=E6=88=96=E8=80=85=E6=AD=
=A3=E5=9C=A8=E5=85=89=E6=A0=85=E5=8C=96=EF=BC=8C=E5=AE=83=E4=BB=AC=E6=98=AF=
=E6=9C=80=E5=BF=AB=E5=8F=AF=E4=BB=A5=E6=B8=B2=E6=9F=93=E5=87=BA=E6=9D=A5=E7=
=9A=84=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;2. =E5=A6=82=E6=9E=9C=E6=
=8C=89=E7=85=A7=E7=AC=AC1=E4=B8=AA=E8=A7=84=E5=88=99=E9=80=89=E5=8F=96=E5=
=87=BA=E6=9D=A5=E7=9A=84=E5=88=86=E5=9D=97=E4=B8=8D=E8=B6=B3=E4=BA=8E=E5=AE=
=8C=E5=85=A8=E8=A6=86=E7=9B=96=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=
=E7=90=86=E7=9A=84Layer=E7=9A=84=E5=8F=AF=E8=A7=81=E5=8C=BA=E5=9F=9F=EF=BC=
=8C=E9=82=A3=E4=B9=88=E5=B0=B1=E4=BC=9A=E4=BD=BF=E7=94=A8High Res Tiling=E7=
=9A=84=E5=88=86=E5=9D=97=E6=9D=A5=E7=BB=A7=E7=BB=AD=E8=A6=86=E7=9B=96=E3=80=
=82=E4=B8=8D=E8=BF=87=E5=A6=82=E6=9E=9C=E8=BF=99=E4=B8=AAHigh Res Tiling=E5=
=AD=98=E5=9C=A8Twin Tiling=EF=BC=8C=E5=B9=B6=E4=B8=94=E8=AF=A5Twin Tiling=
=E5=9C=A8=E5=AF=B9=E5=BA=94=E4=BD=8D=E7=BD=AE=E7=9A=84=E5=88=86=E5=9D=97=E8=
=BF=98=E6=B2=A1=E6=9C=89=E5=88=9B=E5=BB=BA=EF=BC=8C=E6=88=96=E8=80=85=E5=B7=
=B2=E7=BB=8F=E5=88=9B=E5=BB=BA=EF=BC=8C=E4=BD=86=E6=98=AF=E4=B8=8EHigh Res =
Tiling=E5=85=B1=E4=BA=AB=EF=BC=88=E6=84=8F=E5=91=B3=E7=9D=80=E8=BF=98=E6=B2=
=A1=E6=9C=89=E5=85=89=E6=A0=85=E5=8C=96=EF=BC=89=EF=BC=8C=E9=82=A3=E4=B9=88=
=E5=B0=B1=E4=BC=9A=E6=8B=92=E7=BB=9D=E4=BD=BF=E7=94=A8=E5=90=8E=E8=80=85=E7=
=9A=84=E5=88=86=E5=9D=97=E6=9D=A5=E7=BB=A7=E7=BB=AD=E8=A6=86=E7=9B=96=E5=8C=
=BA=E5=9F=9F =E3=80=82=E4=B8=BA=E4=BB=80=E4=B9=88=E4=BC=9A=E6=8B=92=E7=BB=
=9D=E5=91=A2=EF=BC=9F=E5=9B=A0=E4=B8=BATwin Tiling=E6=98=AF=E5=B1=9E=E4=BA=
=8ECC Active Layer Tree=E7=9A=84=EF=BC=8C=E5=9C=A8=E6=96=B0=E7=94=9F=E6=88=
=90=E7=9A=84CC Pending Layer Tree=E8=BF=98=E6=B2=A1=E6=9C=89=E6=BF=80=E6=B4=
=BB=E4=B9=8B=E5=89=8D=EF=BC=8C=E4=B8=8A=E4=B8=80=E6=AC=A1=E4=BD=BF=E7=94=A8=
=E7=9A=84CC Active Layer Tree=E4=BB=8D=E7=84=B6=E4=BC=9A=E7=94=A8=E6=9D=A5=
=E6=B8=B2=E6=9F=93=E7=BD=91=E9=A1=B5=E7=9A=84=E5=86=85=E5=AE=B9=E3=80=82=E4=
=BD=86=E6=98=AF=E5=9C=A8=E8=BF=99=E7=A7=8D=E6=83=85=E5=86=B5=E4=B8=8B=EF=BC=
=8CCC Active Layer Tree=E8=A6=81=E7=94=A8=E5=88=B0=E7=9A=84=E5=88=86=E5=9D=
=97=E8=BF=98=E6=B2=A1=E6=9C=89=E5=87=86=E5=A4=87=E5=B0=B1=E7=BB=AA=EF=BC=88=
=E5=9B=A0=E4=B8=BA=E8=BF=98=E6=B2=A1=E6=9C=89=E5=88=9B=E5=BB=BA=EF=BC=8C=E6=
=88=96=E8=80=85=E5=88=9B=E5=BB=BA=E4=BA=86=E4=BD=86=E6=98=AF=E8=BF=98=E6=B2=
=A1=E6=9C=89=E5=85=89=E6=A0=85=E5=8C=96=EF=BC=89=EF=BC=8C=E6=89=80=E4=BB=A5=
=E5=BA=94=E8=AF=A5=E4=BC=98=E5=85=88=E8=80=83=E8=99=91=E4=BD=BF=E7=94=A8Low=
 Res Tilling=E7=9A=84=E5=88=86=E5=9D=97=E6=9D=A5=E8=A6=86=E7=9B=96=E8=AF=A5=
=E4=BD=8D=E7=BD=AE=EF=BC=8C=E4=BB=A5=E4=BE=BF=E8=AF=A5=E4=BD=8D=E7=BD=AE=E7=
=9A=84=E7=BD=91=E9=A1=B5=E5=86=85=E5=AE=B9=E4=BB=A5=E6=9C=80=E5=BF=AB=E9=80=
=9F=E5=BA=A6=E6=98=BE=E7=A4=BA=E5=87=BA=E6=9D=A5=EF=BC=8C=E5=B0=BD=E7=AE=A1=
=E6=98=BE=E7=A4=BA=E5=87=BA=E6=9D=A5=E7=9A=84=E5=86=85=E5=AE=B9=E4=B8=8D=E6=
=98=AF=E9=82=A3=E4=B9=88=E6=B8=85=E6=99=B0=EF=BC=8C=E4=BD=86=E6=98=AF=E4=B9=
=9F=E6=AF=94=E7=9C=8B=E4=B8=8D=E5=88=B0=E5=86=85=E5=AE=B9=E8=A6=81=E5=A5=BD=
=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;3.&nbsp;=E5=A6=82=E6=9E=9C=E6=8C=
=89=E7=85=A7=E7=AC=AC1=E4=B8=AA=E8=A7=84=E5=88=99=E5=92=8C=E7=AC=AC2=E4=B8=
=AA=E8=A7=84=E5=88=99=E9=80=89=E5=8F=96=E5=87=BA=E6=9D=A5=E7=9A=84=E5=88=86=
=E5=9D=97=E4=BB=8D=E7=84=B6=E4=B8=8D=E8=83=BD=E5=AE=8C=E5=85=A8=E8=A6=86=E7=
=9B=96=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=
=E7=9A=84=E5=8F=AF=E8=A7=81=E5=8C=BA=E5=9F=9F=EF=BC=8C=E5=B9=B6=E4=B8=94=E5=
=AD=98=E5=9C=A8Low Res Tiling=EF=BC=8C=E9=82=A3=E4=B9=88=E5=B0=B1=E6=94=BE=
=E5=AE=BD=E5=AF=B9Low Res Tiling=E7=9A=84=E5=88=86=E5=9D=97=E7=9A=84=E8=A6=
=81=E6=B1=82=E3=80=82=E7=AC=AC1=E4=B8=AA=E8=A7=84=E5=88=99=E8=A6=81=E6=B1=
=82Low Res Tiling=E7=9A=84=E5=88=86=E5=9D=97=E5=88=86=E9=85=8D=E4=BA=86=E7=
=BA=B9=E7=90=86=E8=B5=84=E6=BA=90=E6=89=8D=E5=8F=AF=E4=BB=A5=E7=94=A8=E6=9D=
=A5=E8=A6=86=E7=9B=96=E5=8F=AF=E8=A7=81=E5=8C=BA=E5=9F=9F=EF=BC=8C=E7=8E=B0=
=E5=9C=A8=E4=B8=8D=E4=BD=9C=E8=BF=99=E4=B8=80=E7=82=B9=E8=A6=81=E6=B1=82=E3=
=80=82=E5=90=8C=E6=A0=B7=EF=BC=8C=E5=A6=82=E6=9E=9C=E8=BF=99=E4=B8=AALow Re=
s Tiling=E4=B9=9F=E5=AD=98=E5=9C=A8Twin Tiling=EF=BC=8C=E5=B9=B6=E4=B8=94=
=E8=AF=A5Twin Tiling=E5=9C=A8=E5=AF=B9=E5=BA=94=E4=BD=8D=E7=BD=AE=E7=9A=84=
=E5=88=86=E5=9D=97=E8=BF=98=E6=B2=A1=E6=9C=89=E5=88=9B=E5=BB=BA=EF=BC=8C=E6=
=88=96=E8=80=85=E5=B7=B2=E7=BB=8F=E5=88=9B=E5=BB=BA=EF=BC=8C=E4=BD=86=E6=98=
=AF=E4=B8=8ELow Res Tiling=E5=85=B1=E4=BA=AB=EF=BC=88=E6=84=8F=E5=91=B3=E7=
=9D=80=E8=BF=98=E6=B2=A1=E6=9C=89=E5=85=89=E6=A0=85=E5=8C=96=EF=BC=89=EF=BC=
=8C=E9=82=A3=E4=B9=88=E5=B0=B1=E4=BC=9A=E6=8B=92=E7=BB=9D=E4=BD=BF=E7=94=A8=
=E5=90=8E=E8=80=85=E7=9A=84=E5=88=86=E5=9D=97=E6=9D=A5=E7=BB=A7=E7=BB=AD=E8=
=A6=86=E7=9B=96=E5=8C=BA=E5=9F=9F=E3=80=82=E8=BF=99=E6=97=B6=E5=80=99=E4=BC=
=98=E5=85=88=E8=80=83=E8=99=91=E7=94=A8Low Res Tiling=E7=9A=84Twin Tiling=
=E7=9A=84=E5=88=86=E5=9D=97=E6=9D=A5=E8=A6=86=E7=9B=96=E5=BD=93=E5=89=8D=E6=
=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E7=9A=84=E5=8F=AF=E8=A7=81=
=E5=8C=BA=E5=9F=9F=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E4=B8=8A=E8=
=BF=B03=E4=B8=AA=E8=A7=84=E5=88=99=E6=9E=84=E6=88=90=E4=BA=86PictureLayerIm=
pl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0MarkVisibleResource=
sAsRequired=E5=9C=A8=E6=B3=A8=E9=87=8A=E4=B8=AD=E6=A0=87=E8=AE=B0=E7=9A=84=
=E4=B8=89=E4=B8=AAPass=E3=80=82=E7=AC=AC=E4=B8=80=E4=B8=AAPass=E6=89=A7=E8=
=A1=8C=E5=AE=8C=E6=88=90=E4=B9=8B=E5=90=8E=EF=BC=8C=E6=9C=AC=E5=9C=B0=E5=8F=
=98=E9=87=8Fmissing_region=E8=AE=B0=E5=BD=95=E4=BA=86=E5=BD=93=E5=89=8D=E6=
=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E8=BF=98=E6=9C=89=E5=93=AA=
=E4=BA=9B=E5=8F=AF=E8=A7=81=E5=8C=BA=E5=9F=9F=E8=BF=98=E6=B2=A1=E6=9C=89=E8=
=A2=AB=E5=88=86=E5=9D=97=E8=A6=86=E7=9B=96=E3=80=82=E8=BF=99=E4=BA=9B=E5=8C=
=BA=E5=9F=9F=E5=B0=86=E8=BF=9B=E4=B8=80=E6=AD=A5=E5=9C=A8=E7=AC=AC=E4=BA=8C=
=E4=B8=AAPass=E5=92=8C=E7=AC=AC=E4=B8=89=E4=B8=AAPass=E4=B8=AD=E8=BF=9B=E8=
=A1=8C=E8=A6=86=E7=9B=96=E3=80=82=E8=BF=99=E6=98=AF=E9=80=9A=E8=BF=87=E8=B0=
=83=E7=94=A8PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=
=E6=95=B0MarkVisibleTilesAsRequired=E5=AE=9E=E7=8E=B0=E7=9A=84=E3=80=82</p>=
<p>&nbsp; &nbsp; &nbsp; &nbsp;=E6=B3=A8=E6=84=8F=EF=BC=8C=E5=9C=A8=E7=AC=AC=
2=E4=B8=AA=E8=A7=84=E5=88=99=E5=92=8C=E7=AC=AC3=E4=B8=AA=E8=A7=84=E5=88=99=
=E4=B8=AD=EF=BC=8C=E5=A6=82=E6=9E=9CHigh Res Tiling=E5=92=8CLow Res Tiling=
=E5=AD=98=E5=9C=A8Twin Tiling=EF=BC=8C=E9=82=A3=E4=B9=88=E8=A6=81=E6=B1=82=
=E8=AF=A5Twin Tiling=E4=B9=9F=E6=98=AF=E4=B8=80=E4=B8=AAHigh Res Tiling=E6=
=88=96=E8=80=85Low Res Tiling=E3=80=82=E5=A6=82=E6=9E=9C=E4=B8=80=E4=B8=AAT=
iling=E6=97=A2=E4=B8=8D=E6=98=AFHigh Res Tiling=EF=BC=8C=E4=B9=9F=E4=B8=8D=
=E6=98=AFLow Res Tiling=EF=BC=8C=E9=82=A3=E4=B9=88=E5=AE=83=E5=B0=B1=E4=B8=
=80=E5=AE=9A=E6=98=AFNon Ideal Tiling=E3=80=82Non Ideal Tiling=E7=9A=84=E5=
=88=86=E5=9D=97=E6=98=AF=E5=85=81=E8=AE=B8=E9=9A=8F=E6=97=B6=E5=9B=9E=E6=94=
=B6=E7=9A=84=EF=BC=8C=E4=BD=86=E6=98=AF=E5=A6=82=E6=9E=9C=E6=88=91=E4=BB=AC=
=E5=9C=A8=E9=80=89=E6=8B=A9=E5=88=86=E5=9D=97=E8=A6=86=E7=9B=96=E5=BD=93=E5=
=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E7=9A=84=E5=8F=AF=
=E8=A7=81=E5=8C=BA=E5=9F=9F=E6=97=B6=EF=BC=8C=E5=8F=97=E5=88=B0=E4=BA=86=E5=
=AE=83=E4=BB=AC=E7=9A=84=E5=BD=B1=E5=93=8D=EF=BC=8C=E9=82=A3=E4=B9=88=E5=B0=
=B1=E4=BC=9A=E5=AF=BC=E8=87=B4=E5=AE=83=E4=BB=AC=E4=B8=8D=E8=83=BD=E8=A2=AB=
=E5=9B=9E=E6=94=B6=E3=80=82=E8=BF=99=E6=84=8F=E5=91=B3=E7=9D=80=E6=88=91=E4=
=BB=AC=E9=9C=80=E8=A6=81=E8=BF=9B=E4=B8=80=E6=AD=A5=E5=9C=B0=E8=B7=9F=E8=B8=
=AA=E5=AE=83=E4=BB=AC=E7=9A=84=E7=8A=B6=E6=80=81=EF=BC=8C=E8=BF=99=E5=B0=86=
=E4=BC=9A=E7=BB=99CC=E6=A8=A1=E5=9D=97=E7=9A=84=E8=B5=84=E6=BA=90=E7=AE=A1=
=E7=90=86=E5=B8=A6=E6=9D=A5=E5=A4=8D=E6=9D=82=E6=80=A7=E3=80=82=E5=9B=A0=E6=
=AD=A4=EF=BC=8C=E4=B8=BA=E4=BA=86=E9=81=BF=E5=85=8D=E5=87=BA=E7=8E=B0=E8=BF=
=99=E7=A7=8D=E5=A4=8D=E6=9D=82=E6=80=A7=EF=BC=8C=E5=B0=B1=E8=A6=81=E6=B1=82=
=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E7=9A=
=84High Res Tiling=E5=92=8CLow Res Tiling=E7=9A=84Twin Tiling=E4=B9=9F=E5=
=BF=85=E9=A1=BB=E6=98=AFHigh Res Tiling=E5=92=8CLow Res Tiling=E3=80=82</p>=
<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=
=88=90=E5=91=98=E5=87=BD=E6=95=B0MarkVisibleResourcesAsRequired=E4=BD=BF=E7=
=94=A8=E4=BA=86=E4=B8=80=E7=A7=8D=E7=AE=80=E5=8D=95=E7=9A=84=E6=96=B9=E5=BC=
=8F=E5=88=A4=E6=96=AD=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=
=E7=9A=84Layer=E7=9A=84High Res Tiling=E5=92=8CLow Res Tiling=E7=9A=84Twin =
Tiling=E6=98=AF=E5=90=A6=E4=B9=9F=E6=98=AFHigh Res Tiling=E5=92=8CLow Res T=
iling=E3=80=82=E6=89=BE=E5=88=B0=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=
=84=E7=90=86=E7=9A=84Layer=E7=9A=84Twin Layer=EF=BC=8C=E5=A6=82=E6=9E=9C=E5=
=90=8E=E8=80=85=E7=9A=84Tiling=E4=B8=AA=E6=95=B0=E5=B0=8F=E4=BA=8E=E7=AD=89=
=E4=BA=8E2=EF=BC=8C=E5=B0=B1=E6=84=8F=E5=91=B3=E7=9D=80=E5=AE=83=E4=BB=AC=
=E4=B8=8D=E6=98=AFHigh Res Tiling=EF=BC=8C=E5=B0=B1=E6=98=AFLow Res Tiling=
=E3=80=82=E8=BF=99=E6=98=AF=E5=9B=A0=E4=B8=BA=EF=BC=9A</p><p>&nbsp; &nbsp; =
&nbsp; &nbsp;1. =E5=BD=93=E4=B8=80=E4=B8=AALayer=E5=8F=AA=E6=9C=89=E4=B8=80=
=E4=B8=AATiling=E6=97=B6=EF=BC=8C=E9=82=A3=E4=B9=88=E8=BF=99=E4=B8=AATiling=
=E6=98=AFHigh Res Tiling=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;2. =E5=
=BD=93=E4=B8=80=E4=B8=AALayer=E5=8F=AA=E6=9C=89=E4=B8=A4=E4=B8=AATiling=E6=
=97=B6=EF=BC=8C=E9=82=A3=E4=B9=88=E5=85=B6=E4=B8=AD=E4=B8=80=E4=B8=AATiling=
=E6=98=AFHigh Res Tiling=EF=BC=8C=E5=8F=A6=E4=B8=80=E4=B8=AA=E6=98=AFLow Re=
s Tiling=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;3. =E5=BD=93=E4=B8=80=E4=
=B8=AALayer=E5=8F=AA=E6=9C=89=E4=B8=A4=E4=B8=AA=E4=BB=A5=E4=B8=8ATiling=E6=
=97=B6=EF=BC=8C=E9=82=A3=E4=B9=88=E5=B0=B1=E4=BC=9A=E5=AD=98=E8=87=B3=E5=B0=
=91=E4=BC=9A=E5=AD=98=E5=9C=A8=E4=B8=80=E4=B8=AANon Ideal Tiling=E3=80=82</=
p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E6=8E=A5=E4=B8=8B=E6=9D=A5=E6=88=91=E4=BB=
=AC=E7=BB=A7=E7=BB=AD=E5=88=86=E6=9E=90PictureLayerImpl=E7=B1=BB=E7=9A=84=
=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0MarkVisibleTilesAsRequired=E7=9A=84=E5=
=AE=9E=E7=8E=B0=EF=BC=8C=E4=BB=A5=E4=BE=BF=E8=BF=9B=E4=B8=80=E6=AD=A5=E4=BA=
=86=E8=A7=A3=E4=B8=8A=E9=9D=A2=E6=8F=90=E5=88=B0=E7=9A=84=E7=AC=AC2=E4=B8=
=AA=E8=A7=84=E5=88=99=E5=92=8C=E7=AC=AC3=E4=B8=AA=E8=A7=84=E5=88=99=EF=BC=
=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></p><pre code_snippe=
t_id=3D"1675568" snippet_file_name=3D"blog_20160509_65_1445714" name=3D"cod=
e" class=3D"cpp">bool PictureLayerImpl::MarkVisibleTilesAsRequired(
    PictureLayerTiling* tiling,
    const PictureLayerTiling* optional_twin_tiling,
    float contents_scale,
    const gfx::Rect&amp; rect,
    const Region&amp; missing_region) const {
  bool twin_had_missing_tile =3D false;
  for (PictureLayerTiling::CoverageIterator iter(tiling,
                                                 contents_scale,
                                                 rect);
       iter;
       ++iter) {
    Tile* tile =3D *iter;
    // A null tile (i.e. missing recording) can just be skipped.
    if (!tile)
      continue;

    // If the missing region doesn=E2=80=98t cover it, this tile is fully
    // covered by acceptable tiles at other scales.
    if (!missing_region.Intersects(iter.geometry_rect()))
      continue;

    // If the twin tile doesn=E2=80=98t exist (i.e. missing recording or so=
 far away
    // that it is outside the visible tile rect) or this tile is shared bet=
ween
    // with the twin, then this tile isn=E2=80=98t required to prevent flas=
hing.
    if (optional_twin_tiling) {
      Tile* twin_tile =3D optional_twin_tiling-&gt;TileAt(iter.i(), iter.j(=
));
      if (!twin_tile || twin_tile =3D=3D tile) {
        twin_had_missing_tile =3D true;
        continue;
      }
    }

    tile-&gt;MarkRequiredForActivation();
  }
  return twin_had_missing_tile;
}</pre><p>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=
=E5=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/layer=
s/picture_layer_impl.cc=E4=B8=AD=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=
=E4=BB=8E=E5=89=8D=E9=9D=A2=E7=9A=84=E8=B0=83=E7=94=A8=E8=BF=87=E7=A8=8B=E5=
=8F=AF=E4=BB=A5=E7=9F=A5=E9=81=93=EF=BC=8C=E7=AC=AC=E4=B8=80=E4=B8=AA=E5=8F=
=82=E6=95=B0tiling=E6=8F=8F=E8=BF=B0=E7=9A=84=E6=98=AF=E5=BD=93=E5=89=8D=E6=
=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E7=9A=84High Res Tiling=E6=
=88=96=E8=80=85Low Res Tiling=EF=BC=8C=E7=AC=AC=E4=BA=8C=E4=B8=AA=E5=8F=82=
=E6=95=B0optional_twin_tiling=E8=A1=A8=E7=A4=BA=E7=AC=AC=E4=B8=80=E4=B8=AA=
=E5=8F=82=E6=95=B0tiling=E6=8F=8F=E8=BF=B0=E7=9A=84Tiling=E7=9A=84Twin Tili=
ng=EF=BC=8C=E7=AC=AC=E5=9B=9B=E4=B8=AA=E5=8F=82=E6=95=B0rect=E6=8F=8F=E8=BF=
=B0=E7=9A=84=E6=98=AF=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=
=E7=9A=84Layer=E7=9A=84=E5=8F=AF=E8=A7=81=E5=8C=BA=E5=9F=9F=EF=BC=8C=E7=AC=
=AC=E4=BA=94=E4=B8=AA=E5=8F=82=E6=95=B0missing_region=E6=8F=8F=E8=BF=B0=E7=
=9A=84=E6=98=AF=E7=BB=8F=E8=BF=87=E4=B8=8A=E9=9D=A2=E6=8F=90=E5=88=B0=E7=9A=
=84=E7=AC=AC1=E4=B8=AA=E8=A7=84=E5=88=99=E4=B9=8B=E5=90=8E=EF=BC=8C=E5=BD=
=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E5=89=A9=E4=
=B8=8B=E6=9D=A5=E7=9A=84=E8=BF=98=E6=B2=A1=E6=9C=89=E8=A2=AB=E5=88=86=E5=9D=
=97=E8=A6=86=E7=9B=96=E7=9A=84=E5=8F=AF=E8=A7=81=E5=8C=BA=E5=9F=9F=E3=80=82=
</p><p>&nbsp; &nbsp; &nbsp; &nbsp;PictureLayerImpl=E7=B1=BB=E7=9A=84=E6=88=
=90=E5=91=98=E5=87=BD=E6=95=B0MarkVisibleTilesAsRequired=E9=81=8D=E5=8E=86=
=E7=AC=AC=E4=B8=80=E4=B8=AA=E5=8F=82=E6=95=B0tiling=E6=8F=8F=E8=BF=B0=E7=9A=
=84Tiling=E5=9C=A8=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=
=9A=84Layer=E7=9A=84=E5=8F=AF=E8=A7=81=E5=8C=BA=E5=9F=9F=E4=B8=8A=E7=9A=84=
=E6=89=80=E6=9C=89=E5=88=86=E5=9D=97=E3=80=82=E5=A6=82=E6=9E=9C=E8=BF=99=E4=
=BA=9B=E5=88=86=E5=9D=97=E4=BD=8D=E4=BA=8E=E4=B8=8A=E8=BF=B0=E8=BF=98=E6=B2=
=A1=E6=9C=89=E8=A6=86=E7=9B=96=E7=9A=84=E5=8C=BA=E5=9F=9F=E4=B8=8A=EF=BC=8C=
=E9=82=A3=E4=B9=88=E5=B0=B1=E5=B0=86=E5=AE=83=E6=A0=87=E8=AE=B0=E4=B8=BAReq=
uired For Activation=EF=BC=8C=E8=BF=99=E6=98=AF=E9=80=9A=E8=BF=87=E8=B0=83=
=E7=94=A8=E4=B8=8E=E5=AE=83=E4=BB=AC=E5=AF=B9=E5=BA=94=E7=9A=84Tile=E5=AF=
=B9=E8=B1=A1=E7=9A=84=E6=88=90=E5=91=98=E5=87=BD=E6=95=B0MarkRequiredForAct=
ivation=E5=AE=9E=E7=8E=B0=E7=9A=84=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbs=
p;=E4=B8=8D=E8=BF=87=E5=A6=82=E6=9E=9C=E5=8F=82=E6=95=B0optional_twin_tilin=
g=E7=9A=84=E5=80=BC=E4=B8=8D=E7=AD=89=E4=BA=8ENULL=EF=BC=8C=E4=B9=9F=E5=B0=
=B1=E6=98=AF=E5=AE=83=E6=8C=87=E5=90=91=E4=BA=86=E4=B8=80=E4=B8=AATwin Tili=
ng=EF=BC=8C=E9=82=A3=E4=B9=88=E8=A2=AB=E6=A0=87=E8=AE=B0=E4=B8=BARequired F=
or Activation=E7=9A=84=E5=88=86=E5=9D=97=E8=BF=98=E9=9C=80=E8=A6=81=E5=90=
=8C=E6=97=B6=E6=BB=A1=E8=B6=B3=E4=BB=A5=E4=B8=8B=E4=B8=A4=E4=B8=AA=E6=9D=A1=
=E4=BB=B6=EF=BC=9A</p><p>&nbsp; &nbsp; &nbsp; &nbsp;1. =E5=8F=82=E6=95=B0op=
tional_twin_tiling=E6=8F=8F=E8=BF=B0=E7=9A=84Twin Tiling=E5=9C=A8=E7=9B=B8=
=E5=90=8C=E4=BD=8D=E7=BD=AE=E7=9A=84=E5=88=86=E5=9D=97=E5=B7=B2=E7=BB=8F=E5=
=88=9B=E5=BB=BA=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;2. =E5=8F=82=E6=
=95=B0optional_twin_tiling=E6=8F=8F=E8=BF=B0=E7=9A=84Twin Tiling=E5=9C=A8=
=E7=9B=B8=E5=90=8C=E4=BD=8D=E7=BD=AE=E7=9A=84=E5=88=86=E5=9D=97=E6=98=AF=E9=
=9D=9E=E5=85=B1=E4=BA=AB=E7=9A=84=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=AF=E4=B8=
=8D=E4=B8=8E=E5=8F=82=E6=95=B0tiling=E6=8F=8F=E8=BF=B0=E7=9A=84Tiling=E5=85=
=B1=E4=BA=AB=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E5=81=87=E8=AE=BE=
=E5=8F=82=E6=95=B0tiling=E6=8F=8F=E8=BF=B0=E7=9A=84=E6=98=AF=E5=BD=93=E5=89=
=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E7=9A=84High Res Tili=
ng=E3=80=82=E5=A6=82=E6=9E=9C=E4=B8=8A=E8=BF=B0=E4=B8=A4=E4=B8=AA=E6=9D=A1=
=E4=BB=B6=E4=B9=8B=E4=B8=80=E4=B8=8D=E8=83=BD=E6=BB=A1=E8=B6=B3=EF=BC=8C=E9=
=82=A3=E4=B9=88=E5=B0=B1=E6=84=8F=E5=91=B3=E7=9D=80=E5=BA=94=E8=AF=A5=E4=BC=
=98=E5=85=88=E8=80=83=E8=99=91=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=
=E7=90=86=E7=9A=84Layer=E7=9A=84Low Res Tiling=E7=9A=84=E5=88=86=E5=9D=97=
=E8=A6=86=E7=9B=96=E5=8F=AF=E8=A7=81=E5=8C=BA=E5=9F=9F=E3=80=82</p><p>&nbsp=
; &nbsp; &nbsp; &nbsp;=E5=81=87=E8=AE=BE=E5=8F=82=E6=95=B0tiling=E6=8F=8F=
=E8=BF=B0=E7=9A=84=E6=98=AF=E5=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=
=90=86=E7=9A=84Layer=E7=9A=84Low Res Tiling=E3=80=82=E5=A6=82=E6=9E=9C=E4=
=B8=8A=E8=BF=B0=E4=B8=A4=E4=B8=AA=E6=9D=A1=E4=BB=B6=E4=B9=8B=E4=B8=80=E4=B8=
=8D=E8=83=BD=E6=BB=A1=E8=B6=B3=EF=BC=8C=E9=82=A3=E4=B9=88=E5=B0=B1=E6=84=8F=
=E5=91=B3=E7=9D=80=E5=BA=94=E8=AF=A5=E4=BC=98=E5=85=88=E8=80=83=E8=99=91=E5=
=BD=93=E5=89=8D=E6=AD=A3=E5=9C=A8=E5=A4=84=E7=90=86=E7=9A=84Layer=E7=9A=84L=
ow Res Tiling=E7=9A=84Twin Tiling=E7=9A=84=E5=88=86=E5=9D=97=E8=A6=86=E7=9B=
=96=E5=8F=AF=E8=A7=81=E5=8C=BA=E5=9F=9F=E3=80=82=E6=B3=A8=E6=84=8F=EF=BC=8C=
=E8=BF=99=E6=97=B6=E5=80=99=E4=B8=8D=E5=BF=85=E5=B0=86Twin Tiling=E7=9A=84=
=E5=88=86=E5=9D=97=E6=A0=87=E8=AE=B0=E4=B8=BARequired For Activation=EF=BC=
=8C=E5=9B=A0=E4=B8=BATwin&nbsp;Tiling=E6=9C=AC=E8=BA=AB=E5=B0=B1=E5=B7=B2=
=E7=BB=8F=E5=B1=9E=E4=BA=8ECC Active Layer Tree=E7=9A=84=E3=80=82</p><p>&nb=
sp; &nbsp; &nbsp; &nbsp;=E6=8E=A5=E4=B8=8B=E6=9D=A5=EF=BC=8C=E6=88=91=E4=BB=
=AC=E5=86=8D=E5=88=86=E6=9E=90Tile=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=98=E5=
=87=BD=E6=95=B0MarkRequiredForActivation=E7=9A=84=E5=AE=9E=E7=8E=B0=EF=BC=
=8C=E4=BB=A5=E4=BE=BF=E4=BA=86=E8=A7=A3=E4=B8=80=E4=B8=AA=E5=88=86=E5=9D=97=
=E8=A2=AB=E6=A0=87=E8=AE=B0=E4=B8=BARequired For Activation=E7=9A=84=E8=BF=
=87=E7=A8=8B=EF=BC=8C=E5=A6=82=E4=B8=8B=E6=89=80=E7=A4=BA=EF=BC=9A</p><p></=
p><pre code_snippet_id=3D"1675568" snippet_file_name=3D"blog_20160509_66_51=
42448" name=3D"code" class=3D"cpp">void Tile::MarkRequiredForActivation() {
  if (priority_[PENDING_TREE].required_for_activation)
    return;

  priority_[PENDING_TREE].required_for_activation =3D true;
  ......
}</pre>&nbsp; &nbsp; &nbsp; &nbsp;=E8=BF=99=E4=B8=AA=E5=87=BD=E6=95=B0=E5=
=AE=9A=E4=B9=89=E5=9C=A8=E6=96=87=E4=BB=B6external/chromium_org/cc/resource=
s/tile.cc=E4=B8=AD=E3=80=82<p></p><p>&nbsp; &nbsp; &nbsp; &nbsp;=E4=BB=8E=
=E5=89=8D=E9=9D=A2=E7=9A=84=E5=88=86=E6=9E=90=E5=8F=AF=E4=BB=A5=E7=9F=A5=E9=
=81=93=EF=BC=8C=E4=B8=80=E4=B8=AA=E5=88=86=E5=9D=97=E6=9C=89=E4=B8=A4=E4=B8=
=AATile Priority=EF=BC=8C=E5=88=86=E5=88=AB=E7=94=A8=E6=9D=A5=E6=8F=8F=E8=
=BF=B0=E5=88=86=E5=9D=97=E5=9C=A8CC Pending Layer Tree=E5=92=8CCC Active La=
yer Tree=E4=B8=AD=E7=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=E3=80=82=E5=8F=AA=E6=
=9C=89=E5=B1=9E=E4=BA=8ECC Pending Layer Tree=E7=9A=84=E5=88=86=E5=9D=97=E6=
=A0=87=E8=AE=B0=E4=B8=BARequired For Activation=E6=89=8D=E6=9C=89=E6=84=8F=
=E4=B9=89=EF=BC=8C=E5=9B=A0=E6=AD=A4Tile=E7=B1=BB=E7=9A=84=E6=88=90=E5=91=
=98=E5=87=BD=E6=95=B0MarkRequiredForActivation=E5=B0=86=E4=B8=80=E4=B8=AA=
=E5=88=86=E5=9D=97=E6=A0=87=E8=AE=B0=E4=B8=BARequired For Activation=EF=BC=
=8C=E5=AE=9E=E9=99=85=E4=B8=8A=E6=98=AF=E5=B0=86=E8=AF=A5=E5=88=86=E5=9D=97=
=E5=9C=A8CC Pending Layer Tree=E4=B8=AD=E7=9A=84Tile Priority=E6=A0=87=E8=
=AE=B0=E4=B8=BARequired For Activation=E3=80=82</p><p>&nbsp; &nbsp; &nbsp; =
&nbsp;=E8=87=B3=E6=AD=A4=EF=BC=8C=E6=88=91=E4=BB=AC=E5=B0=B1=E5=88=86=E6=9E=
=90=E5=AE=8C=E6=88=90=E4=BA=86CC&nbsp;Layer Tree=E5=90=8C=E6=AD=A5=E4=B8=BA=
CC Pending Layer Tree=E7=9A=84=E8=BF=87=E7=A8=8B=E3=80=82=E8=BF=99=E4=B8=AA=
=E5=90=8C=E6=AD=A5=E8=BF=87=E7=A8=8B=E6=98=AF=E7=94=B1Compositor=E7=BA=BF=
=E7=A8=8B=E6=89=A7=E8=A1=8C=E7=9A=84=EF=BC=8C=E4=BD=86=E6=98=AFMain=E7=BA=
=BF=E7=A8=8B=E4=BC=9A=E5=A4=84=E7=90=86=E7=9D=A1=E7=9C=A0=E7=8A=B6=E6=80=81=
=E3=80=82Compositor=E7=BA=BF=E7=A8=8B=E5=AE=8C=E6=88=90=E5=90=8C=E6=AD=A5=
=E6=93=8D=E4=BD=9C=E5=90=8E=EF=BC=8C=E5=B0=B1=E4=BC=9A=E5=94=A4=E9=86=92Mai=
n=E7=BA=BF=E7=A8=8B=EF=BC=8C=E8=AE=A9=E5=AE=83=E7=BB=A7=E7=BB=AD=E6=89=A7=
=E8=A1=8C=E5=85=B6=E5=AE=83=E7=9A=84=E5=B7=A5=E4=BD=9C=E3=80=82=E4=B8=8E=E6=
=AD=A4=E5=90=8C=E6=97=B6=EF=BC=8CCompositor=E7=BA=BF=E7=A8=8B=E4=B9=9F=E4=
=BC=9A=E4=B8=BA=E5=88=9A=E5=88=9A=E5=BE=97=E5=88=B0=E7=9A=84CC Pending Laye=
r Tree=E5=88=9B=E5=BB=BA=E5=88=86=E5=9D=97=EF=BC=8C=E4=BB=A5=E5=8F=8A=E7=BB=
=99=E8=BF=99=E4=BA=9B=E5=88=86=E5=9D=97=E8=AE=BE=E7=BD=AE=E4=BC=98=E5=85=88=
=E7=BA=A7=E5=92=8CRequired For Activation=E6=A0=87=E8=AE=B0=E3=80=82=E8=BF=
=99=E4=BA=9B=E5=B7=A5=E4=BD=9C=E5=AE=8C=E6=88=90=E4=B9=8B=E5=90=8E=EF=BC=8C=
=E8=B0=83=E5=BA=A6=E5=99=A8=E5=B0=B1=E5=8F=AF=E4=BB=A5=E8=AF=B7=E6=B1=82Com=
positor=E7=BA=BF=E7=A8=8B=E5=AF=B9CC Pending Layer Tree=E6=89=A7=E8=A1=8C=
=E5=85=89=E6=A0=85=E5=8C=96=E6=93=8D=E4=BD=9C=E4=BA=86=E3=80=82=E8=BF=99=E4=
=B8=AA=E5=85=89=E6=A0=85=E5=8C=96=E8=BF=87=E7=A8=8B=E6=88=91=E4=BB=AC=E5=9C=
=A8=E6=8E=A5=E4=B8=8B=E6=9D=A5=E7=9A=84=E4=B8=80=E7=AF=87=E6=96=87=E7=AB=A0=
=E4=B8=AD=E5=86=8D=E8=AF=A6=E7=BB=86=E5=88=86=E6=9E=90=EF=BC=8C=E5=B1=8A=E6=
=97=B6=E6=88=91=E4=BB=AC=E5=B0=86=E4=BC=9A=E7=9C=8B=E5=88=B0=E5=88=86=E5=9D=
=97=E7=9A=84=E4=BC=98=E5=85=88=E7=BA=A7=E5=92=8CRequired For Activation=E6=
=A0=87=E8=AE=B0=E6=98=AF=E5=A6=82=E4=BD=95=E8=A2=AB=E4=BD=BF=E7=94=A8=E7=9A=
=84=EF=BC=8C=E6=95=AC=E8=AF=B7=E5=85=B3=E6=B3=A8=EF=BC=81=E6=9B=B4=E5=A4=9A=
=E7=9A=84=E4=BF=A1=E6=81=AF=E4=B9=9F=E5=8F=AF=E4=BB=A5=E5=85=B3=E6=B3=A8=E8=
=80=81=E7=BD=97=E7=9A=84=E6=96=B0=E6=B5=AA=E5=BE=AE=E5=8D=9A=EF=BC=9A<a tar=
get=3D"_blank" href=3D"http://weibo.com/shengyangluo">http://weibo.com/shen=
gyangluo</a>=E3=80=82</p></div>
       =20
        <div id=3D"comment" class=3D"detailcomment">
            =E8=AF=84=E8=AE=BA=EF=BC=88<span id=3D"lbl_comment" class=3D"co=
lorhong">0</span>=EF=BC=89
        </div>
       =20
        <div id=3D"divpage" class=3D"page">
        </div>
       =20
    </div>
   =20
<div class=3D"bottom">
    <div class=3D"aligncenter">
        =C2=A9 2014 <a href=3D"http://m.mamicode.com/" title=3D"m.mamicode.=
com,=E6=8A=80=E6=9C=AF=E5=88=86=E4=BA=AB">mamicode.com</a>
        =E7=89=88=E6=9D=83=E6=89=80=E6=9C=89 <a href=3D"http://www.beian.mi=
it.gov.cn/" target=3D"_blank">=E4=BA=ACICP=E5=A4=8713008772=E5=8F=B7-2</a>
		&nbsp;=E8=81=94=E7=B3=BB=E6=88=91=E4=BB=AC:gaon5@hotmail.com
    </div>
    <div class=3D"aligncenter">
        =E8=BF=B7=E4=B8=8A=E4=BA=86=E4=BB=A3=E7=A0=81=EF=BC=81
    </div>
    <div class=3D"aligncenter">
       =20
	</div>
</div>




</body></html>
------MultipartBoundary--PI8I25fgUVo00l2DnggbgaHo2lTmLkHycOS5UHvccj----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: http://m.mamicode.com/css/style.css

@charset "utf-8";

* { font-family: "Microsoft YaHei"; margin: 0px auto; padding: 0px; color: =
rgb(17, 17, 17); }

body { padding: 5px; background-color: rgb(253, 253, 253); }

html { background-color: rgb(253, 253, 253); }

div { font-size: 12px; }

p { font-size: 12px; line-height: 1.2; }

a:link { text-decoration: none; }

a:visited { text-decoration: none; }

a:hover { text-decoration: none; }

a:active { text-decoration: none; }

a:hover { text-decoration: underline; }

.left { float: left; }

.right { float: right; }

.clear { clear: both; }

.alignleft { text-align: left; }

.aligncenter { text-align: center; }

.alignright { text-align: right; }

.cursorpointer { cursor: pointer; }

.top { display: table; max-width: 680px; border-bottom: 5px solid rgb(238, =
238, 238); padding-bottom: 5px; overflow: auto; }

.logo { display: table-cell; width: 100px; padding-right: 10px; }

.menu { display: table-cell; width: 100%; vertical-align: middle; }

.menu a { display: inline-block; padding: 2px 5px; font-size: 14px; }

.main { max-width: 680px; margin-top: 10px; }

.qtmain { margin: 20px 20px 0px; min-height: 230px; line-height: 30px; }

.title { margin-top: 20px; padding-bottom: 10px; font-size: 14px; font-weig=
ht: bold; letter-spacing: 1px; border-bottom: 1px solid rgb(238, 238, 238);=
 }

.titlemore { float: right; margin-top: 5px; font-size: 12px; color: rgb(150=
, 150, 150) !important; }

.list { margin-top: 10px; }

.listitem { padding: 10px 0px; border-bottom: 1px dotted rgb(238, 238, 238)=
; }

.listtitle { font-size: 14px; color: rgb(7, 93, 179); }

.listtitle a { font-size: 14px; color: rgb(7, 93, 179); font-weight: bold; =
overflow-wrap: break-word; }

.listzhaiyao { padding-top: 5px; line-height: 22px; overflow-wrap: break-wo=
rd; }

.listqt { padding-top: 5px; line-height: 25px; }

.navigation { margin-top: 5px; }

.detailtitle { text-align: center; padding: 20px 0px; font-size: 16px; colo=
r: rgb(7, 93, 179); table-layout: fixed; word-break: break-all; overflow-wr=
ap: break-word; }

.detailqt { text-align: center; padding: 10px 0px; border-top: 1px solid rg=
b(238, 238, 238); }

.detailcontent { text-align: left; margin: 20px 0px; line-height: 30px; tab=
le-layout: fixed; word-break: break-all; overflow-wrap: break-word; }

.detailcontent p { font-size: 14px; line-height: 30px; }

.detailcontent div { font-size: 14px; line-height: 30px; }

.detailcontent img { max-width: 100%; height: auto; }

.detailcontent pre { background-color: rgb(246, 246, 246); table-layout: fi=
xed; word-break: break-all; overflow-wrap: break-word; white-space: pre-wra=
p; }

.detailcontent li { table-layout: fixed; word-break: break-all; overflow-wr=
ap: break-word; }

.detailcomment { margin: 30px 0px 20px; padding-bottom: 10px; font-size: 16=
px; font-weight: bold; letter-spacing: 2px; border-bottom: 3px solid rgb(23=
8, 238, 238); }

.detailcommenttitle { background-color: rgb(230, 230, 230); margin: 10px 0p=
x 0px; padding: 10px 5px; overflow: auto; }

.detailcommentcontent { padding: 10px 0px; }

.detailcommentcontentfeedback { margin: 5px; border: 1px solid rgb(238, 238=
, 238); background-color: rgb(250, 250, 250); }

.detailcommentcontentfeedbacktitle { padding: 5px; background-color: rgb(24=
0, 240, 240); }

.detailcommentcontentfeedbackcontent { padding: 5px; }

.bottom { max-width: 680px; line-height: 25px; border-top: 5px solid rgb(23=
8, 238, 238); padding-top: 5px; }

.colorbai { color: rgb(255, 255, 255) !important; }

.colorhui { color: rgb(150, 150, 150) !important; }

.colorlan { color: rgb(16, 101, 231) !important; }

.colorhong { color: rgb(218, 70, 49) !important; }

.font12 { font-size: 12px; }

.font14 { font-size: 14px; }

.font16 { font-size: 16px; }

.font18 { font-size: 18px; }

.font20 { font-size: 20px; }

.fontbold { font-weight: bold; }

.w20 { width: 20%; }

.w70 { width: 70%; }

.w72 { width: 72%; }

.width100 { width: 100px; }

.width220 { width: 220px; }

.width300 { width: 300px; }

.width350 { width: 350px; }

.width650 { width: 650px; }

.margin5 { margin: 5px; }

.margin10 { margin: 10px; }

.margintop5 { margin-top: 5px; }

.margintop10 { margin-top: 10px; }

.margintop20 { margin-top: 20px; }

.margintop30 { margin-top: 30px; }

.margintop50 { margin-top: 50px; }

.marginbottom10 { margin-bottom: 10px; }

.marginbottom20 { margin-bottom: 20px; }

.marginbottom30 { margin-bottom: 30px; }

.marginbottom40 { margin-bottom: 40px; }

.marginbottom45 { margin-bottom: 45px; }

.marginbottom50 { margin-bottom: 50px; }

.marginleft80 { margin-left: 80px; }

.margintop5bottom5 { margin-top: 5px; margin-bottom: 5px; }

.margintop10bottom10 { margin-top: 10px; margin-bottom: 10px; }

.margintop20bottom20 { margin-top: 20px; margin-bottom: 20px; }

.paddingtop5 { padding-top: 5px; }

.paddingtop20 { padding-top: 20px; }

.paddingtop5bottom5 { padding-top: 5px; padding-bottom: 5px; }

.paddingleft10right25 { padding-left: 10px; padding-right: 25px; }

.heightline20px { line-height: 20px; }

.heightline25px { line-height: 25px; }

.heightline30px { line-height: 30px; }

.page { text-align: center; margin: 30px 0px; }

.page div { margin: 20px 0px 30px; }

.page #prepage { float: left; padding: 5px 23px 5px 20px; }

.page #nextpage { float: right; padding: 5px 23px 5px 20px; }

.page a { margin: 0px 3px 0px 2px; padding: 5px 7px; border: 1px solid rgb(=
121, 183, 231); border-radius: 5px; }

.page a:hover { border: 1px solid rgb(245, 211, 124); background-color: rgb=
(253, 244, 222); }

.page span { padding: 0px 5px 0px 6px; color: rgb(218, 70, 49); font-size: =
16px; font-weight: bold; }
------MultipartBoundary--PI8I25fgUVo00l2DnggbgaHo2lTmLkHycOS5UHvccj----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: http://m.mamicode.com/js/kindeditor/plugins/code/prettify.css

@charset "utf-8";

.pln { color: rgb(0, 0, 0); }

@media screen {
  .str { color: rgb(0, 136, 0); }
  .kwd { color: rgb(0, 0, 136); }
  .com { color: rgb(136, 0, 0); }
  .typ { color: rgb(102, 0, 102); }
  .lit { color: rgb(0, 102, 102); }
  .pun, .opn, .clo { color: rgb(102, 102, 0); }
  .tag { color: rgb(0, 0, 136); }
  .atn { color: rgb(102, 0, 102); }
  .atv { color: rgb(0, 136, 0); }
  .dec, .var { color: rgb(102, 0, 102); }
  .fun { color: red; }
}

@media print, projection {
  .str { color: rgb(0, 102, 0); }
  .kwd { color: rgb(0, 0, 102); font-weight: bold; }
  .com { color: rgb(102, 0, 0); font-style: italic; }
  .typ { color: rgb(68, 0, 68); font-weight: bold; }
  .lit { color: rgb(0, 68, 68); }
  .pun, .opn, .clo { color: rgb(68, 68, 0); }
  .tag { color: rgb(0, 0, 102); font-weight: bold; }
  .atn { color: rgb(68, 0, 68); }
  .atv { color: rgb(0, 102, 0); }
}

pre.prettyprint { padding: 2px; border: 1px solid rgb(136, 136, 136); }

ol.linenums { margin-top: 0px; margin-bottom: 0px; }

li.L0, li.L1, li.L2, li.L3, li.L5, li.L6, li.L7, li.L8 { list-style-type: n=
one; }

li.L1, li.L3, li.L5, li.L7, li.L9 { background: rgb(238, 238, 238); }

pre.prettyprint { border-width: 0px 0px 0px 3px; border-top-style: initial;=
 border-right-style: initial; border-bottom-style: initial; border-top-colo=
r: initial; border-right-color: initial; border-bottom-color: initial; bord=
er-image: initial; border-left-style: solid; border-left-color: rgb(204, 20=
4, 204); padding: 0.5em; font-size: 110%; display: block; font-family: Cons=
olas, Monaco, "Bitstream Vera Sans Mono", "Courier New", Courier, monospace=
; margin: 1em 0px; background-color: rgb(246, 246, 246); table-layout: fixe=
d; word-break: break-all; overflow-wrap: break-word; white-space: pre-wrap;=
 }
------MultipartBoundary--PI8I25fgUVo00l2DnggbgaHo2lTmLkHycOS5UHvccj----
Content-Type: image/png
Content-Transfer-Encoding: base64
Content-Location: http://m.mamicode.com/img/logo.png

iVBORw0KGgoAAAANSUhEUgAAAFoAAAAyCAYAAADcD8w1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA
BGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VG
AAAJmUlEQVR42mK85WbIMAiAARALIPEPMAwjoLrzHANAADENkN2gQE0A4vVA/B+IzwPxfiR8H4gD
Bmm4BSC5U4FYTQABxEJnR4IcVg8NZELqQJGgCMQPBlEgg9w9Hy3QJxCjESCA6Jmi+6EpNYHE1DOY
UvJ8NLELSIEPS+UF2DQDBBALnYqJ/dBymFTATwO3BEDpDSTmFn0sYuvR6hYQcIC6uxFZECCAKEnR
DlBsQERKxqXmAxAvAOJAIBYkNhtSUOHeh6Y+WO6qx1N09UPrDgeoWCMJEXMQXQAggFhILJ/8oRaj
x2IiNMCweQ5bUQFKTQuhNHrAI4OHVAzo+Vjc3QB1xwM0f/ZjUauApfI7gKV4+4Ct1QQQQMQEtALU
kQ4EUu0FKEbPquipdyKelBGAxSPUTNG4/PcALSULoBUPjVgSAQOOQA7EZglAALEQkYqxxS62sg/W
SkAPqESoRwgFWgBaYHygQ4sD3V0BWPwK4sdjyX3o5jRC1WCLEAaAAGIikJKJCWRCYAGOQHZA88x8
tEB2pEGgorcYHImsfA/gydELoAlsAa5ABgGAAMIX0PEkBPIFXFkGCwBVQO+hLZH/0Mjcj2ZXIpZi
iJoBDYtI9MD/iKfSNsCTE/9D8X1c6gACCF/RcREtRi8g9ejQPeCILzbRArkBTayAmMqEymV0IQ73
grK+PJJa2NBAA4FiE7kUwAoAAghfQG+ANrk+IBlyHou6QCID2YCAgwkFAiWgAC1ANuBJuRvxlNfE
ttUxAEAAEaoMP6BVdgJoxQUpWXw+EWpwNRMpTcn1aIH8gYjuNTngAq4KHCCAWIiMIfSeHSnFBcwT
BgMQyAxYKvSNOPxISSBvgHZScHa4AAKIhYxAJqW4QC6b0R2G7PmJBJpPlPZeCbXNyW1ZNUAjjmCu
BgggQgGNLZAbSGwRBKBVEgugqRdXxCJXRB9wdISIBflYisIHOFokDUTWIehtZ6IAQACxEChT0QN5
AjQGHZDKJEIpOx6NPxEtxdkjjZkI4PHURDLGQhywlKG4QCOS3/hxVKLoblJAagYbQHPLRGxhAhBA
LHjKVGzNuAQszbEJ0JYCAxHd6gdQj/QT6NLj6jzxk5KKsAQSoZyBnHv2EyhSYK0wAbSIDcBWfwEE
EBOOWrofh8ECOJpO9USOLyiQEcjoxZYCBWU2sfXKfCLciCs8DLDpBQggJiJHuUjNopRWMoQ8SG7A
fiSyzZ1ARAQdIKVMBwggJiytAwMyPb+fgbTZE3yBA/MEpYNKB4gcy0Au5vqxjGUY4inXsRU/GC0o
gABiIrHn9gBaHhuixbICNFVfICOrHoCW84lQcwWhZVwjDg+S0j0npbVigKUtDWsh4YvwCQQGqsAA
IICYiOy5fYBaqAhlY6soHmDx2AUsLYUHSKn2AFoRQyiiKB1owlfEoReZDXiaoehDBobQAMbZiQMI
IBak3pMBkufQxwUSkSIDV/GwAEeR8hBqhgPUXAUcnk6ABvwDPAGzgQoBrYAlhdaj+T+RRLsIJgCA
AGKClksFSNmgEUflg68M/oDUPhaAmgdq+tyHRiIxAzQfcAQAMlhIYsBuJKKX6oDk/wXQXEtMIJPk
FoAAYoIGwAOoJYVYPGsAHVAyINDY/wAN0PsM+CdkcZXThlhSuANajiG1csQ2yIPeRzBAKhYT8dQr
H9DcQtK4DEAAMSItCUPOUudJCChYheEATfWkdGFhk7QXCIykfUCqH0gFBTj6BQ24enE4wHpoQsI1
hABrEPgj5V6Q3xaAloQBBBAjjrV3sE7LBWj282fAPkCPXNTUE2i1HICad5HA+AW2gDGkoCIEefo9
AXehz4QfwBEm69FaXLDOSTyehBkIDOgNAAHEgifLOaJZfBEa4B+g7AVoqWEhUpkHGww6iGc8xACa
CuyhKfgC2qASDFA6rfWBwICRA47WyAMsxc4HBsS4vAGRdoPdDhBAjAO4mnQ+gQ4OyJOBDNSZOySU
qmkBDkDrvAugogMggAZqNSmuFgFy+WnIQL0J2g909tsDaIkAdz9AAA1kQOtjcVwDtNJrpEHgNNDB
T7AOGsaKAIAAYhnAgIZ1ZA4iVZS0BI3QegRUHsujdYgcyMwlF5DqrwP4EgdAADEOkhX/gwEgV3D2
ONRcRApgonMcqIwGCCDG////jwYxHQBAADGNBgF9AEAAjQY0nQBAAI0GNJ0AQAANu4AWTHvhAMQJ
g81dAAHENIABUgDEtOit2TNgLnEYcAAQQAPZjj4wkooOgABiAaYqA2ivzACaGg6+nyVxACiuAE0Z
F4H8DUgpEbazCdTofwiUW4CcbaF6E6DyC4H8ByBxqNkbgfwLSD3BC2ipHGYnaLZ6A0gvkp0gM/nR
3QOzF+Z2HLknANoTfQg19wOenAZzO7q/FZByCtwfUHEYiIeFCZKbGYD8CQABBCo6YAvB66GN9v1A
RSA2bA5tPlqZdx6pQV8PlFuPJAfSC5MHRdx5qFmgpVkKUD7MYQYMSOPX0MC6D7VTHiYHTQj3kbrs
/ch2Qs2H8TE2iwLl5zMgZlXioW4UwBHI+xkQy8jyQcUbUuDDFsvAwqgA2UwkN/RD7VwPTRggc+YD
BBCs6HgADPVAtNRjCIp5IB9mGCzlOiKltItIFsAAKBVPgMqDV8AjmW0ANQvbND3IgxOAaguhaici
BR4oFSYiib8HpVJoigONYQRC2Y3QwGJAss8B5heoPGz78wK0QIapFURSC0sUoMRYCMu9QHFQzlkP
pJHNcISG10NoIgXZeQEWRgABxII0GII8uPMAKXuhZDNoUQDLigo4BlYYcBQP+LqtsKVUcHtwiIM8
Ayrf9YH0B6jYBrSyHzZ2AZvtWA9NMAxIOQYdgNQeQC5WkIo9AeQiEmQf1DwDpIT6AcnPDEhFJFgc
IIBIrgyhRcOHIVSZPcCSgy7Q2xEAAcRCYiA7QGNREJqyHBioszqJAalCPoBPHFq0gfjw/YqgbI+U
gpBzGSgbK4AqaBz+MUBKjQ8ZsM+aYNgB9TcswuyJ8RxAALGQERggkAC07AED5vpjSsACaOUKs6Me
6DFDaIDWQ4sJmJ0PYMUFtBgBVdiF0OxvgFREbUCqsCciFRELoYF2HlrGw/YIwiqyhbAABKoDldUb
oHYgz49OQKrDCAKAAGKCGorcLDrIgLpmAc6HlpuBUMeCcCID6oB6AwPqPBu62cj8B8h6QR6Cejgf
ucKEVqywQKxnwJzPhE131TMgdq7C3AviG0Ltqofih0huBJm7EUmtI1JACiBFTiLUzHwongirtLGE
1wO0MAHzAQIMAG5dHm8yCaD8AAAAAElFTkSuQmCC

------MultipartBoundary--PI8I25fgUVo00l2DnggbgaHo2lTmLkHycOS5UHvccj------
